!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var parentJsonpFunction=window.webpackJsonp;window.webpackJsonp=function(chunkIds,moreModules){for(var moduleId,chunkId,i=0,callbacks=[];i<chunkIds.length;i++)chunkId=chunkIds[i],installedChunks[chunkId]&&callbacks.push.apply(callbacks,installedChunks[chunkId]),installedChunks[chunkId]=0;for(moduleId in moreModules)modules[moduleId]=moreModules[moduleId];for(parentJsonpFunction&&parentJsonpFunction(chunkIds,moreModules);callbacks.length;)callbacks.shift().call(null,__webpack_require__);if(moreModules[0])return installedModules[0]=0,__webpack_require__(0)};var installedModules={},installedChunks={11:0};__webpack_require__.e=function(chunkId,callback){if(0===installedChunks[chunkId])return callback.call(null,__webpack_require__);if(void 0!==installedChunks[chunkId])installedChunks[chunkId].push(callback);else{installedChunks[chunkId]=[callback];var head=document.getElementsByTagName("head")[0],script=document.createElement("script");script.type="text/javascript",script.charset="utf-8",script.async=!0,script.src=__webpack_require__.p+""+chunkId+"."+({0:"cki",1:"fl-cn",2:"fl-tw",3:"fl-ja",4:"fl-fr",5:"fl-ru",6:"fl-it",7:"fl-de",8:"fl-en",9:"f",10:"r"}[chunkId]||chunkId)+".js?v="+{0:"4c402cd9f3ba5d5c2a8d",1:"52e984aefea6e252e217",2:"ce64950480e38689272d",3:"d6a1c38f872a89295d66",4:"ac8a0056eec889398376",5:"5c91322f7fb640809bde",6:"9c0c9fb6b46f6f8a8602",7:"67178e6912772b9bdc1f",8:"9030f767ccb9c7d78836",9:"685f8e8beb185facf676",10:"45ca8a7eb1da51f87074"}[chunkId],head.appendChild(script)}},__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="./form/js/"}([,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(1)},function(module,exports){module.exports=commons},function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(298)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(312)},function(module,exports){"use strict";var _CDN_LOCATION_TENCENT="cdnq1.mikecrm.com";module.exports={CDN_PATH:"http://"+_CDN_LOCATION_TENCENT+"/",CDN_PATH_WITHOUT_PROTOCOL:"//"+_CDN_LOCATION_TENCENT+"/",CDN_URL:_CDN_LOCATION_TENCENT+"/"}},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(313)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _changeFormLang(langCode,cb){if(CURRENT_LANG!==langCode&&langCode)switch(langCode){case"cn":__webpack_require__.e(1,function(require){var _cnLang=__webpack_require__(13);_lodash2["default"].forEach(_cnLang,function(info,key){_currentLang[key]=info}),cb&&cb(),CURRENT_LANG="cn"});break;case"tw":__webpack_require__.e(2,function(require){var _twLang=__webpack_require__(15);_lodash2["default"].forEach(_twLang,function(info,key){_currentLang[key]=info}),cb&&cb(),CURRENT_LANG="tw"});break;case"ja":__webpack_require__.e(3,function(require){var _jaLang=__webpack_require__(16);_lodash2["default"].forEach(_jaLang,function(info,key){_currentLang[key]=info}),cb&&cb(),CURRENT_LANG="ja"});break;case"fr":__webpack_require__.e(4,function(require){var _frLang=__webpack_require__(17);_lodash2["default"].forEach(_frLang,function(info,key){_currentLang[key]=info}),cb&&cb(),CURRENT_LANG="fr"});break;case"ru":__webpack_require__.e(5,function(require){var _frLang=__webpack_require__(18);_lodash2["default"].forEach(_frLang,function(info,key){_currentLang[key]=info}),cb&&cb(),CURRENT_LANG="ru"});break;case"it":__webpack_require__.e(6,function(require){var _itLang=__webpack_require__(19);_lodash2["default"].forEach(_itLang,function(info,key){_currentLang[key]=info}),cb&&cb(),CURRENT_LANG="it"});break;case"de":__webpack_require__.e(7,function(require){var _deLang=__webpack_require__(20);_lodash2["default"].forEach(_deLang,function(info,key){_currentLang[key]=info}),cb&&cb(),CURRENT_LANG="de"});break;case"en":default:__webpack_require__.e(8,function(require){var _enLang=__webpack_require__(21);_lodash2["default"].forEach(_enLang,function(info,key){_currentLang[key]=info}),cb&&cb(),CURRENT_LANG="en"})}else cb&&cb()}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_langConfig=__webpack_require__(10),_langConfig2=_interopRequireDefault(_langConfig),_MGIntl=__webpack_require__(12),_MGIntl2=_interopRequireDefault(_MGIntl),l=_langConfig2["default"].lang,CURRENT_LANG=_langConfig2["default"].CURRENT_LANG;_MGIntl2["default"].preferCulture(CURRENT_LANG);var _currentLang={};_lodash2["default"].forEach(l,function(info,key){_currentLang[key]=info}),exports["default"]={currentLang:CURRENT_LANG,lang:_currentLang,changeFormLang:_changeFormLang,INPUT_TYPING_TYPE:{website:"url",mobile:"tel",tel:"tel",fax:"tel",whatsApp:"tel",viber:"tel",email:"email",twitter:"email",instagram:"email",mkGooglePlus:"email"}},module.exports=exports["default"]},function(module,exports,__webpack_require__){module.exports=__webpack_require__(11)(1)},function(module,exports){module.exports=formLang},function(module,exports){"use strict";function _left_pad(source,str,num){var r="";if(source=""+source,str=""+str,!num)return source;var loopNum=num-source.length;if(loopNum<=0)return source;for(;;){if(1===(1&loopNum)&&(r+=str),loopNum>>>=1,0===loopNum)break;str+=str}return r+source}function getNumberSymbol(lang){try{return SUPPORT_INTL?POINT===1.1.toLocaleString(lang).substring(1,2)?_COMMON_SYMBOL:_EUR_SYMBOL:COMMA_TYPE_LIST.indexOf(lang)===-1?_COMMON_SYMBOL:_EUR_SYMBOL}catch(e){return _COMMON_SYMBOL}}function matchSymbol(str){return str.match(/[\.,]/g)||[]}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},langMapping={fr:"fr-FR",de:"de-DE",ja:"ja",cn:"zh",tw:"zh",en:"en-US",ru:"ru-Latn",it:"it"},currencyTypeMapping={fr:"EUR",de:"EUR",ja:"JPY",cn:"CNY",tw:"TWD",en:"USD",ru:"RUB",it:"EUR"},currencyPositionMapping={fr:-1,de:-1,ja:1,cn:1,tw:1,en:1,ru:-1,it:-1},currencySymbolMapping={EUR:["€","€"],JPY:["¥","JP¥"],TWD:["NT$","NT$"],CNY:["￥","CNY"],RUB:["₽","RUB"],USD:["$","$"]},NAVIGATOR_LANG=navigator.language?navigator.language:navigator.userLanguage,SUPPORT_INTL=!("object"!==("undefined"==typeof Intl?"undefined":_typeof(Intl))||!Intl||"function"!=typeof Intl.NumberFormat),COMMA_TYPE_LIST=["fr","fr-FR","fr-BE","fr-CA","fr-CH","fr-LU","it","it-CH","ru","ru-Latn","ru-MI","de","de-DE","de-CH","de-AT","de-LU","de-LI"],POINT=".",COMMA=",",_COMMON_SYMBOL={decimal:POINT,group:COMMA},_EUR_SYMBOL={decimal:COMMA,group:POINT},_lang=langMapping[NAVIGATOR_LANG],_RAW_lang=NAVIGATOR_LANG,_properties=_extends({decimal:".",group:","},getNumberSymbol(_lang),{currency:currencyTypeMapping[_lang]||"USD"});exports["default"]={preferCulture:function(lang){_RAW_lang=lang,_lang=langMapping[lang]?langMapping[lang]:lang,_properties=_extends({},_properties,getNumberSymbol(_lang),{currency:currencyTypeMapping[lang]||"USD"})},getProperties:function(){return _extends({},_properties,{isPrefix:currencyPositionMapping[_RAW_lang]>0})},localeNumberFormatter:function(number,minimumFractionDigits,maximumFractionDigits){var withGroup=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],_isFloat=(""+number).indexOf(".")>-1,_num=parseFloat(number,10);if(_isFloat||(_num=Math.round(_num)),isNaN(_num))return number;if(!isFinite(number))return""+number;var _res=_num,_strNum=""+(_num||0);if(/e\+/.test(_strNum)){var _strNum$split=_strNum.split("e+"),_strNum$split2=_slicedToArray(_strNum$split,2),_pre=_strNum$split2[0],_len=_strNum$split2[1],_preDecimalIdx=_pre.indexOf("."),_prefix="";if(+_pre<0&&(_prefix="-"),_preDecimalIdx>-1){var _num2=_pre.length-1-_preDecimalIdx;_strNum=_prefix+_num2.replace(".","")+_left_pad("",0,_len-_num2)}}else if(/e-/.test(_strNum)){var _strNum$split3=_strNum.split("e-"),_strNum$split4=_slicedToArray(_strNum$split3,2),_pre2=_strNum$split4[0],_len2=_strNum$split4[1],_prefix2="";+_pre2<0&&(_prefix2="-"),_strNum=_prefix2+"0."+_left_pad("",0,_len2-1)+_pre2.replace(".","")}_res="";var _strNum$split5=_strNum.split("."),_strNum$split6=_slicedToArray(_strNum$split5,2),_strNum$split6$=_strNum$split6[0],integer=void 0===_strNum$split6$?"":_strNum$split6$,_strNum$split6$2=_strNum$split6[1],decimal=void 0===_strNum$split6$2?"":_strNum$split6$2;if(decimal){var testDecimal=parseFloat("0."+decimal);testDecimal<=1e-9?decimal="":testDecimal>=.999999999&&(integer=""+Math.round(+integer+1),decimal="")}for(var _integerLength=integer.length;_integerLength>3;)_res=_properties.group+integer.slice(-3)+_res,integer=integer.slice(0,_integerLength-3),_integerLength=integer.length;return integer&&(_res=integer+_res),maximumFractionDigits&&!isNaN(+maximumFractionDigits)&&(decimal=(decimal||"").slice(0,+maximumFractionDigits)),minimumFractionDigits&&!isNaN(+minimumFractionDigits)&&+minimumFractionDigits>decimal.length&&(decimal+=_left_pad("",0,+minimumFractionDigits-decimal.length)),0===maximumFractionDigits&&0===minimumFractionDigits&&(decimal=""),_res+=decimal?_properties.decimal+decimal:"",_res.replace(new RegExp("\\"+_properties.group,"g"),withGroup?" ":"")},localeCurrencyFormatter:function(number,minimumFractionDigits,maximumFractionDigits,currency){currency||(currency=_properties.currency);var _num=+number;if(isNaN(_num))return number;if(!isFinite(_num))return""+_num;if(SUPPORT_INTL){var _ext={currency:currency,style:"currency"};_.isNumber(minimumFractionDigits)&&(_ext.minimumFractionDigits=minimumFractionDigits),_.isNumber(maximumFractionDigits)&&(_ext.maximumFractionDigits=maximumFractionDigits),_.isEmpty(_ext)&&(_ext=void 0);var _numberFormatter=new Intl.NumberFormat(_lang,_ext);return _numberFormatter.format(_num).replace(new RegExp("\\"+_properties.group,"g")," ")}var _prefix="",_suffix="";if(currency){var _p=currencyTypeMapping[_RAW_lang]!==currency?1:0;currencyPositionMapping[_RAW_lang]>0?_prefix=currencySymbolMapping[currency][_p]:_suffix=" "+currencySymbolMapping[currency][_p]}return _prefix+this.localeNumberFormatter(number,minimumFractionDigits,maximumFractionDigits)+_suffix},localeStringToNumber:function(str){str=""+str;var _isFloat=str.indexOf(".")>-1,_decimalLen=_isFloat?str.split(".")[1].length:0,_num=0;if(COMMA_TYPE_LIST.indexOf(_lang)>-1||_properties.decimal===COMMA)if(matchSymbol(str).length>1){var _numStr=str.replace(/\s/g,"").replace(new RegExp("\\"+_properties.group,"g"),"").replace(new RegExp("\\"+_properties.decimal,"g"),POINT);_num=+_numStr}else{var _numStr2=str.replace(/\s/g,"").replace(/[\.,]/g,POINT);_num=+_numStr2}else _num=+str.replace(/\s|,/g,"");if(isNaN(_num)||!isFinite(_num))return NaN;var _fixer=_isFloat?Math.pow(10,_decimalLen):1;return _num=Math.round(_num*_fixer)/_fixer}},module.exports=exports["default"]},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(316)},,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(315)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(467)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var cache=function(){function _findExist(arr,key){for(var len=arr.length;len--;)if(arr[len]===key)return!0;return!1}function _removeElems(arr,key){return arr.filter(function(val){return val!==key})}function checkExpired(){var _newCachePlaceInfo,_cacheMapping,_cachePlaceInfo,_now=(new Date).getTime();_isLocalStorage?(_cacheMapping=JSON.parse(_localStorage.getItem(__cacheMapping)||"{}"),_cachePlaceInfo=_cacheMapping[_cachePlace]||"",_cachePlaceInfo=_cachePlaceInfo.split(","),_newCachePlaceInfo=[],_cachePlaceInfo.forEach(function(item){_cache.get(item,!0)-_now<0?(_cache.remove(item),_localStorage.removeItem(_cachePlace+item+"_time")):_newCachePlaceInfo.push(item)}),Object.keys(_localStorage).forEach(function(itemKey){var _matchInfo=itemKey.match(new RegExp("^"+_cachePlace+"(FR_.*?_)"));_matchInfo&&_cachePlaceInfo.indexOf(_matchInfo[1])===-1&&(_cache.remove(_matchInfo[1]),_localStorage.removeItem(_cachePlace+_matchInfo[1]+"_time"))}),_cacheMapping[_cachePlace]=_newCachePlaceInfo.join(","),_localStorage.setItem(__cacheMapping,JSON.stringify(_cacheMapping))):_isUserData&&(_dataDom.load(__cacheMapping),_cacheMapping=_dataDom.getAttribute(_cachePlace)||"",_cachePlaceInfo=_cacheMapping.split(","),_newCachePlaceInfo=[],_cachePlaceInfo.forEach(function(item){_cache.get(item,!0)-_now<0?(_cache.remove(item),_dataDom.load(_cachePlace),_dataDom.removeAttribute(item+"_time"),_dataDom.save(_cachePlace)):_newCachePlaceInfo.push(item)}),_cacheMapping=_newCachePlaceInfo.join(","),_dataDom.setAttribute(_cachePlace,_cacheMapping),_dataDom.save(__cacheMapping))}function _cacheInit(){if(!_dataDom&&!_isLocalStorage){try{_dataDom=document.createElement("input"),_dataDom.type="hidden",_dataDom.style.display="none",_dataDom.addBehavior("#default#userData"),document.body.appendChild(_dataDom);var expiresDate=new Date;expiresDate.setDate(expiresDate.getDate()+30),_dataDom.expires=expiresDate.toUTCString()}catch(error){return!1}return!0}}var _dataDom=null;try{var _localStorage=window.localStorage,_isLocalStorage=!!_localStorage;window.localStorage.test="test"}catch(_){_isLocalStorage=!1}_isLocalStorage&&_localStorage.removeItem("test");var _isUserData,hostName=(window.location.hostname||"").split(".");hostName[0]="",hostName=hostName.join("");var _cachePlace,__cacheMapping="cmp";isNaN(+hostName)||(hostName="lc"+hostName),_cachePlace=hostName?hostName:"localStatus";var _cache={setConstrains:function(constrainsString){_cachePlace+=constrainsString,window.setTimeout(function(){checkExpired()},1e3)},get:function(key,time){var _cacheMapping,_hasValue;if(_isLocalStorage){_cacheMapping=JSON.parse(_localStorage.getItem(__cacheMapping)||"{}");var _cachePlaceInfo=_cacheMapping[_cachePlace]||"";return _cachePlaceInfo=_cachePlaceInfo.split(","),_hasValue=_findExist(_cachePlaceInfo,key),!!_hasValue&&_localStorage.getItem(_cachePlace+key+(time?"_time":""))}if(_isUserData)return _dataDom.load(__cacheMapping),_cacheMapping=_dataDom.getAttribute(_cachePlace)||"",_cacheMapping=_cacheMapping.split(","),_hasValue=_findExist(_cacheMapping,key),!!_hasValue&&(_dataDom.load(_cachePlace),_dataDom.getAttribute(key+(time?"_time":"")))},set:function(key,value){var _cacheMapping,_tempPlaceObj={},_currentDate=new Date,_expiredDate=_currentDate.setDate(_currentDate.getDate()+30);if(_isLocalStorage){_cacheMapping=JSON.parse(_localStorage.getItem(__cacheMapping)||"{}");var _cachePlaceInfo=_cacheMapping[_cachePlace]||"";_cachePlaceInfo=_cachePlaceInfo.split(","),_cachePlaceInfo.push(key),_cachePlaceInfo.forEach(function(v){_tempPlaceObj[v]=1}),_cachePlaceInfo=Object.keys(_tempPlaceObj),_cachePlaceInfo=_cachePlaceInfo.join(","),_cacheMapping[_cachePlace]=_cachePlaceInfo,_localStorage.setItem(__cacheMapping,JSON.stringify(_cacheMapping)),_localStorage.setItem(_cachePlace+key,value),_localStorage.setItem(_cachePlace+key+"_time",_expiredDate)}else _isUserData&&(_dataDom.load(__cacheMapping),_cacheMapping=_dataDom.getAttribute(_cachePlace)||"",_cacheMapping=_cacheMapping.split(","),_cacheMapping.push(key),_cacheMapping.forEach(function(v){_tempPlaceObj[v]=1}),_cacheMapping=Object.keys(_tempPlaceObj),_cacheMapping=_cacheMapping.join(","),_dataDom.setAttribute(_cachePlace,_cacheMapping),_dataDom.save(__cacheMapping),_dataDom.load(_cachePlace),_dataDom.setAttribute(key.replace(/\(|\)/g,"_"),value),_dataDom.setAttribute(key.replace(/\(|\)/g,"_")+"_time",_expiredDate),_dataDom.save(_cachePlace))},remove:function(key){var _cacheMapping,_hasValue;if(_isLocalStorage){_cacheMapping=JSON.parse(_localStorage.getItem(__cacheMapping)||"{}");var _cachePlaceInfo=_cacheMapping[_cachePlace]||"";return _cachePlaceInfo=_cachePlaceInfo.split(","),_hasValue=_findExist(_cachePlaceInfo,key),_hasValue&&(_cachePlaceInfo=_removeElems(_cachePlaceInfo,key),_cacheMapping[_cachePlace]=_cachePlaceInfo.join(","),_localStorage.setItem(__cacheMapping,JSON.stringify(_cacheMapping)),_localStorage.removeItem(_cachePlace+key),_localStorage.removeItem(_cachePlace+key+"_time")),!0}if(_isUserData)return _dataDom.load(__cacheMapping),_cacheMapping=_dataDom.getAttribute(_cachePlace)||"",_cacheMapping=_cacheMapping.split(","),_hasValue=_findExist(_cacheMapping,key),_hasValue&&(_cacheMapping=_removeElems(_cacheMapping,key),_cacheMapping.length>0?_dataDom.setAttribute(_cachePlace,_cacheMapping.join(",")):_dataDom.removeAttribute(_cachePlace),_dataDom.save(__cacheMapping),_dataDom.load(_cachePlace),key&&(_dataDom.removeAttribute(key.replace(/\(|\)/g,"_")),_dataDom.removeAttribute(key.replace(/\(|\)/g,"_")+"_time")),_dataDom.save(_cachePlace)),!0},clear:function(){var _cacheMapping;if(_isLocalStorage){_cacheMapping=JSON.parse(_localStorage.getItem(__cacheMapping)||"{}");var _cachePlaceInfo=_cacheMapping[_cachePlace]||"";return _cachePlaceInfo=_cachePlaceInfo.split(","),delete _cacheMapping[_cachePlace],_localStorage.setItem(__cacheMapping,JSON.stringify(_cacheMapping)),_cachePlaceInfo.forEach(function(key){_localStorage.removeItem(_cachePlace+key),_localStorage.removeItem(_cachePlace+key+"_time")}),!0}if(_isUserData)return _dataDom.load(__cacheMapping),_cacheMapping=_dataDom.getAttribute(_cachePlace)||"",_cacheMapping=_cacheMapping.split(","),_dataDom.removeAttribute(_cachePlace),_dataDom.save(__cacheMapping),_dataDom.load(_cachePlace),_cacheMapping.forEach(function(key){_dataDom&&key&&(_dataDom.removeAttribute(key),_dataDom.removeAttribute(key.replace(/\(|\)/g,"_")+"_time"))}),_dataDom.save(_cachePlace),!0}};return _isUserData=_cacheInit(),_cache}();exports["default"]=cache,module.exports=exports["default"]},function(module,exports,__webpack_require__){(function(global){"use strict";function AJAX_ABORT(url){var settings=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},port="wsMG"+(settings.port||"mgajax_"+url+(settings.abortKey||""))+("pending"===settings.mode?settings.queueKey||"":"");pendingRequests[port]&&pendingRequests[port].abort()}var $=__webpack_require__(22),Util=__webpack_require__(26),jQuery=global.jQuery=global.$=$,_today=new Date,legalCookie={a:new Date(_today-0+31536e6).toUTCString(),t:new Date(_today-0+31536e6).toUTCString(),ap:new Date(_today-0+31536e6).toUTCString(),n:new Date(_today-0+31536e6).toUTCString(),_ga:new Date(_today-0+63072e6).toUTCString(),lang:new Date(_today-0+31536e6).toUTCString(),uvi:new Date(_today-0+126144e6).toUTCString(),wxoaid:new Date(_today-0+31536e6).toUTCString(),fcdnex:new Date(_today-0+864e5).toUTCString(),PHPSESSID:"SESSION"},_DOMAIN=".mikecrm.com",pendingRequests=[],AJAX=function(_$){var ajax=_$.ajax,synced=[],syncedData=[],ajaxRunning=[];return _$.ajax=function(settings){var deferred=$.Deferred(),promise=deferred.promise();settings=jQuery.extend(settings,jQuery.extend({},jQuery.ajaxSettings,settings));var port="wsMG"+(settings.port||"mgajax_"+settings.url+(settings.abortKey||""));switch(settings.mode){case"abort":return pendingRequests[port]&&pendingRequests[port].abort(),pendingRequests[port]=ajax.apply(this,arguments);case"pending":var portWithQueueKey=port+(settings.queueKey||"");pendingRequests[portWithQueueKey]&&pendingRequests[portWithQueueKey].abort&&pendingRequests[portWithQueueKey].abort();var _currentQ=[].concat(jQuery([ajax]).queue("ajax"+port));jQuery([ajax]).queue("ajax"+port,(_currentQ||[]).map(function(callback){return callback.Q===portWithQueueKey?callback.bind({abort:!0}):callback})),promise.success=promise.done,promise.error=promise.fail,promise.complete=promise.always;var _old=settings.complete;settings.complete=function(){_old&&_old.apply(this,arguments),jQuery([ajax]).queue("ajax"+port).length>0?jQuery([ajax]).dequeue("ajax"+port):ajaxRunning[port]=!1};var that=this,_queue=function(portWithQueueKey){return function(){if(!this.abort){var jqAjax=pendingRequests[portWithQueueKey]=ajax(settings);return jqAjax.done(function(){deferred.resolve.apply(that,arguments)}),jqAjax.fail(function(){deferred.reject.apply(that,arguments)}),jqAjax}jQuery([ajax]).queue("ajax"+port).length>0?jQuery([ajax]).dequeue("ajax"+port):ajaxRunning[port]=!1}}(portWithQueueKey);return _queue.Q=""+portWithQueueKey,jQuery([ajax]).queue("ajax"+port,_queue),1!=jQuery([ajax]).queue("ajax"+port).length||ajaxRunning[port]||(ajaxRunning[port]=!0,jQuery([ajax]).dequeue("ajax"+port)),promise;case"queue":port=(settings.portKey?settings.portKey:port)+(settings.queueKey||""),promise.success=promise.done,promise.error=promise.fail,promise.complete=promise.always;var _old=settings.complete;return settings.complete=function(){_old&&_old.apply(this,arguments),jQuery([ajax]).queue("ajax"+port).length>0?jQuery([ajax]).dequeue("ajax"+port):ajaxRunning[port]=!1},jQuery([ajax]).queue("ajax"+port,function(){var jqAjax=ajax(settings);return jqAjax.done(function(){deferred.resolve.apply(this,arguments)}),jqAjax.fail(function(){deferred.reject.apply(this,arguments)}),jqAjax}),1!=jQuery([ajax]).queue("ajax"+port).length||ajaxRunning[port]||(ajaxRunning[port]=!0,jQuery([ajax]).dequeue("ajax"+port)),promise;case"sync":var pos=synced.length;synced[pos]={error:settings.error,success:settings.success,complete:settings.complete,done:!1},syncedData[pos]={error:[],success:[],complete:[]},settings.error=function(){syncedData[pos].error=arguments},settings.success=function(){syncedData[pos].success=arguments},settings.complete=function(){if(syncedData[pos].complete=arguments,synced[pos].done=!0,0==pos||!synced[pos-1])for(var i=pos;i<synced.length&&synced[i].done;i++)synced[i].error&&synced[i].error.apply(jQuery,syncedData[i].error),synced[i].success&&synced[i].success.apply(jQuery,syncedData[i].success),synced[i].complete&&synced[i].complete.apply(jQuery,syncedData[i].complete),synced[i]=null,syncedData[i]=null}}return ajax.apply(this,arguments)},_$.ajax}($),cookie_monster=function(){var _tmpCookie=null,_eat=!1;return{eat:function(isAll){_tmpCookie=(_tmpCookie||"")+";"+document.cookie;var SESSION_ID=Util.cookie.get("PHPSESSID"),uvi=Util.cookie.get("uvi"),wxoaid=Util.cookie.get("wxoaid"),fcdnex=Util.cookie.get("fcdnex");Util.cookie.clearAll(isAll?[]:["PHPSESSID","uvi","wxoaid","fcdnex"]),isAll||(SESSION_ID&&"null"!==SESSION_ID&&(document.cookie="PHPSESSID="+escape(unescape(SESSION_ID))+"; path=/;"+(_DOMAIN?"domain="+_DOMAIN+";":"")),uvi&&(document.cookie="uvi="+escape(unescape(uvi))+"; path=/;"+(_DOMAIN?"domain="+_DOMAIN+";":"")),wxoaid&&(document.cookie="wxoaid="+escape(unescape(wxoaid))+"; path=/;"+(_DOMAIN?"domain="+_DOMAIN+";":"")),fcdnex&&(document.cookie="fcdnex="+escape(unescape(fcdnex))+"; path=/;"+(_DOMAIN?"domain="+_DOMAIN+";":""))),_eat=!0},vomit:function(special){_tmpCookie+="; "+document.cookie,special&&(special=[].concat(special)),document.cookie="uvi="+escape(unescape(""))+"; path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;",_tmpCookie.split(";").forEach(function(val){val=$.trim(val).split("="),special?legalCookie[val[0]]&&special.indexOf(val[0])>-1&&val[1]&&("SESSION"===legalCookie[val[0]]?document.cookie=val[0]+"="+escape(unescape(val[1]))+"; path=/;":"uvi"===legalCookie[val[0]]||"lang"===legalCookie[val[0]]?document.cookie=val[0]+"="+escape(unescape(val[1]))+"; expires="+legalCookie[val[0]]+" path=/;"+(_DOMAIN?"domain="+_DOMAIN+";":""):document.cookie=val[0]+"="+escape(unescape(val[1]))+"; expires="+legalCookie[val[0]]+"; path=/;"):legalCookie[val[0]]&&val[1]&&("SESSION"===legalCookie[val[0]]?document.cookie=val[0]+"="+escape(unescape(val[1]))+"; path=/;":"uvi"===legalCookie[val[0]]||"lang"===legalCookie[val[0]]?document.cookie=val[0]+"="+escape(unescape(val[1]))+"; expires="+legalCookie[val[0]]+" path=/;"+(_DOMAIN?"domain="+_DOMAIN+";":""):document.cookie=val[0]+"="+escape(unescape(val[1]))+"; expires="+legalCookie[val[0]]+"; path=/;")}),_eat=!1,_tmpCookie=null}}}();module.exports={ajax:AJAX,abort:AJAX_ABORT,cookieMonster:cookie_monster}}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _trim(str){return str.replace(/^\s+|\s+$/gm,"")}function args(arg){return Array.prototype.slice.call(arg)}function objectCheck(){var i;for(i in o)if(o.hasOwnProperty(i))return!0;return!1}function typeIs(name,o){return null===o?"Null"===name:"undefined"==typeof o?"Undefined"===name:Object.prototype.toString.call(o)==="[object "+name+"]"}function isEmpty(o){if("undefined"==typeof o||null===o||typeIs("Array",o)&&0===o.length||typeIs("String",o)&&0===o.length)return!0;if(typeIs("Object",o)){for(var _k in o)if(o.hasOwnProperty(_k))return!1;return!0}return!1}function shallowEqualScalar(objA,objB){if(objA===objB)return!0;if("object"!==("undefined"==typeof objA?"undefined":_typeof(objA))||null===objA||"object"!==("undefined"==typeof objB?"undefined":_typeof(objB))||null===objB)return!1;var keysA=Object.keys(objA),keysB=Object.keys(objB);if(keysA.length!==keysB.length)return!1;for(var hasOwn=Object.prototype.hasOwnProperty,i=0;i<keysA.length;i++){if(!hasOwn.call(objB,keysA[i]))return!1;var valA=objA[keysA[i]],valB=objB[keysA[i]];if(valA!==valB||"object"===("undefined"==typeof valA?"undefined":_typeof(valA))||"object"===("undefined"==typeof valB?"undefined":_typeof(valB)))return!1}return!0}function getCursorPosition($element){var el=$element.get(0),pos=0;if("selectionStart"in el)pos=el.selectionStart;else if("selection"in document){el.focus();var Sel=document.selection.createRange(),SelLength=document.selection.createRange().text.length;Sel.moveStart("character",-el.value.length),pos=Sel.text.length-SelLength}return pos}function setCursorPosition($element,startP,endP){if($element[0].createTextRange){var range=$element[0].createTextRange();range.moveEnd("character",startP),range.moveStart("character",endP),range.select()}else $element[0].setSelectionRange(startP,endP),$element.focus()}function contains(parentEl,el,container){if(parentEl==el)return!0;if(!el||!el.nodeType||1!=el.nodeType)return!1;if(parentEl.contains)return parentEl.contains(el);if(parentEl.compareDocumentPosition)return!!(16&parentEl.compareDocumentPosition(el));for(var prEl=el.parentNode;prEl&&prEl!=container;){if(prEl==parentEl)return!0;prEl=prEl.parentNode}return!1}function convertToLetter(iCol){var _res="",_alpha=Math.floor(Math.round(10*iCol/27)/10),_remainder=iCol-26*_alpha;return _alpha>0&&(_res=String.fromCharCode(_alpha+64)),_remainder>0&&(_res+=String.fromCharCode(_remainder+64)),_res}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_MGUtil=__webpack_require__(27),_MGUtil2=_interopRequireDefault(_MGUtil),isSupports=function(){var div=document.createElement("div"),vendors=["Khtml","Ms","O","Moz","Webkit"],len=vendors.length;return function(prop){if(prop in div.style)return!0;prop=prop.replace(/^[a-z]/,function(val){return val.toUpperCase()});var i=0;for(i;i<len;i++)if(vendors[len]+prop in div.style)return!0;return!1}}(),transitionEndEvent=function(){var EVENT_NAME_MAP={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"}},endEvents=[];if("undefined"!=typeof window){var testEl=document.createElement("div"),style=testEl.style;"TransitionEvent"in window||delete EVENT_NAME_MAP.transitionend.transition;for(var baseEventName in EVENT_NAME_MAP)if(EVENT_NAME_MAP.hasOwnProperty(baseEventName)){var baseEvents=EVENT_NAME_MAP[baseEventName];for(var styleName in baseEvents)styleName in style&&endEvents.push(baseEvents[styleName])}return 0==endEvents.length?"transitionend":endEvents.join(" ")}}(),cookie=function(){function _removeCookie(name){var pathBits=location.pathname.split("/"),pathCurrent=" path=";document.cookie=name+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;";for(var j=0;j<pathBits.length;j++)pathCurrent+=("/"!=pathCurrent.substr(-1)?"/":"")+pathBits[j],document.cookie=name+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"+pathCurrent+";"}function _setCookie(name,value,options){var expires=null;return options.expires&&(expires=new Date,options.expires=parseInt(options.expires,0),isNaN(options.expires)||(expires=new Date(expires-0+6048e5*options.expires))),expires&&(expires=expires.toUTCString()),_removeCookie(name),document.cookie=[name,"=",escape(value),expires?"; expires="+expires:"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}function _getCookie(name){var i,len,tempCookie,_cookieList=document.cookie.split(";");for(i=0,len=_cookieList.length;i<len;i++)if(tempCookie=_trim(_cookieList[i]).split("="),tempCookie[0]===name)return unescape(tempCookie[1]);return null}function _clearCookie(opt){var rs=document.cookie.match(new RegExp("([^ ;][^;]*)(?=(=[^;]*)(;|$))","gi"));for(var i in rs)_removeCookie(rs[i])}function _clearAllCookie(without){for(var cookies=document.cookie.split(";"),i=0;i<cookies.length;i++){var cookie=cookies[i],eqPos=cookie.indexOf("="),name=eqPos>-1?cookie.substr(0,eqPos):cookie,withoutList=[].concat(without);withoutList.indexOf(name)===-1&&_removeCookie(name)}}return{set:_setCookie,get:_getCookie,remove:_removeCookie,clear:_clearCookie,clearAll:_clearAllCookie}}();exports["default"]={inIframe:_MGUtil2["default"].inIFrame,deviceCheck:_MGUtil2["default"].deviceCheck,browserCheck:_MGUtil2["default"].browserCheck,fuzzyDeviceCheck:_MGUtil2["default"].fuzzyDeviceCheck,getImageSize:_MGUtil2["default"].getImageSize,parseURL:_MGUtil2["default"].parseURL,getWindowSize:_MGUtil2["default"].getWindowSize,getNow:_MGUtil2["default"].getNow,rAF:_MGUtil2["default"].rAF,rAF_cancel:_MGUtil2["default"].cAF,args:args,objectCheck:objectCheck,typeIs:typeIs,isEmpty:isEmpty,isSupports:isSupports,transitionEndEvent:transitionEndEvent,shallowEqual:_MGUtil2["default"].shallowEqual,shallowEqualScalar:shallowEqualScalar,getCursorPosition:getCursorPosition,setCursorPosition:setCursorPosition,contains:contains,convertToLetter:convertToLetter,cookie:cookie,cdnizer:_MGUtil2["default"].cdnizerFactory(""),linkify:_MGUtil2["default"].linkify},module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function deviceCheck(){var createElement=function(str){var elem=document.createElement("div");return elem.innerHTML=str,elem.childNodes[0]},getStyle=function(elem,cssRule){var strValue=void 0;return document.defaultView&&document.defaultView.getComputedStyle?strValue=document.defaultView.getComputedStyle(elem,"").getPropertyValue(cssRule):elem.currentStyle&&(cssRule=cssRule.replace(/-(w)/g,function(strm,$1){
return $1.toUpperCase()}),strValue=elem.currentStyle[cssRule]),strValue},dStyle='<style type="text/css">@media (max-width: 768px) {#MobileDetect {color: rgb(12, 34, 56)}}</style>',dDiv='<div id="MobileDetect"></div>',tag=!1;if(_MGUADetect2["default"].browser.webview)tag=!0;else if(_MGUADetect2["default"].os.tablet||_MGUADetect2["default"].os.phone)if(inIFrame())tag=!0;else{var style=createElement(dStyle),div=createElement(dDiv);document.head.appendChild(style),document.head.appendChild(div),tag="rgb(12, 34, 56)"===getStyle(div,"color"),style.remove?(style.remove(),div.remove()):(style.parentNode.removeChild(style),div.parentNode.removeChild(div))}return{isMobile:tag}}function browserCheck(){var _browserInfo={version:_MGUADetect2["default"].browser.version};if(_MGUADetect2["default"].browser.ie)_browserInfo.msie=!0;else if(_MGUADetect2["default"].browser.safari)_browserInfo.webkit=!0,_browserInfo.safari=!0;else if(_MGUADetect2["default"].browser.firefox)_browserInfo.mozilla=!0,_browserInfo.firefox=!0;else{if(!_MGUADetect2["default"].browser.chrome)return _MGUADetect2["default"].browser;_browserInfo.webkit=!0,_browserInfo.chrome=!0}return _browserInfo}function fuzzyDeviceCheck(){var topSide=Math.min(document.documentElement.clientWidth,document.documentElement.clientHeight),_mobile=!1;return topSide>800?_mobile=!1:(_MGUADetect2["default"].os.tablet||_MGUADetect2["default"].os.phone)&&(_mobile=!0),_mobile}function inIFrame(){try{return window.self!==window.top}catch(e){return!0}}function rAF(fn){return raf.call(window,fn)}function cAF(){caf.apply(window,arguments)}function parseURL(url){var a;return a=document.createElement("a"),a.href=url,{source:url,protocol:a.protocol.replace(":",""),host:a.hostname,port:a.port,query:a.search,params:function(){for(var s,ret={},seg=a.search.replace(/^\?/,"").split("&"),len=seg.length,i=0;i<len;i++)seg[i]&&(s=seg[i].split("="),ret[s[0]]=s[1]);return ret}(),file:(a.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:a.hash.replace("#",""),path:a.pathname.replace(/^([^\/])/,"/$1"),relative:(a.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:a.pathname.replace(/^\//,"").split("/")}}function linkify(str){var link=_lodash2["default"].trim(str||""),linkParseUrl=parseURL(link),currentLink=parseURL(location.href);return linkParseUrl.protocol&&linkParseUrl.host!==currentLink.host||((0,_MGString.isUrl)(link)?link.match(/^(http:\/\/|https:\/\/)/)||(link="http://"+link):link=null),link}function getImageSize(url,nocache){var _img=new Image,$d=_jquery2["default"].Deferred();_img.onload=function(){$d.resolve({width:this.width,height:this.height})},_img.onerror=function(){$d.resolve({width:null,height:null})},_img.src=url;var promise=$d.promise();return promise.abort=function(){$d.reject()},_img.complete,promise}function _getPathAbsolute(base,relative){var stack=base.split("/"),parts=relative.split("/");stack.pop();for(var i=0;i<parts.length;i++)"."!=parts[i]&&(".."==parts[i]?stack.pop():stack.push(parts[i]));return stack.join("/")}function cdnizerFactory(cdnPath){return cdnPath?function(path){var isEncrypt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return _getPathAbsolute((isEncrypt?location.protocol:"http:")+"//"+cdnPath+(location.pathname||"/"),path)}:function(path){return path}}function shallowEqual(objA,objB){if(objA===objB)return!0;var keysA=Object.keys(objA),keysB=Object.keys(objB);if(keysA.length!==keysB.length)return!1;for(var hasOwn=Object.prototype.hasOwnProperty,_i2=0;_i2<keysA.length;_i2++)if(!hasOwn.call(objB,keysA[_i2])||objA[keysA[_i2]]!==objB[keysA[_i2]])return!1;return!0}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(22),_jquery2=_interopRequireDefault(_jquery),_MGUADetect=__webpack_require__(28),_MGUADetect2=_interopRequireDefault(_MGUADetect),_MGString=__webpack_require__(29),_time=null;try{_time=window.performance?window.performance.now.bind(window.performance):null}catch(e){}for(var getTime=_time||Date.now||function(){return+new Date},_vendors=["webkit","moz","o","ms"],suffix="AnimationFrame",raf=window["request"+suffix],caf=window["cancel"+suffix]||window["cancelRequest"+suffix],i=0,vLen=_vendors.length;!raf&&i<vLen;i++)raf=window[_vendors[i]+"Request"+suffix],caf=window[_vendors[i]+"Cancel"+suffix]||window[_vendors[i]+"CancelRequest"+suffix];raf&&caf||!function(){var last=0,id=0,queue=[],frameDuration=1e3/60;raf=function(callback){if(0===queue.length){var _now=getTime(),next=Math.max(0,frameDuration-(_now-last));last=next+_now,setTimeout(function(){var cp=queue.slice(0);queue.length=0;for(var i=0;i<cp.length;i++)if(!cp[i].cancelled)try{cp[i].callback(last)}catch(e){setTimeout(function(){throw e},0)}},Math.round(next))}return queue.push({handle:++id,callback:callback,cancelled:!1}),id},caf=function(handle){for(var _i=0,len=queue.length;_i<len;_i++)queue[_i].handle===handle&&(queue[_i].cancelled=!0)}}();var getWindowSize=function(){var wWidth=null,wHeight=null;if("number"==typeof window.innerWidth)getWindowSize=function(){return{width:window.innerWidth,height:window.innerHeight}},wWidth=window.innerWidth,wHeight=window.innerHeight;else if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight))getWindowSize=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},wWidth=document.documentElement.clientWidth,wHeight=document.documentElement.clientHeight;else if(document.body&&(document.body.clientWidth||document.body.clientHeight))getWindowSize=function(){return{width:document.body.clientWidth,height:document.body.clientHeight}},wWidth=document.body.clientWidth,wHeight=document.body.clientHeight;else{var $window=(0,_jquery2["default"])(document.body);wWidth=$window.width(),wHeight=$window.height(),getWindowSize=function(){var $window=(0,_jquery2["default"])(document.body);return{width:$window.width(),height:$window.height()}}}return{width:wWidth,height:wHeight}};exports["default"]={getNow:getTime,rAF:rAF,cAF:cAF,inIFrame:inIFrame,shallowEqual:shallowEqual,deviceCheck:deviceCheck(),browserCheck:browserCheck(),fuzzyDeviceCheck:fuzzyDeviceCheck(),parseURL:parseURL,getImageSize:getImageSize,getWindowSize:getWindowSize,cdnizerFactory:cdnizerFactory,linkify:linkify},module.exports=exports["default"]},function(module,exports){"use strict";function _envDetect(ua,platform){var os={},browser={},webkit=ua.match(/Web[kK]it[\/]{0,1}([\d.]+)/),android=ua.match(/(Android);?[\s\/]+([\d.]+)?/),osx=!!ua.match(/\(Macintosh\; Intel /),ipad=ua.match(/(iPad).*OS\s([\d_]+)/),ipod=ua.match(/(iPod)(.*OS\s([\d_]+))?/),iphone=!ipad&&ua.match(/(iPhone\sOS)\s([\d_]+)/),webos=ua.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),win=/Win\d{2}|Windows/.test(platform),wp=ua.match(/Windows Phone ([\d.]+)/),touchpad=webos&&ua.match(/TouchPad/),kindle=ua.match(/Kindle\/([\d.]+)/),silk=ua.match(/Silk\/([\d._]+)/),blackberry=ua.match(/(BlackBerry).*Version\/([\d.]+)/),bb10=ua.match(/(BB10).*Version\/([\d.]+)/),chrome=ua.match(/Chrome\/([\d.]+)/)||ua.match(/CriOS\/([\d.]+)/),firefox=ua.match(/Firefox\/([\d.]+)/),firefoxos=ua.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),ie=ua.match(/MSIE\s([\d.]+)/)||ua.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),webview=!chrome&&ua.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),safari=webview||ua.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);return(browser.webkit=!!webkit)&&(browser.version=webkit[1]),android&&(os.android=!0,os.version=android[2]),iphone&&!ipod&&(os.ios=os.iphone=!0,os.version=iphone[2].replace(/_/g,".")),ipad&&(os.ios=os.ipad=!0,os.version=ipad[2].replace(/_/g,".")),ipod&&(os.ios=os.ipod=!0,os.version=ipod[3]?ipod[3].replace(/_/g,"."):null),wp&&(os.wp=!0,os.version=wp[1]),webos&&(os.webos=!0,os.version=webos[2]),touchpad&&(os.touchpad=!0),blackberry&&(os.blackberry=!0,os.version=blackberry[2]),bb10&&(os.bb10=!0,os.version=bb10[2]),kindle&&(os.kindle=!0,os.version=kindle[1]),silk&&(browser.silk=!0,browser.version=silk[1]),!silk&&os.android&&ua.match(/Kindle Fire/)&&(browser.silk=!0),chrome&&(browser.chrome=!0,browser.version=chrome[1]),firefox&&(browser.firefox=!0,browser.version=firefox[1]),firefoxos&&(os.firefoxos=!0,os.version=firefoxos[1]),ie&&(browser.ie=!0,browser.version=ie[1]),safari&&(osx||os.ios||win)&&(browser.safari=!0,os.ios||(browser.version=safari[1])),webview&&(browser.webview=!0),os.tablet=!!(ipad||android&&!ua.match(/Mobile/)||firefox&&ua.match(/Tablet/)||ie&&!ua.match(/Phone/)&&ua.match(/Touch/)),os.phone=!(os.tablet||!(android||iphone||webos||blackberry||bb10||os.ipod||chrome&&ua.match(/Android/)||chrome&&ua.match(/CriOS\/([\d.]+)/)||firefox&&ua.match(/Mobile/)||ie&&ua.match(/Touch/))),{os:os,browser:browser}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=_envDetect(navigator.userAgent,navigator.platform),module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function getIdCardInfo(cardNo){var info={isTrue:!1,year:null,month:null,day:null,isMale:!1,isFemale:!1};if(!cardNo||15!=cardNo.length&&18!=cardNo.length)return info.isTrue=!1,info;if(15==cardNo.length){var year=cardNo.substring(6,8),month=cardNo.substring(8,10),day=cardNo.substring(10,12),p=cardNo.substring(14,15),birthday=new Date(year,parseFloat(month)-1,parseFloat(day));return birthday.getYear()!=parseFloat(year)||birthday.getMonth()!=parseFloat(month)-1||birthday.getDate()!=parseFloat(day)?info.isTrue=!1:(info.isTrue=!0,info.year=birthday.getFullYear(),info.month=birthday.getMonth()+1,info.day=birthday.getDate(),p%2==0?(info.isFemale=!0,info.isMale=!1):(info.isFemale=!1,info.isMale=!0)),info}if(18==cardNo.length){var year=cardNo.substring(6,10),month=cardNo.substring(10,12),day=cardNo.substring(12,14),p=cardNo.substring(14,17),birthday=new Date(year,parseFloat(month)-1,parseFloat(day));if(birthday.getFullYear()!=parseFloat(year)||birthday.getMonth()!=parseFloat(month)-1||birthday.getDate()!=parseFloat(day))return info.isTrue=!1,info;var Wi=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],Y=[1,0,10,9,8,7,6,5,4,3,2],sum=0,_cardNo=cardNo.split("");"x"==_cardNo[17].toLowerCase()&&(_cardNo[17]=10);for(var i=0;i<17;i++)sum+=Wi[i]*_cardNo[i];var i=sum%11;return _cardNo[17]!=Y[i]?info.isTrue=!1:(info.isTrue=!0,info.year=birthday.getFullYear(),info.month=birthday.getMonth()+1,info.day=birthday.getDate(),p%2==0?(info.isFemale=!0,info.isMale=!1):(info.isFemale=!1,info.isMale=!0),info)}return info}function isCanvasSupported(){var elem=document.createElement("canvas");return!(!elem.getContext||!elem.getContext("2d"))}var _lodash=__webpack_require__(8),_jquery=(_interopRequireDefault(_lodash),__webpack_require__(22)),_jquery2=_interopRequireDefault(_jquery),_mgstring={},_ORIGINAL_EMAIL_REG=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f] ))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d)|(([a-z]|\d)([a-z]|\d|-|\.|_|~)*([a-z]|\d)))\.)+(([a-z])|(([a-z])([a-z]|\d|-|\.|_|~ )*([a-z])))$/i,_EMAIL_RE=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])|(([a-z]|\d|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])([a-z]|\d|-|\.|_|~|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])*([a-z]|\d|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])))\.)+(([a-z]|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])|(([a-z]|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])([a-z]|\d|-|\.|_|~|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])*([a-z]|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])))$/i,_EMOJI_RE=/([\u0023\u0030-\u0039]\uFE0F\u20E3)|(\u002A(\uFE0F*)\u20E3)|([\u00A9\u00AE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u261D\u2620-\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2694\u2696\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FD\u2702\u2705\u2708-\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u274C\u274E\u2747\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27B0\u27BF\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]\uFE0F?)|(\uD83C[\uDC04\uDD70\uDD71\uDCCF\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDFFF]\uFE0F?)|(\uD83D[\uDC00-\uDEF6])|(\uD83E[\uDD10-\uDD1e\uDD20-\uDD27\uDD30-\uDD3E\uDD40-\uDD4B\uDD50-\uDD5E\uDD80-\uDD91\uDDC0])/g,_URL_RE=/^((http|https):\/\/)?(\w(\:\w)?@)?([0-9a-z_-]+\.)*?([a-z0-9-]+\.[a-z]{2,6}(\.[a-z]{2})?(\:[0-9]{2,6})?)((\/[^?#<>\/\\*":]*)+(\?[^#]*)?(#.*)?)?$/i,_CHINESE_RE=/([\u4E00-\u9FA5])/g,_EMPTY_RE=/[\u0000-\u002f\u003a-\u0040\u005b-\u0060\u007b-\u007f\u2010-\u2026\u3000-\u301e\ufe50-\uffff]/g,_NUMBER_RE=/[0-9]+/g,_ALL_NUMBER_RE=/^\d+$/,_CN_SIMPLE_MOBILE_RE=/^(\(?(\+)?86\)?)?(\s*)(?:1\d\d)([\-\_\s])?(\d{4})([\-\_\s])?(\d{4})$/i,_HK_SIMPLE_MOBILE_RE=/^(\(?(\+)?852\)?)?(\s*)([695])\d{7}$/i,_TW_SIMPLE_MOBILE_RE=/^(((\(?(\+)?886\)?)(\s*))|0)9[0-8]\d{1}(\-?)\d{2}(\-?)\d{4}$/i,_QQ_SIMPLE_RE=/^[1-9][0-9]{4,20}$/i,_IP_SIMPLE_RE=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/i;_mgstring.keepStr=function(str,reg){var res="";return str.replace(reg,function($){res+=$}),res},_mgstring.keepNum=function(str){return _mgstring.keepStr(str,_NUMBER_RE)},_mgstring.removeEmpty=function(str){var replaceStr=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return str.replace(_EMPTY_RE,replaceStr)},_mgstring.isEmptyStr=function(str){return!!str.match(_EMPTY_RE)},_mgstring.getLength=function(str,convertChinese){return str=""+str,convertChinese?str.replace(_CHINESE_RE,function($){return"**"}).length:str.length},_mgstring.emojiRemove=function(str){return str.replace(_EMOJI_RE,"")},_mgstring.isEmail=function(str){return _EMAIL_RE.lastIndex=0,_EMAIL_RE.test(str)},_mgstring.isOriginalEmail=function(str){return _ORIGINAL_EMAIL_REG.lastIndex=0,_ORIGINAL_EMAIL_REG.test(str)},_mgstring.isUrl=function(str){return _URL_RE.lastIndex=0,_URL_RE.test(str)},_mgstring.isMobileCN=function(str){return _CN_SIMPLE_MOBILE_RE.lastIndex=0,_CN_SIMPLE_MOBILE_RE.test(str)},_mgstring.isMobileHK=function(str){return _HK_SIMPLE_MOBILE_RE.lastIndex=0,_HK_SIMPLE_MOBILE_RE.test(str)},_mgstring.isMobileTW=function(str){return _TW_SIMPLE_MOBILE_RE.lastIndex=0,_TW_SIMPLE_MOBILE_RE.test(str)},_mgstring.isQQ=function(str){return _QQ_SIMPLE_RE.lastIndex=0,_QQ_SIMPLE_RE.test(str)},_mgstring.isCnIdCard=function(str){var res=getIdCardInfo(""+str);return res&&res.isTrue},_mgstring.isIP=function(str){return _IP_SIMPLE_RE.lastIndex=0,_IP_SIMPLE_RE.test(str)},_mgstring.isNumber=function(str){return!str||(_ALL_NUMBER_RE.lastIndex=0,_ALL_NUMBER_RE.test(str))},_mgstring.generateRegexCheck=function(str){var flags=str.replace(/.*\/([gimy]*)$/,"$1"),pattern=str.replace(new RegExp("^/(.*?)/"+flags+"$"),"$1"),match=str.match(new RegExp("^/(.*?)/([gimy]*)$"));match||(flags="");var _RE=new RegExp(pattern,flags);return function(s){return _RE.test(s)}},_mgstring.strRegCheck=function(regStr,str){var flags=regStr.replace(/.*\/([gimy]*)$/,"$1"),pattern=regStr.replace(new RegExp("^/(.*?)/"+flags+"$"),"$1"),match=regStr.match(new RegExp("^/(.*?)/([gimy]*)$"));match||(flags="");var _RE=new RegExp(pattern,flags);return _RE.test(str)},_mgstring.isPositiveInteger=function(str){var c_num=+str;return!isNaN(c_num)&&(!(c_num<=0)&&c_num===Math.floor(c_num))},_mgstring.isNonnegativeInteger=function(str){var c_num=+str;return!isNaN(c_num)&&(!(c_num<0)&&c_num===Math.floor(c_num))},_mgstring._EMOJI_RE=_EMOJI_RE,_mgstring.emojiFilter=function(str){str.replace(_EMOJI_RE,"")},_mgstring.width=function(str,fSize){var $textWidthField;0===(0,_jquery2["default"])("#cp_tt_textWidth").length&&(0,_jquery2["default"])("body").append('<span id="cp_tt_textWidth" style="visibility: hidden;"></span>'),$textWidthField=(0,_jquery2["default"])("#cp_tt_textWidth");var textWidth=$textWidthField.text(""+str).css({fontSize:fSize+"px",whiteSpace:"nowrap"}).width();return textWidth},_mgstring.getWidth=function(){var $textWidthField;if(isCanvasSupported())try{var _ctx,canvas=document.createElement("canvas");return canvas.getContext&&(_ctx=canvas.getContext("2d")),function(str,fontStr){_ctx.font=fontStr;var metrics=_ctx.measureText(str);return Math.ceil(metrics.width)}}catch(e){console.error(e)}return 0===(0,_jquery2["default"])("#cp_tt_textWidth").length&&(0,_jquery2["default"])("body").append('<span id="cp_tt_textWidth" style="visibility: hidden;white-space:nowrap;word-break: initial;"></span>'),$textWidthField=(0,_jquery2["default"])("#cp_tt_textWidth"),function(str,fontStr){return $textWidthField.text(""+str).css({font:fontStr}).width()}}(),_mgstring.leftPad=function(source,str,num){var r="";if(source=""+source,str=""+str,!num)return source;var loopNum=num-source.length;if(loopNum<=0)return source;for(;;){if(1===(1&loopNum)&&(r+=str),loopNum>>>=1,0===loopNum)break;str+=str}return r+source};var _UNIT_LIST=null;_mgstring.convertByteTo=function(byte){byte=+byte||0;var r={value:byte,unit:"B"};return r=byte>1024&&byte<1048576?{value:(byte/1024).toFixed(2),unit:"KB"}:{value:(byte/1048576).toFixed(2),unit:"MB"}},_mgstring.fileSizeBeauty=function(bytes){if(null===bytes||void 0===bytes)return"-";for(var unitList=_UNIT_LIST=_UNIT_LIST||["B","KB","MB","GB","TB","PB"],unitCursor=0,_beauty=bytes,_unitLen=unitList.length-1;_beauty>1024&&unitCursor<_unitLen;)unitCursor++,_beauty/=1024;return _beauty=_beauty!==Math.floor(_beauty)?_beauty.toFixed(2):""+_beauty,_beauty+unitList[unitCursor]},_mgstring.fileNameBeauty=function(fileName){var len=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,fileNameInfo=(""+fileName).split("."),suffix="",name=void 0;if(fileNameInfo.length>1&&(suffix=fileNameInfo.pop()),name=fileNameInfo.join("."),name.length>len){var _splitPosition=(len-3)/2;return name.substring(0,_splitPosition)+"..."+name.substring(name.length-_splitPosition,name.length-1)+"."+suffix}return fileName},module.exports=_mgstring},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _saltPwd(pwd){var l=_lodash2["default"].chunk(RAW_SALT.split(""),2);return _lodash2["default"].forEach(l,function(info){pwd+=String.fromCharCode(parseInt(info.join(""),16))}),pwd}function init(){_LANG=navigator.language?navigator.language:navigator.userLanguage,_LANG_CODE=_tools2["default"].getLanCode(_LANG),_IS_IRO=!!_tools2["default"].parseURL(location.href).params.iro,_JHR=0,_RAW=null,_VST=null,_TOKEN=null,_OQ=null,_ORG_NAME=null,_META={},_UGC="",_QR="",_BASE_UGC="",_BASE_QR="",_NEED_PWD=_JHR==-820,_default_filling={},_extensions2["default"].init(),_resetMemoCache(),_pwd=null,_start_t=null}function _resetMemoCache(){_header=null,_tail=null,_layout=null,_order=null,_components=null,_settings=null,_style=null,_convertStyle=!1,_logic=null,_hasPage=!1,_pages=null,_pageNum=0,_attachment=!1,_validMobile=!1,_sale=!1,_paymentType=null,_innerFormPay=!1,_shownComponents=null,positionIdx={},oldPositionIdx={},_defaultShown=null,_start_t=null}function _updateMetaInfo(){if(_RAW&&(_META=_RAW._m),_META){var extPathStr="";_META.U&&("/"===_META.U.charAt(0)&&(extPathStr="."),_UGC=extPathStr+_META.U,_BASE_UGC=_UGC,window._CDN&&(_UGC=(0,_tools.cdnizer)(_UGC,!0)),_QR=_UGC.replace("/image/","/qr/"),_BASE_QR=_BASE_UGC.replace("/image/","/qr/")),_ORG_NAME=_META.CLN}_VST&&initGeoInfo(_VST)}function setAsRaw(rawObject,mode){var raw=rawObject.raw,vst=rawObject.vst,JHR=rawObject.JHR,token=rawObject.token,OQ=rawObject.OQ;_RAW=raw,_VST=vst,_JHR=JHR,_TOKEN=token,_OQ=OQ,_MODE=mode,_NEED_PWD=_NEED_PWD||_JHR==-820,_RAW&&(_LANG_CODE=_RAW.se&&_RAW.se.lang&&12!==_RAW.se.lang?+_RAW.se.lang:_VST&&_VST.lang?+_VST.lang:_tools2["default"].getLanCode(_LANG)),_resetMemoCache(),_updateMetaInfo()}function updateRawInfo(name,value){"RAW"===name?(_RAW=value,_RAW.se&&_RAW.se.lang&&12!==_RAW.se.lang&&(_LANG_CODE=+_RAW.se.lang),_resetMemoCache(),_updateMetaInfo()):"JHR"===name?(_JHR=value,_NEED_PWD=_NEED_PWD||+_JHR===-820):"TOKEN"===name&&(_TOKEN=value)}function getRaw(){return _RAW}function getDepth(treeObj,rootId){var tI=0,optLen=treeObj.length,depth=0;for(tI;tI<optLen;tI++){for(var currentDepth=1,p_option=treeObj[tI];p_option&&+p_option.pId!==+rootId;){currentDepth++;var _index=_lodash2["default"].findIndex(treeObj,{id:p_option.pId});p_option=treeObj[_index]}currentDepth>depth&&(depth=currentDepth)}return depth}function getChildrenIn(treeObj,pId){var list=[];return _lodash2["default"].forEach(treeObj,function(info){info.pId===pId&&list.push(info)}),list}function getSubItem(list,id,isLeaf){var idList=[],childrenList=getChildrenIn(list,id);return 0===childrenList.length&&isLeaf?idList.push(id):_lodash2["default"].forEach(childrenList,function(info){idList.push(info.id),idList=idList.concat(getSubItem(list,info.id,!0))}),idList}function getTreeDepth(list,position,pid){var currentDepth=position,_pIdList=_lodash2["default"].uniq(getSubItem(list,pid,!1)),_subTree=[];return _lodash2["default"].forEach(list,function(info){_pIdList.indexOf(info.id)>-1&&_subTree.push(info)}),currentDepth+=getDepth(_subTree,pid)}function initGeoInfo(VST){_GEO_CACHE_LIB=[],_IP_GEO_INFO=[],_GEO_PID_LOADED_FLAGS={},VST&&(VST.ipLocI&&(_IP_GEO_INFO.push(VST.ipLocI),VST.ipLocII&&(_IP_GEO_INFO.push(VST.ipLocII),VST.ipLocIII&&_IP_GEO_INFO.push(VST.ipLocIII))),VST.mpLoc&&_lodash2["default"].forEach(VST.mpLoc,function(info,id){var pId=null;_IP_GEO_INFO.indexOf(id)>0&&(pId=_IP_GEO_INFO[_IP_GEO_INFO.indexOf(id)-1]),_GEO_CACHE_LIB.push({id:+id,name:info[_LANG_CODE]||info[3],pId:pId})})),_MGDebugger2["default"].log(_GEO_CACHE_LIB,_IP_GEO_INFO,_GEO_PID_LOADED_FLAGS)}function getIpLoc(){return _IP_GEO_INFO}function hasGeoCache(pId){return void 0!==_GEO_PID_LOADED_FLAGS[pId]}function getGeoCache(pId){return _GEO_PID_LOADED_FLAGS[pId]}function addGeoInfo(id,pid,name){getGeoInfo(id)||_GEO_CACHE_LIB.push({id:+id,pId:pid,name:name})}function setGeoCache(pId,info){_GEO_PID_LOADED_FLAGS[pId]=info,_lodash2["default"].forEach(info,function(data){_GEO_CACHE_LIB.push({id:+data.id,name:data.name,pId:pId})})}function getGeoInfo(id){return _lodash2["default"].find(_GEO_CACHE_LIB,{id:+id})}function getFormWidth(){return(_RAW||{}).w||1/0}function getOrgName(){return _ORG_NAME}function getPassword(pwd){return void 0!==pwd&&(_pwd=(0,_md2["default"])(_saltPwd(pwd))),_pwd}function _PCDN_RATE(){return _lodash2["default"].random(.1,_P_RATE)}function _PCDN_RATE_SUB(){return _lodash2["default"].random(.1,_P_RATE_SUB)}function token(){return _TOKEN}function JHR(){return _JHR}function canUseSelfCDN(){return null!=window._LFP&&!window._CDN}function _templateCDNRate(){return canUseSelfCDN()?Math.max(Math.min(window._LFP,_lodash2["default"].random(.3,.8)),0):1}function QR(base){var version=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",_version="?v=";return _version+=window._CL_SLD?window._CL_SLD:"www",_version+="https:"===location.protocol?"E":"N",version&&(_version+="ver"+version),base?_BASE_QR+token()+".png"+_version:1===_MODE&&canUseSelfCDN()&&window._LFP<.2+_PCDN_RATE_SUB()?(0,_tools.selfCdnizer)(_QR+token()+".png"+_version):_QR+token()+".png"+_version}function formCacheId(){return token()?"FR_"+token()+"_":null}function getLangCode(){return _LANG_CODE}function getHeader(){if(_header&&!_lodash2["default"].isEmpty(_header))return _header;if(!_RAW||!_RAW.h)return{};if(_header=(0,_FormConvertUtil.convertHeader)(_RAW.h,_UGC),1===_MODE&&canUseSelfCDN()){var _LFP=Math.max(0,window._LFP);_LFP<1&&_header&&_header.logo&&0===_header.logo.indexOf(_UGC)&&Math.round(1+_PCDN_RATE()-_LFP)&&(_header.logo=(0,_tools.selfCdnizer)(_header.logo))}return _header}function getTail(){if(_tail&&!_lodash2["default"].isEmpty(_tail))return _tail;if(!_RAW||!_RAW.t)return null;var _tailInfo=(0,_FormConvertUtil.convertTail)(_RAW.t,_UGC);return _tail={},_lodash2["default"].forEach(_tailInfo,function(val,key){void 0!==val&&(_tail[key]=val)}),_tail}function getStyle(type){if(_convertStyle)return type?_style[type]:_style;if(!_RAW||!_RAW.st)return type?"lineHeight"===type?14:null:{lineHeight:14};var _styleInfo=(0,_FormConvertUtil.convertStyle)(_RAW.st,_UGC,_TEMPLATE_CDN,_templateCDNRate());_convertStyle=!0,_style={},_lodash2["default"].forEach(_styleInfo,function(val,key){void 0!==val&&(_style[key]=val)});var opacityArray=["",1,.9,.8,.7,.6,.5,.4,.3,.2,.1,0];_style.bgOpacity&&(_style.bgOpacityValue=opacityArray[+_style.bgOpacity]),_style.headerStyle&&_style.headerStyle.bgOpacity&&(_style.headerStyle.bgOpacityValue=opacityArray[+_style.headerStyle.bgOpacity]),_style.bodyStyle&&_style.bodyStyle.bgOpacity&&(_style.bodyStyle.bgOpacityValue=opacityArray[+_style.bodyStyle.bgOpacity]),_style.submitStyle&&_style.submitStyle.bgOpacity&&(_style.submitStyle.bgOpacityValue=opacityArray[+_style.submitStyle.bgOpacity]);var _TEMPLATE="./images/formTemplate/";if(1===_MODE&&canUseSelfCDN()){var _LFP=Math.max(0,window._LFP);_LFP<1&&(_style.background&&(0===_style.background.indexOf(_UGC)||0===_style.background.indexOf(_TEMPLATE))&&Math.round(1+_PCDN_RATE()-_LFP)&&(_style.background=(0,_tools.selfCdnizer)(_style.background),_style.optBackground=(0,_tools.selfCdnizer)(_style.optBackground)),_style.headerStyle&&_style.headerStyle.background&&(0===_style.headerStyle.background.indexOf(_UGC)||0===_style.headerStyle.background.indexOf(_TEMPLATE))&&Math.round(1+_PCDN_RATE()-_LFP)&&(_style.headerStyle.background=(0,_tools.selfCdnizer)(_style.headerStyle.background)),_style.submitStyle&&_style.submitStyle.background&&(0===_style.submitStyle.background.indexOf(_UGC)||0===_style.submitStyle.background.indexOf(_TEMPLATE))&&Math.round(1+_PCDN_RATE()-_LFP)&&(_style.submitStyle.background=(0,_tools.selfCdnizer)(_style.submitStyle.background)))}return type?_style[type]:_style}function getSettings(type){if(_settings&&!_lodash2["default"].isEmpty(_settings))return type?_settings[type]:_settings;if(!_RAW||!_RAW.se)return type?null:{};var _settingsInfo=(0,_FormConvertUtil.convertSettings)(_RAW.se,_UGC);return _settings={},_lodash2["default"].forEach(_settingsInfo,function(val,key){void 0!==val&&(_settings[key]=val)}),type?_settings[type]:_settings}function getLayout(){return _layout?_layout:_RAW&&_RAW.cpl&&_RAW.cpo?(_layout=(0,_FormViewerUtil.convertLayout)(_RAW.cpl,_RAW.cpo,getLogic()||!1),_order=_lodash2["default"].map(_RAW.cpo.split(";"),function(id){return _lodash2["default"].startsWith(id,"ctcf#")?id:+id}),_layout):{}}function convertExtensions(){_RAW&&_RAW.ext&&_extensions2["default"].convertExt(_RAW.ext,_UGC)}function getLogic(){return _RAW&&_RAW.ext&&_extensions2["default"].convertExt(_RAW.ext,_UGC),_logic?_logic:_RAW&&_RAW.ext?(_extensions2["default"].convertExt(_RAW.ext,_UGC),_logic=_extensions2["default"].getLogic()):null}function disableLogic(){_extensions2["default"].setLogicState(0)}function enableLogic(){_extensions2["default"].setLogicState(1)}function isAuthorizedWx(){return _VST&&_VST.uvd&&_VST.uvd.wc}function processUvdContactInfo(){if(_VST&&_VST.uvd&&(_VST.uvd.ct||_VST.uvd.wc)){var _ctInfo=_VST.uvd.ct||{};if(_VST.uvd.wc){var nickName=_VST.uvd.wc.nickname||"";!_ctInfo[_FormMetaInfoMappingUtil.COMPONENT_METAID_MAPPING.wechat]&&nickName&&(_ctInfo[_FormMetaInfoMappingUtil.COMPONENT_METAID_MAPPING.wechat]=nickName)}_uvdContactInfo=getUvdComponentInfo(_ctInfo)}}function getUvdComponentInfo(data){var _res={};return _lodash2["default"].forEach(data,function(info,typeKey){info&&(_res[_FormMetaInfoMappingUtil.METAID_COMPONENT_MAPPING[typeKey]]=info)}),_res}function updateUvdContactInfo(data){var manual=arguments.length>1&&void 0!==arguments[1]&&arguments[1],rawObject=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,_ctInfo=data;if(manual&&rawObject&&(_VST=(rawObject||{}).vst),_VST&&_VST.uvd&&(_VST.uvd.ct||_VST.uvd.wc)&&_VST.uvd.wc){var nickName=_VST.uvd.wc.nickname||"";(manual||!_ctInfo[_FormMetaInfoMappingUtil.COMPONENT_METAID_MAPPING.wechat]&&nickName)&&(_ctInfo[_FormMetaInfoMappingUtil.COMPONENT_METAID_MAPPING.wechat]=nickName)}_uvdContactInfo=getUvdComponentInfo(_ctInfo)||{}}function getUvdContactInfo(){return _uvdContactInfo}function getVstWcState(){return!!(_VST&&_VST.uvd&&_VST.uvd.wc)}function isFillingComponent(type){return _FormMetaInfoMappingUtil.FORM_FILLING_COMPONENT_LIST.indexOf(type)>-1}function formInfoInit(){var layout=getLayout(),logic=getLogic();getComponents(),_innerFormPay=_extensions2["default"].getInnerFormPay(),_paymentType=(_innerFormPay.info.payOnlineMethod||[1,2])[0],getLangCode(),processUvdContactInfo();var hasPage=!1,hasAttachment=!1,validMobile=null,pages=[],_tempPage=[];_lodash2["default"].forEach(layout,function(data){if("normal"===data.type){var _id=data.id,componentData=getComponents(_id);componentData&&("paging"===componentData.type?(hasPage=!0,pages.push(_tempPage),_tempPage=[]):("attachment"!==componentData.type&&"picAttachment"!==componentData.type&&"avatar"!==componentData.type||(hasAttachment=!0),"mobile"===componentData.type&&componentData.isSendMsgAuth&&(validMobile=_id),_tempPage.push(data)))}else data.children&&_lodash2["default"].forEach(data.children,function(chId){var _chId=chId,componentData=getComponents(_chId);componentData&&("attachment"!==componentData.type&&"picAttachment"!==componentData.type&&"avatar"!==componentData.type||(hasAttachment=!0),"mobile"===componentData.type&&componentData.isSendMsgAuth&&(validMobile=_chId))}),_tempPage.push(data)}),_lodash2["default"].isEmpty(_tempPage)||pages.push(_tempPage),_hasPage=hasPage,_pages=pages,_attachment=hasAttachment,_validMobile=validMobile,_start_t=+new Date;var processed=!1;logic&&logic.defaultShown&&!_lodash2["default"].isEmpty(logic.defaultShown)&&!function(){processed=!0;var _defaultComponents=[];_lodash2["default"].forEach(layout,function(data){"normal"===data.type?logic.defaultShown.indexOf(data.id)>-1?(_defaultComponents.push(data.id),
positionIdx[data.id]=_order.indexOf(data.id)):"paging"===getComponents(data.id).type&&(_defaultComponents.push(data.id),positionIdx[data.id]=_order.indexOf(data.id)):"squeezeBox"===data.type}),_defaultShown=_defaultComponents,_lodash2["default"].forEach(_defaultShown,function(id){setComponentPositionIdx(_default_filling,id,positionIdx[id],1)}),_shownComponents=generPage()}(),processed||(_shownComponents=_pages)}function changeShownComponent(fillData){var logic=getLogic();return!(!logic||!logic.defaultShown||_lodash2["default"].isEmpty(logic.defaultShown))&&(oldPositionIdx=_lodash2["default"].assign({},positionIdx),positionIdx={},_lodash2["default"].forEach(_defaultShown,function(id){positionIdx[id]=_order.indexOf(id),setComponentPositionIdx(fillData,id,positionIdx[id],1)}),_shownComponents=generPage(),_MGDebugger2["default"].log(_shownComponents),_MGDebugger2["default"].log(fillData,logic,_shownComponents),!0)}function generPage(){var _order=Object.keys(positionIdx).sort(function(a,b){return positionIdx[a]-positionIdx[b]}),pages=[],_tempPage=[];return _lodash2["default"].forEach(_order,function(id){var componentData=getComponents(id);"paging"!==componentData.type?_tempPage.push({type:"normal",id:id}):(_tempPage.length>0&&pages.push(_tempPage),_tempPage=[])}),_tempPage.length>0&&pages.push(_tempPage),pages}function _getId(id,optId){var res=null,component=getComponents(id),_id=+optId;return _lodash2["default"].isPlainObject(optId)&&(_id=optId.id),_lodash2["default"].forEach(component.options,function(info){if(+info.sId===_id)return res=info.id,!1}),null===res&&_id===+component.otherId&&(res=0),res}function setComponentPositionIdx(filling,id,currentIdx,offset){var _data=filling[id];_data||filling.hasOwnProperty(id)||(_data=_default_filling[id]);var needProcess=[];_lodash2["default"].isArray(_data)?(_lodash2["default"].forEach(_data,function(optId){if(_data&&_logic&&_logic.info&&_logic.info[id]){var _logicInfo=_logic.info[id][_getId(id,optId)];_logicInfo&&(needProcess=needProcess.concat(_logicInfo))}}),needProcess=_lodash2["default"].uniq(needProcess)):_data&&needProcess.push(_data),needProcess&&needProcess.length>0&&_lodash2["default"].forEach(needProcess,function(_showId){var _idx=_order.indexOf(_showId);if(_idx>-1&&!positionIdx[_showId])if(oldPositionIdx&&oldPositionIdx[_showId]>-1)positionIdx[_showId]=oldPositionIdx[_showId],setComponentPositionIdx(filling,_showId,positionIdx[_showId],offset);else if(_idx>currentIdx)positionIdx[_showId]=_idx,setComponentPositionIdx(filling,_showId,_idx,offset);else{var _positionIdx=Math.round(currentIdx*(100*offset)+(_idx+1))/(100*offset);positionIdx[_showId]=_positionIdx,setComponentPositionIdx(filling,_showId,_positionIdx,100*offset)}})}function hasAttachmentComponent(){return _attachment}function getValidMobile(){return _validMobile}function hasPage(){return _hasPage}function getPageNum(){return _shownComponents.length}function getCurrentComponentPageNum(componentId){var _res=0;return _shownComponents.length>1&&hasPage&&(_lodash2["default"].startsWith(componentId,"ctcf#")||(componentId=+componentId),_MGDebugger2["default"].log("shown components ::",_shownComponents),_lodash2["default"].forEach(_shownComponents,function(page,num){if(page&&(_lodash2["default"].forEach(page,function(info){if("squeezeBox"===info.type){var _hasValue=!1;if(_lodash2["default"].forEach(info.children,function(chCpId){if(chCpId=""+chCpId,_lodash2["default"].startsWith(chCpId,"ctcf#")||(chCpId=+chCpId),chCpId===componentId)return _res=num,_hasValue=!0,!1}),_hasValue)return!1}else{var _id=""+info.id;if(_lodash2["default"].startsWith(_id,"ctcf#")||(_id=+_id),_id===componentId)return _res=num,!1}}),_res))return!1})),_res}function getPage(pageNum){pageNum<0?pageNum=0:pageNum>_shownComponents.length-1&&(pageNum=_shownComponents.length-1),_pageNum=pageNum;var _currentComponents=_shownComponents[pageNum];return _lodash2["default"].isEmpty(_currentComponents)?_shownComponents[0]:_currentComponents}function hasNextPage(pageNum){for(var _res=!1,i=pageNum,len=_shownComponents.length;i<len;i++)if(_shownComponents[i]&&!_lodash2["default"].isEmpty(_shownComponents[i])){_res=!0;break}return _res}function getPageStartOffset(pageNum){for(var res=0,i=0;i<pageNum;i++)_shownComponents[i]&&!_lodash2["default"].isEmpty(_shownComponents[i])&&!function(){var _len=0;_lodash2["default"].forEach(_shownComponents[i],function(info){"squeezeBox"===info.type?_lodash2["default"].forEach(info.children,function(cid){isFillingComponent(getComponents(cid).type)&&_len++}):isFillingComponent(getComponents(info.id).type)&&_len++}),res+=_len}();return res}function hasSale(){return _sale&&_sale.length>0}function getCommodities(){return _sale}function processCart(fillData,extFn){var _cartInfo=[];return _lodash2["default"].forEach(_sale,function(cid){fillData[cid]&&!function(){var component=getComponents(cid);_lodash2["default"].forEach(fillData[cid],function(num,sId){if(num&&num>0){var _commodity=_lodash2["default"].find(component.commodities,{sId:+sId}),price=Math.round(100*+_commodity.price),res={sId:+sId,name:_commodity.name||"",price:price,num:+num,noPrice:component.isHidePrice,total:Math.round(price*+num)/100};extFn&&(res=extFn(res)),_cartInfo.push(res)}})}()}),_cartInfo}function setPaymentType(type){_paymentType=+type}function getPaymentType(){return _paymentType}function isInnerFormPay(){return _innerFormPay.isInnerFormPay}function getInnerFormPayInfo(){return _extensions2["default"].getInnerFormPay().info}function getFormCaptcha(){return _extensions2["default"].getExt("captcha")}function setCaptchaToken(token){_captchaToken=token}function getCaptchaToken(){return _captchaToken}function setCaptchaData(content){_captchaContent=content}function getCaptchaData(){return _captchaContent}function convertRawComponentData(){var _noCp=_RAW&&(!_RAW.cp||_lodash2["default"].isEmpty(_RAW.cp)),_noCpCtcf=_RAW&&(!_RAW.cp_ctcf||_lodash2["default"].isEmpty(_RAW.cp_ctcf));if(!(!_RAW||_noCp&&_noCpCtcf)){_default_filling={};var _imgNum=[];if(_components=(0,_FormViewerUtil.convertComponentData)({cp:_RAW.cp,cp_ctcf:_RAW.cp_ctcf},_UGC,function(data){var oqInfo=_OQ?_OQ.SO:null;if("picCarousel"===data.type&&!_extensions2["default"].getExt("componentPicCarousel"))return{illegal:"picCarousel"};if("staticVideo"===data.type&&!_extensions2["default"].getExt("componentVideo"))return{illegal:"staticVideo"};if("button"===data.type&&!_extensions2["default"].getExt("componentButton"))return{illegal:"button"};if("commodity"===data.type&&_OQ&&(oqInfo=_OQ.SL),data.isLimitOptions&&oqInfo&&oqInfo[data.id]&&(data.optionsQuotaInfo=oqInfo[data.id]),"rank"===data.type&&data.options&&!function(){var _newOpts=[],_newOptIds=[];_lodash2["default"].forEach(data.options,function(opt){_newOptIds.indexOf(opt.sId)===-1&&(_newOptIds.push(opt.sId),_newOpts.push(opt))}),data.options=_newOpts}(),"avatar"===data.type&&(data.fileSize="8",data.isLimitFileSize=1),"IM"!==data.type&&"SNS"!==data.type||data.hasOwnProperty("isAcceptMulti")||(data.isAcceptMulti=!0),data.isRandomOptions&&(data.options=_lodash2["default"].shuffle(data.options)),("multiLevel"===data.type||data.isCustomField&&8===data.type)&&!function(){var style=getStyle();style&&(style=style.bodyStyle||{}),data.widthInfo={},_lodash2["default"].forEach(data.options,function(info){1!==info.type&&2!==info.type||(data.widthInfo[info.id]=_MGString2["default"].getWidth(info.content,(style.optionFontSize||14)+"px/1 "+_FONT))})}(),"commodity"===data.type&&(_sale||(_sale=[]),_sale.push(data.id)),fillingDefaultValue(data),1===_MODE)switch(data.type){case"picRadio":case"picCheckbox":_lodash2["default"].forEach(data.options,function(info){info&&info.image&&info.image.imageUri&&_imgNum.push(info.image.imageUri)});break;case"staticPic":_lodash2["default"].forEach(data.pictures,function(info){_MGDebugger2["default"].log(info),info&&info.imageUri&&_imgNum.push(info.imageUri)});break;case"picCarousel":_lodash2["default"].forEach(data.carouselPictures,function(info){info&&info.imageUri&&_imgNum.push(info.imageUri)});break;case"commodity":_lodash2["default"].forEach(data.commodities,function(info){info&&info.image&&info.image.imageUri&&_imgNum.push(info.image.imageUri)})}return data},_TEMPLATE_CDN,_templateCDNRate()),_MGDebugger2["default"].log(_imgNum),_imgNum.length>0&&1===_MODE&&window._LFP&&!window._CDN){var _LFP=Math.max(0,window._LFP);_LFP<1&&!function(){var _D_CDN_LIST=void 0;_D_CDN_LIST=_LFP>0?_lodash2["default"].shuffle(_imgNum).slice(0,Math.round(_imgNum.length*(1.2-_LFP)+_PCDN_RATE())):_imgNum,_MGDebugger2["default"].log(_D_CDN_LIST),_lodash2["default"].forEach(_components,function(data,id){switch(data.type){case"picRadio":case"picCheckbox":_components[id].options=_lodash2["default"].map(data.options,function(info){return info&&info.image&&info.image.imageUri&&_D_CDN_LIST.indexOf(info.image.imageUri)>-1&&(info.image.imageUri=(0,_tools.selfCdnizer)(info.image.imageUri),info.image.imageFullUri=(0,_tools.selfCdnizer)(info.image.imageFullUri)),info});break;case"staticPic":_components[id].pictures=_lodash2["default"].forEach(data.pictures,function(info){return info&&info.imageUri&&_D_CDN_LIST.indexOf(info.imageUri)>-1&&(info.imageUri=(0,_tools.selfCdnizer)(info.imageUri)),info});break;case"picCarousel":_components[id].carouselPictures=_lodash2["default"].forEach(data.carouselPictures,function(info){return info&&info.imageUri&&_D_CDN_LIST.indexOf(info.imageUri)>-1&&(info.imageUri=(0,_tools.selfCdnizer)(info.imageUri)),info});break;case"commodity":_components[id].commodities=_lodash2["default"].forEach(data.commodities,function(info){return info&&info.image&&info.image.imageUri&&_D_CDN_LIST.indexOf(info.image.imageUri)>-1&&(info.image.imageUri=(0,_tools.selfCdnizer)(info.image.imageUri),info.image.imageFullUri=(0,_tools.selfCdnizer)(info.image.imageFullUri)),info})}})}()}}}function fillingDateTimeDefaultValue(data,type){var temp=void 0,dayDefault=data.dayDefault,defaultDay=data.defaultDay,timeDefault=data.timeDefault,defaultTime=data.defaultTime,dayTimeDefault=data.dayTimeDefault,defaultDayTime=data.defaultDayTime,currentMoment=(0,_MGMoment2["default"])();if("dateTime_date"===type||void 0===type)switch(dayDefault){case"2":temp=currentMoment.getFullDate();break;case"3":temp=currentMoment.add(-1,"D").getFullDate();break;case"4":temp=currentMoment.add(1,"D").getFullDate();break;case"5":temp=currentMoment.month();break;case"6":temp=currentMoment.year();break;case"-1":temp=defaultDay||null}else if("dateTime_time"===type){if("2"===timeDefault?temp=currentMoment.getTime():"-1"===timeDefault&&(temp=defaultTime||null),temp&&data.timePrecision&&temp.match(/[:]/)){var _time=_lodash2["default"].trim(temp),_resTime=_time.split(":");_resTime=_resTime.concat("00","00").slice(0,data.timePrecision).concat("00","00").slice(0,3).join(":"),temp=_resTime}}else if("dateTime_both"===type&&("2"===dayTimeDefault?temp=currentMoment.getFullDateTime():"-1"===dayTimeDefault&&(temp=defaultDayTime||null),temp&&data.timePrecision&&temp.match(/[:]/)&&temp.match(/[\s]/))){var _temp$split=temp.split(/[\s]/),_temp$split2=_slicedToArray(_temp$split,2),_date=_temp$split2[0],_time2=_temp$split2[1],_resTime2=_time2.split(":");_resTime2=_resTime2.concat("00","00").slice(0,+data.timePrecision).concat("00","00").slice(0,3).join(":"),temp=_date+" "+_resTime2}return temp}function fillingDefaultValue(data){var temp=void 0;if(data.isCustomField)switch(data.type){case 4:temp=+data.rateDefault;break;case 5:temp=[+data.cfDefaultSymbol];break;case 9:temp=fillingDateTimeDefaultValue(data,data.cfDateTimeType);break;case 12:temp={},2!==data.componentType&&(temp.vpType=+(data.defaultVpLocation||1))}!function(){switch(data.type){case"radio":case"checkbox":case"dropDown":case"picRadio":case"picCheckbox":case"title":case"gender":data.optionsDefaultValue&&(temp=[],_lodash2["default"].forEach(data.options,function(info){if(info.isDefaultValue){if(data.isLimitOptions&&data.isShowOptionLimit&&data.optionsQuotaInfo&&info.sId in data.optionsQuotaInfo){var _quotaInfo=data.optionsQuotaInfo[info.sId],_remaining=_quotaInfo[1]-_quotaInfo[0];if(_remaining<=0)return!0}temp.push(info.sId)}}));break;case"multiLevel":temp=[];var _lvlSelected=[],_selectedInfo=[],_setDefaultSelect=function _setDefaultSelect(pId){var lvl=getChildrenIn(data.options,pId);_lodash2["default"].forEach(lvl,function(info){if(info.defaultValue){var len=_lvlSelected.length,_currentDepth=getTreeDepth(data.options,len,pId);return _lvlSelected.push(info.id),_selectedInfo.push(info),(_currentDepth===_lvlSelected.length||data.isAllowPartEmpty)&&(temp=[{current:_selectedInfo,id:info.sId}]),_currentDepth>_lvlSelected.length&&_setDefaultSelect(info.id),!1}})};_setDefaultSelect(null),_lodash2["default"].isEmpty(temp)&&(temp=[{current:_selectedInfo,id:null}]);break;case"dateTime_date":case"dateTime_time":case"dateTime_both":temp=fillingDateTimeDefaultValue(data,data.type);break;case"rate":temp=+data.rateDefault;break;case"tabular":temp={},2===+data.tabularType||1===+data.tabularType||void 0===data.tabularType?_lodash2["default"].forEach(data.options,function(info){info.isDefaultValue&&_lodash2["default"].forEach(data.questions,function(question){temp[question.id]||(temp[question.id]=[]),temp[question.id].push(data.ql2sMapping[question.id][info.id])})}):4===+data.tabularType&&data.rateDefault&&_lodash2["default"].forEach(data.questions,function(question){temp[question.id]=+data.rateDefault});break;case"company":case"department":case"position":1===+data.searchComponentType||void 0===data.searchComponentType||data.optionsDefaultValue&&(temp=[],_lodash2["default"].forEach(data.options,function(info){info.isDefaultValue&&temp.push(info.sId)}))}}(),temp&&(_lodash2["default"].isObject(temp)||_lodash2["default"].isArray(temp)?_lodash2["default"].isEmpty(temp)||(_default_filling[data.id]=temp):_default_filling[data.id]=temp)}function getParamsDt(){var dt=decodeURIComponent(_tools2["default"].parseURL(location.href).params.dt);if(!dt)return null;try{dt=JSON.parse(dt)}catch(e){dt=null}if(!_lodash2["default"].isPlainObject(dt))return null;var _res={},components=getComponents();return _lodash2["default"].forEach(dt,function(data,key){var _key=key;if("foc"===_key)return void(_res.foc=data);var _component=null;if(_FormMetaInfoMappingUtil.DT_CONTACT_MAPPING[_key]){var type=_FormMetaInfoMappingUtil.DT_CONTACT_MAPPING[key];_component=_lodash2["default"].find(components,{type:type}),_key=_component.id}if(_component||(_component=_lodash2["default"].find(components,{id:_key})),_component){var _value=data;switch(_component.type){case"radio":case"checkbox":case"dropDown":case"picRadio":case"picCheckbox":case"title":case"gender":if(_lodash2["default"].isString(_value)){var _opt=_lodash2["default"].find(_component.options,{value:_value});_opt?_res[_key]=[_opt.sId]:isNaN(+_value)||(_res[_key]=[+_value])}else _lodash2["default"].isNumber(_value)?_res[_key]=[_value]:_lodash2["default"].isArray(_value)&&(_res[_key]=_value);break;case"attachment":case"picAttachment":case"avatar":case"rank":break;case"address":case"location":if(2===_component.componentType&&_value){var _content=_value||"";_lodash2["default"].isPlainObject(_value)&&(_content=_value.content),_res[_key]={content:_content}}break;case"name":_lodash2["default"].isPlainObject(_value)?!function(){var _filterName={};_lodash2["default"].forEach(_FORM_COMPONENTS_NAME_DETAILS,function(v){(_value[v.name]||"n"===v.name)&&(_filterName[v.name]=""+_value[v.name])}),_lodash2["default"].isEmpty(_filterName)||(_res[_key]=_filterName)}():_res[_key]={n:""+_value};break;case"mobile":_lodash2["default"].isPlainObject(_value)?_value.mobile&&(_res[_key]=[_value.mobile||""]):_lodash2["default"].isArray(_value)?_res[_key]=_lodash2["default"].map(_value,function(v){return""+v}):_res[_key]=[""+_value];break;default:_res[_key]=_value}}}),_res}function setDefaultValue(value){var _checkedFillingData={};_lodash2["default"].forEach(value,function(info,id){var component=getComponents(id),temp=void 0;switch(component.type){case"radio":case"checkbox":case"dropDown":case"picRadio":case"picCheckbox":case"title":case"gender":info&&_lodash2["default"].isArray(info)&&!_lodash2["default"].isEmpty(info)&&!function(){temp=[];var infoIdList=_lodash2["default"].map(info,function(i){return _lodash2["default"].isArray(i)?+i[0]:_lodash2["default"].isPlainObject(i)?+i.id:+i});if(_lodash2["default"].forEach(component.options,function(opt){if(infoIdList.indexOf(opt.sId)>-1){if(component.isLimitOptions&&component.optionsQuotaInfo&&opt.sId in component.optionsQuotaInfo){var _quotaInfo=component.optionsQuotaInfo[opt.sId],_remaining=_quotaInfo[1]-_quotaInfo[0];if(_remaining<=0)return!0}temp.push(info[infoIdList.indexOf(opt.sId)])}}),component.isAddOtherOption&&infoIdList.indexOf(component.otherId)>-1){var _remaining=1;if(component.isLimitOptions&&component.optionsQuotaInfo&&component.otherId in component.optionsQuotaInfo){var _quotaInfo=component.optionsQuotaInfo[component.otherId];_remaining=_quotaInfo[1]-_quotaInfo[0]}_remaining>0&&temp.push(info[infoIdList.indexOf(component.otherId)])}_checkedFillingData[id]=temp}();break;case"rate":isNaN(+info)||(+component.rateMax<info?_checkedFillingData[id]=+component.rateMax:_checkedFillingData[id]=+info);break;case"tabular":1===+component.tabularType||2===+component.tabularType||void 0===component.tabularType?(temp={},_lodash2["default"].forEach(info,function(selectedSId,queId){_lodash2["default"].find(component.questions,{id:+queId})&&component.ql2sMapping[+queId]&&selectedSId&&_lodash2["default"].isArray(selectedSId)&&!_lodash2["default"].isEmpty(selectedSId)&&!function(){var _newSelected=[];_lodash2["default"].forEach(component.ql2sMapping[+queId],function(_sId){selectedSId.indexOf(+_sId)>-1&&_newSelected.push(+_sId)}),_lodash2["default"].isEmpty(_newSelected)||(temp[queId]=_newSelected)}()}),_lodash2["default"].isEmpty(temp)||(_checkedFillingData[id]=temp)):_checkedFillingData[id]=info;break;case"rank":temp=info,_lodash2["default"].forEach(info,function(_sid){if(!_lodash2["default"].find(component.options,{sId:_sid}))return temp=null,!1}),temp&&(_checkedFillingData[id]=temp);break;case"commodity":temp={},_lodash2["default"].forEach(info,function(num,_sid){var _commodity=_lodash2["default"].find(component.commodities,{sId:+_sid});if(_commodity&&num){if(component.isLimitOptions&&component.isLimitStock&&_sid in component.optionsQuotaInfo){var _quotaInfo=component.optionsQuotaInfo[_sid],_remaining=!0;(_lodash2["default"].isNumber(_quotaInfo[2])||_lodash2["default"].isNumber(_quotaInfo[1]))&&(_remaining=Math.min(_quotaInfo[2]||1/0,_quotaInfo[1]||1/0)-(_quotaInfo[0]||0)),_lodash2["default"].isNumber(_remaining)&&_remaining>0?temp[+_sid]=Math.min(_remaining,+num):_remaining&&(temp[+_sid]=+num)}else temp[+_sid]=+num;component.isLimitStock&&component.setMaxBuyNum[_commodity.id]&&(temp[+_sid]=Math.min(temp[+_sid],component.setMaxBuyNum[_commodity.id]))}}),_lodash2["default"].isEmpty(temp)||(_checkedFillingData[id]=temp);break;case"multiLevel":info&&_lodash2["default"].isArray(info)&&!_lodash2["default"].isEmpty(info)?(temp=info,temp&&!_lodash2["default"].isEmpty(temp)&&(temp=_lodash2["default"].map(temp,function(info){var _newCurrent=null,_newId=info.id;if(info.current){_newCurrent=[];var _hasError=!1;_lodash2["default"].forEach(info.current,function(c){return _lodash2["default"].find(component.options,{id:c.id})?void _newCurrent.push(c):(_hasError=!0,!1)}),_hasError&&(_newId=null)}return{id:_newId,current:_newCurrent}}),_checkedFillingData[id]=temp)):!function(){var _setDefaultSelect=function _setDefaultSelect(pId){var lvl=getChildrenIn(component.options,pId);_lodash2["default"].forEach(lvl,function(info){if(info.defaultValue){var len=_lvlSelected.length,_currentDepth=getTreeDepth(component.options,len,pId);return _lvlSelected.push(info.id),(_currentDepth===_lvlSelected.length||component.isAllowPartEmpty)&&(temp=[info.sId]),_currentDepth>_lvlSelected.length&&_setDefaultSelect(info.id),!1}})};temp=[];var _lvlSelected=[];_setDefaultSelect(null),_lodash2["default"].isEmpty(temp)||(_checkedFillingData[id]=temp)}();break;case"mobile":if(component.isSendMsgAuth){if(_lodash2["default"].isArray(info))return void(_checkedFillingData[id]={mobile:info[0]||""})}else if(_lodash2["default"].isPlainObject(info))return void(_checkedFillingData[id]=[info.mobile||""]);_checkedFillingData[id]=info;break;case"company":case"department":case"position":1===+component.searchComponentType||void 0===component.searchComponentType?_lodash2["default"].isArray(info)?_checkedFillingData[id]="":_checkedFillingData[id]=info:_lodash2["default"].isString(info)?_checkedFillingData[id]=[]:_checkedFillingData[id]=[].concat(info);break;case"name":if(info&&_lodash2["default"].isPlainObject(info))if(component.isOpenDetails)!function(){var LegalNameInfo={};_lodash2["default"].forEach(_FORM_COMPONENTS_NAME_DETAILS,function(nameDetails){(component.detailsItem||[2,4]).indexOf(+nameDetails.id)>-1&&info[nameDetails.name]&&(LegalNameInfo[nameDetails.name]=info[nameDetails.name])}),_checkedFillingData[id]=LegalNameInfo}();else{var combineName=null;info.n&&(combineName=info.n,_checkedFillingData[id]={n:combineName})}break;case"address":2===component.componentType&&info?_checkedFillingData[id]={content:info.content,struct:null}:_checkedFillingData[id]=info;break;case"location":2!==component.componentType&&info?_checkedFillingData[id]={struct:info.struct}:_checkedFillingData[id]={content:info.content||""};break;default:_checkedFillingData[id]=info}}),_default_filling=_lodash2["default"].assign({},_default_filling,_checkedFillingData)}function getDefaultValue(){return _default_filling}function getCurrentAll(){var _idList=[];return _lodash2["default"].forEach(_shownComponents[_pageNum],function(info){"normal"===info.type?_lodash2["default"].startsWith(""+info.id,"ctcf#")?_idList.push(info.id):_idList.push(+info.id):"squeezeBox"===info.type&&_lodash2["default"].forEach(info.children,function(sqId){_lodash2["default"].startsWith(""+sqId,"ctcf#")?_idList.push(sqId):_idList.push(+sqId)})}),_idList}function getActive(pageMode){var _idList=[],_activeComponents=pageMode?_shownComponents[_pageNum]:_lodash2["default"].flatten(_shownComponents);return _lodash2["default"].forEach(_activeComponents,function(info){"normal"===info.type?_lodash2["default"].startsWith(""+info.id,"ctcf#")?_idList.push(info.id):_idList.push(+info.id):"squeezeBox"===info.type&&_lodash2["default"].forEach(info.children,function(sqId){_lodash2["default"].startsWith(""+sqId,"ctcf#")?_idList.push(sqId):_idList.push(+sqId)})}),_idList}function getComponents(id){return _components||convertRawComponentData(),id?_lodash2["default"].isArray(id)?_lodash2["default"].map(id,function(_i){return _components[_i]||{}}):_components[id]||{}:_components}function setCacheReferrer(cacheRef){_referrer=cacheRef}function getSendMeta(){var _ext=_lodash2["default"].assign({},_extInfo);return _NEED_PWD&&(_ext.p=getPassword()),_lodash2["default"].assign({i:_META.I||"",t:_META.T||"",s:_META.FRS||"",acc:_META.ACC||"",r:_referrer||""},_ext)}function getCacheFilling(fillData){var _processedCacheFilling={};return _lodash2["default"].forEach(fillData,function(info,id){var componentInfo=getComponents(id);switch(componentInfo.type){case"attachment":case"picAttachment":case"avatar":break;case"city":case"location":case"address":_processedCacheFilling[id]=info;break;case"mobile":_lodash2["default"].isPlainObject(info)&&componentInfo.isSendMsgAuth?info&&!_lodash2["default"].isEmpty(info)&&(_processedCacheFilling[id]={mobile:info.mobile}):_processedCacheFilling[id]=info;break;default:_processedCacheFilling[id]=info}}),_processedCacheFilling}function getComponentFillData(fillData,logic,isCheckIn){var _processedFillData={},_processedCtcfFillData={},_changedContactInfoList=[];return _lodash2["default"].forEach(fillData,function(info,id){if(!logic||_lodash2["default"].isEmpty(positionIdx)||positionIdx.hasOwnProperty(id)){var componentInfo=getComponents(id),tempData=void 0,isContactInfo=_FormMetaInfoMappingUtil.FORM_CONTACT_INFO_COMPONENT_LIST.indexOf(componentInfo.type)>-1;if(componentInfo.isCustomField){var _ctcfId=+id.replace("ctcf#","");switch(componentInfo.type){case 3:null!==info&&void 0!==info&&(_processedCtcfFillData[_ctcfId]=Number(_MGIntl2["default"].localeStringToNumber(info)));break;case 5:info&&info[0]&&null!==info[1]&&void 0!==info[1]&&(_processedCtcfFillData[_ctcfId]=[info[0],Number(_MGIntl2["default"].localeStringToNumber(info[1]))]);break;case 6:case 7:tempData=[],_lodash2["default"].forEach(info,function(d,i){_lodash2["default"].isObject(d)?tempData.push([d.id,d.value]):tempData.push(d)}),6===componentInfo.type&&(tempData=tempData[0]),void 0===tempData&&(tempData=null),tempData&&(_lodash2["default"].isArray(tempData)&&_lodash2["default"].isEmpty(tempData)||(_processedCtcfFillData[_ctcfId]=tempData));break;case 8:info&&!_lodash2["default"].isEmpty(info)&&(tempData=info[0],tempData=tempData.id&&tempData.value?[tempData.id,tempData.value]:tempData.id?tempData.id:null,tempData&&(_processedCtcfFillData[_ctcfId]=tempData));break;case 12:if(info&&null!==info.vpVal&&void 0!==info.vpVal&&""!==info.vpVal){var _vpType="";2!==componentInfo.componentType&&info.vpType&&(_vpType=_lodash2["default"].find(FORM_SETTINGS_CF_VEHICLE_TYPE_SELECT,{id:+info.vpType}).title),_processedCtcfFillData[_ctcfId]=_vpType+info.vpVal}break;default:if(null!==info&&void 0!==info&&""!==info)if(_lodash2["default"].isPlainObject(info)||_lodash2["default"].isArray(info)){if(!_lodash2["default"].isEmpty(info)){var _tempData="";_lodash2["default"].forEach(info,function(v){_tempData+=v}),_tempData&&(_processedCtcfFillData[_ctcfId]=info)}}else _processedCtcfFillData[_ctcfId]=info}}else{var _ret13=function(){switch(componentInfo.type){case"multiLevel":info&&!_lodash2["default"].isEmpty(info)&&(tempData=info[0],tempData=tempData.id&&tempData.value?[tempData.id,tempData.value]:tempData.id?tempData.id:null,tempData&&(_processedFillData[id]=tempData));break;case"checkbox":case"radio":case"picCheckbox":case"picRadio":case"dropDown":case"title":case"gender":if(tempData=[],_lodash2["default"].forEach(info,function(d,i){_lodash2["default"].isObject(d)?tempData.push([d.id,d.value]):tempData.push(d)}),["dropDown","radio","picRadio"].indexOf(componentInfo.type)>-1)tempData=tempData[0],void 0===tempData&&(tempData=null);else if(["title","gender"].indexOf(componentInfo.type)>-1){tempData=tempData[0];var _info=_lodash2["default"].find(componentInfo.options,{sId:tempData});_info?(isContactInfo&&_uvdContactInfo[componentInfo.type]!==_info.id&&_changedContactInfoList.push(id),tempData+=";"+_info.id):tempData=null}tempData&&(_lodash2["default"].isArray(tempData)&&_lodash2["default"].isEmpty(tempData)||(_processedFillData[id]=tempData));break;case"company":case"department":case"position":if(2===+componentInfo.searchComponentType||3===+componentInfo.searchComponentType){if(tempData=[],_lodash2["default"].forEach(info,function(d,i){_lodash2["default"].isPlainObject(d)?tempData.push([d.id,d.value]):tempData.push(d)}),tempData=tempData[0],void 0===tempData||null===tempData)return{v:!0};_processedFillData[id]=tempData}else isContactInfo&&_uvdContactInfo[componentInfo.type]!==info&&_changedContactInfoList.push(id),null!==info&&void 0!==info&&(_processedFillData[id]=info);break;case"rank":tempData=[],_lodash2["default"].forEach(info,function(_d){tempData.push(_d)}),_lodash2["default"].isEmpty(tempData)||(_processedFillData[id]=tempData);break;case"tabular":tempData={},_lodash2["default"].forEach(info,function(d,i){var newData=d;switch(+componentInfo.tabularType){case 2:break;case 3:break;case 4:if(null===newData)return;newData=-newData;break;case 1:default:newData=newData[0]}tempData[i]=newData}),_lodash2["default"].isEmpty(tempData)||(_processedFillData[id]=tempData);break;case"attachment":case"picAttachment":case"avatar":break;case"city":case"location":if(info&&!_lodash2["default"].isEmpty(info)&&!_lodash2["default"].isEmpty(info.struct)&&(tempData=info.struct[info.struct.length-1]||null)){if(isContactInfo){var _contain=!1;_lodash2["default"].forEach(_uvdContactInfo[componentInfo.type],function(val){if(+val===+tempData)return _contain=!0,!1}),_contain||_changedContactInfoList.push(id)}_processedFillData[id]=tempData}break;case"address":info&&!_lodash2["default"].isEmpty(info)&&!function(){var _struct=null,_content=info.content||null,_zipCode=info.zipCode||null;if(info.struct&&!_lodash2["default"].isEmpty(info.struct)&&(_struct=info.struct[info.struct.length-1]||null),_struct||_content||_zipCode){var _sendContent=_content;if(_processedFillData[id]=[[_struct,_sendContent,_zipCode]],isContactInfo){var _contain2=!1;_uvdContactInfo[componentInfo.type]?(_lodash2["default"].forEach(_uvdContactInfo[componentInfo.type][0],function(val){if(+val===+_struct)return _contain2=!0,!1}),_contain2&&_content===_uvdContactInfo[componentInfo.type][1]&&_uvdContactInfo[componentInfo.type][2]===_zipCode||_changedContactInfoList.push(id)):_changedContactInfoList.push(id)}}}();break;case"number":case"currency":null!==info&&void 0!==info&&(_processedFillData[id]=Number(_MGIntl2["default"].localeStringToNumber(info)));break;case"IM":case"SNS":var _groupInfoData={};_lodash2["default"].forEach(info,function(d){if(d.info&&_lodash2["default"].trim(d.info)){var _type=d.type;_groupInfoData[_type]||(_groupInfoData[_type]=[]),_groupInfoData[_type].push(d.info)}}),_lodash2["default"].isEmpty(_groupInfoData)||(_processedFillData[id]=_groupInfoData,_lodash2["default"].forEach(_groupInfoData,function(d,typeId){var _t=_FormMetaInfoMappingUtil.METAID_COMPONENT_MAPPING[typeId];if(_FormMetaInfoMappingUtil.METAID_COMPONENT_MAPPING[typeId]&&_uvdContactInfo[_t]!==d[0])return _changedContactInfoList.push(id),!1}));break;case"mobile":if(!isCheckIn&&componentInfo.isSendMsgAuth&&info&&!_lodash2["default"].isEmpty(info))_lodash2["default"].trim(info.mobile)&&(info.verificationToken&&info.verificationCode&&info.verificationMobileToken?_processedFillData[id]=[{mb:info.mobile,vt:info.verificationToken,vc:info.verificationCode,vv:info.verificationMobileToken}]:info.verificationToken&&!info.verificationMobileToken?_processedFillData[id]=[{mb:info.mobile,vt:info.verificationToken}]:_processedFillData[id]=[{mb:info.mobile}],isContactInfo&&info.mobile!==_uvdContactInfo[componentInfo.type]&&_changedContactInfoList.push(id));else{var _tempData2="";_lodash2["default"].forEach(info,function(d){_tempData2+=d}),_lodash2["default"].trim(_tempData2)&&(_processedFillData[id]=info,isContactInfo&&info&&!_lodash2["default"].isEmpty(info)&&info[0]!==_uvdContactInfo[componentInfo.type]&&_changedContactInfoList.push(id))}break;default:if(null!==info&&void 0!==info&&""!==info)if(_lodash2["default"].isPlainObject(info)||_lodash2["default"].isArray(info)){if(!_lodash2["default"].isEmpty(info))if(isContactInfo)if("name"===componentInfo.type){var _allContent="";_lodash2["default"].forEach(info,function(d){_allContent+=d}),_allContent&&(JSON.stringify(info)!==JSON.stringify(_uvdContactInfo[componentInfo.type])&&_changedContactInfoList.push(id),_processedFillData[id]=info)}else _lodash2["default"].isArray(info)?info.join("")&&(info[0]!==_uvdContactInfo[componentInfo.type]&&_changedContactInfoList.push(id),_processedFillData[id]=info):(info!==_uvdContactInfo[componentInfo.type]&&_changedContactInfoList.push(id),_processedFillData[id]=info);else!function(){var _tempData="",_data={};_lodash2["default"].forEach(info,function(v,k){_tempData+=v||"",v&&(_data[k]=v)}),_tempData&&(_processedFillData[id]=_data)}()}else isContactInfo&&info!==_uvdContactInfo[componentInfo.type]&&_changedContactInfoList.push(id),_processedFillData[id]=info}}();if("object"===("undefined"==typeof _ret13?"undefined":_typeof(_ret13)))return _ret13.v}}}),{processedCtcfFillData:_processedCtcfFillData,processedFillData:_processedFillData,changedContactInfoList:_changedContactInfoList}}function getSubmitData(fillData){var _getComponentFillData=getComponentFillData(fillData,_logic),processedCtcfFillData=_getComponentFillData.processedCtcfFillData,processedFillData=_getComponentFillData.processedFillData,changedContactInfoList=_getComponentFillData.changedContactInfoList,content={
cp:processedFillData};if(_lodash2["default"].isEmpty(processedCtcfFillData)||(content.cp_ctcf=processedCtcfFillData),_logic&&!_lodash2["default"].isEmpty(positionIdx)&&(content.ext||(content.ext={}),content.ext.sc=_lodash2["default"].map(Object.keys(positionIdx),function(id){return _lodash2["default"].startsWith(id,"ctcf#")?id:+id})),changedContactInfoList.length>0&&(content.ext||(content.ext={}),content.ext.uvd=_lodash2["default"].map(changedContactInfoList,function(v){return+v})),_innerFormPay&&_innerFormPay.isInnerFormPay){var _priceTotal=0,_cartInfo=processCart(fillData,function(data){return _priceTotal+=data.total,{price:data.price,num:data.num}});_cartInfo.length>0&&_priceTotal>0&&(content.ext||(content.ext={}),content.ext.cashier={c:1,tp:Math.round(_lodash2["default"].reduce(_cartInfo,function(pre,item){return pre+item.price*item.num},0))/100,m:_paymentType,d:_tools2["default"].fuzzyDeviceCheck?2:1})}getFormCaptcha()&&(content.ext||(content.ext={}),content.ext.cpt={t:_captchaToken,c:_captchaContent});var _checkInInfo=_extensions2["default"].getCheckIn();if(_checkInInfo.isCheckIn&&_checkInInfo.info.ckiWeChat&&getVstWcState()&&(content.ext||(content.ext={}),content.ext.fcki={wc:1}),window._SST){content.ext||(content.ext={});var _now=+new Date;content.ext.optrk={_SST:window._SST,dur:(_now-_start_t)/1e3,vdp:1}}return{cvs:_lodash2["default"].assign({},getSendMeta(),{c:content})}}function getCheckInData(fillData){var checkInData={t:_TOKEN,k:fillData.checkKey};if(_JHR===-80012){var _getComponentFillData2=getComponentFillData(_lodash2["default"].omit(fillData,"checkKey"),null,!0),processedCtcfFillData=_getComponentFillData2.processedCtcfFillData,processedFillData=_getComponentFillData2.processedFillData,content={cp:processedFillData};_lodash2["default"].isEmpty(processedCtcfFillData)||(content.cp_ctcf=processedCtcfFillData),checkInData.ext={c:content}}return{cvs:_lodash2["default"].assign({},checkInData)}}function setInjectState(state){_scriptInjectForm=state}function canPostMessage(){return _tools2["default"].inIframe()&&_scriptInjectForm}function postMessage(data){return!!canPostMessage()&&(window.parent.postMessage(JSON.stringify(data),"*"),!0)}function run(){getLangCode(),null!==_JHR&&_RAW&&(getHeader(),getStyle(),getLayout(),getComponents(),getLogic())}function _getQueryKey(){for(var key=void 0;void 0===key||_EXIST.hasOwnProperty(key)||!isNaN(+key);)key=Math.floor(Math.random()*_QUERY_KEY_SOUL).toString(32);return _EXIST[key]=!0,key}function getParentInfo(query){return new Promise(function(resolve){_tools2["default"].inIframe()&&window.addEventListener&&_lodash2["default"].isArray(query)?!function(){var _callbackMessage=function _callbackMessage(evt){if(evt.data){var _d={};try{_d=JSON.parse(evt.data)}catch(e){}_d.queryRes&&_d.queryRes.hasOwnProperty(_KEY)&&(window.removeEventListener("message",_callbackMessage,!1),resolve(_d.queryRes))}},_KEY=_getQueryKey();window.addEventListener("message",_callbackMessage,!1);var _post=postMessage({getter:[{v:!1,n:_KEY}].concat(query)});_post||(window.removeEventListener("message",_callbackMessage,!1),resolve(null))}():resolve(null)})}function convertBeforePayInfo(res){var exRaw=res,prList=[];return _lodash2["default"].forEach(exRaw.p.l,function(prInfo){var _prItem=_lodash2["default"].zipObject(["prId","prNo","prName","prPriceCn","prPriceEn"],prInfo);_prItem.prPrice={1:_prItem.prPriceCn,2:_prItem.prPriceEn},prList.push(_prItem)}),{prGrName:exRaw.p.mt,prList:prList}}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(22),_jquery2=_interopRequireDefault(_jquery),_config=__webpack_require__(9),_md=__webpack_require__(31),_md2=_interopRequireDefault(_md),_MGDebugger=__webpack_require__(32),_MGDebugger2=_interopRequireDefault(_MGDebugger),_tools=__webpack_require__(33),_tools2=_interopRequireDefault(_tools),_MGString=__webpack_require__(29),_MGString2=_interopRequireDefault(_MGString),_MGMoment=__webpack_require__(34),_MGMoment2=_interopRequireDefault(_MGMoment),_MGIntl=__webpack_require__(12),_MGIntl2=_interopRequireDefault(_MGIntl),_FormMetaInfoMappingUtil=__webpack_require__(35),_FormConvertUtil=__webpack_require__(36),_FormViewerUtil=__webpack_require__(39),_extensions=__webpack_require__(40),_extensions2=_interopRequireDefault(_extensions),_FORM_COMPONENTS_NAME_DETAILS=(0,_FormMetaInfoMappingUtil.FORM_COMPONENTS_NAME_DETAILS)({np:_config.lang.cnamePrefix,nf:_config.lang.cnameFirst,nm:_config.lang.cnameMiddle,nl:_config.lang.cnameLast,ns:_config.lang.cnameSuffix,nn:_config.lang.cnameNick}),_EMOJI_FLAGS_MAPPING={1:"🇨🇳",3250:"🇦🇫",3251:"🇦🇱",3252:"🇩🇿",3253:"🇦🇩",3254:"🇦🇴",3255:"🇦🇬",3256:"🇦🇷",3257:"🇦🇲",3258:"🇦🇺",3259:"🇦🇹",3260:"🇦🇿",3261:"🇧🇸",3262:"🇧🇭",3263:"🇧🇩",3264:"🇧🇧",3265:"🇧🇾",3266:"🇧🇪",3267:"🇧🇿",3268:"🇧🇯",3269:"🇧🇹",3270:"🇧🇴",3272:"🇧🇼",3273:"🇧🇷",3274:"🇧🇳",3275:"🇧🇬",3276:"🇧🇫",3277:"🇧🇮",3278:"🇰🇭",3279:"🇨🇲",3280:"🇨🇦",3281:"🇨🇻",3282:"🇨🇫",3283:"🇹🇩",3284:"🇨🇱",3285:"🇨🇴",3286:"🇰🇲",3287:"🇨🇬",3288:"🇨🇩",3289:"🇨🇰",3290:"🇨🇷",3291:"🇨🇮",3292:"🇭🇷",3293:"🇨🇺",3294:"🇨🇾",3295:"🇨🇿",3296:"🇩🇰",3297:"🇩🇯",3298:"🇩🇲",3299:"🇩🇴",3300:"🇪🇨",3301:"🇪🇬",3302:"🇸🇻",3303:"🇬🇶",3304:"🇪🇷",3305:"🇪🇪",3306:"🇪🇹",3307:"🇫🇯",3308:"🇫🇮",3309:"🇫🇷",3310:"🇬🇦",3311:"🇬🇲",3312:"🇬🇪",3313:"🇩🇪",3314:"🇬🇭",3315:"🇬🇷",3316:"🇬🇩",3317:"🇬🇹",3318:"🇬🇳",3319:"🇬🇼",3320:"🇬🇾",3321:"🇭🇹",3322:"🇭🇳",3323:"🇭🇺",3324:"🇮🇸",3325:"🇮🇳",3326:"🇮🇩",3327:"🇮🇷",3328:"🇮🇶",3329:"🇮🇪",3330:"🇮🇱",3331:"🇮🇹",3332:"🇯🇲",3333:"🇯🇵",3334:"🇯🇴",3335:"🇰🇿",3336:"🇰🇪",3337:"🇰🇮",3338:"🇰🇷",3339:"🇽🇰",3340:"🇰🇼",3341:"🇰🇬",3342:"🇱🇦",3343:"🇱🇻",3344:"🇱🇧",3345:"🇱🇸",3346:"🇱🇷",3347:"🇱🇾",3348:"🇱🇮",3349:"🇱🇹",3350:"🇱🇺",3351:"🇲🇰",3352:"🇲🇬",3353:"🇲🇼",3354:"🇲🇾",3355:"🇲🇻",3356:"🇲🇱",3357:"🇲🇹",3358:"🇲🇭",3359:"🇲🇷",3360:"🇲🇺",3361:"🇲🇽",3362:"🇫🇲",3363:"🇲🇩",3364:"🇲🇨",3365:"🇲🇳",3366:"🇲🇪",3367:"🇲🇦",3368:"🇲🇿",3369:"🇲🇲",3371:"🇳🇦",3372:"🇳🇷",3373:"🇳🇵",3374:"🇳🇱",3375:"🇳🇿",3376:"🇳🇮",3377:"🇳🇪",3378:"🇳🇬",3379:"🇳🇺",3381:"🇳🇴",3382:"🇴🇲",3383:"🇵🇰",3384:"🇵🇼",3386:"🇵🇦",3387:"🇵🇬",3388:"🇵🇾",3389:"🇰🇵",3390:"🇵🇪",3391:"🇵🇭",3392:"🇵🇱",3393:"🇵🇹",3395:"🇶🇦",3396:"🇷🇴",3397:"🇷🇺",3398:"🇷🇼",3402:"🇼🇸",3403:"🇸🇲",3405:"🇸🇦",3406:"🇸🇳",3407:"🇷🇸",3408:"🇸🇨",3409:"🇸🇱",3410:"🇸🇬",3411:"🇸🇰",3412:"🇸🇮",3413:"🇸🇧",3414:"🇸🇴",3416:"🇿🇦",3418:"🇸🇸",3419:"🇪🇸",3420:"🇱🇰",3421:"🇸🇩",3422:"🇸🇷",3423:"🇸🇿",3424:"🇸🇪",3425:"🇨🇭",3426:"🇸🇾",3427:"🇹🇯",3428:"🇹🇿",3429:"🇹🇭",3430:"🇹🇱",3431:"🇹🇬",3432:"🇹🇴",3434:"🇹🇳",3435:"🇹🇷",3436:"🇹🇲",3437:"🇹🇻",3438:"🇺🇬",3439:"🇺🇦",3440:"🇦🇪",3441:"🇬🇧",3442:"🇺🇸",3443:"🇺🇾",3444:"🇺🇿",3445:"🇻🇺",3447:"🇻🇪",3448:"🇻🇳",3449:"🇪🇭",3450:"🇾🇪",3451:"🇿🇲",3452:"🇿🇼",3453:"🇦🇸",3454:"🇦🇮",3455:"🇦🇼",3456:"🇧🇲",3457:"🇮🇴",3458:"🇰🇾",3459:"🇨🇽",3460:"🇨🇨",3461:"🇨🇼",3462:"🇫🇰",3463:"🇫🇴",3464:"🇵🇫",3465:"🇬🇮",3466:"🇬🇱",3467:"🇬🇺",3468:"🇬🇬",3469:"🇯🇪",3470:"🇮🇲",3471:"🇾🇹",3472:"🇲🇸",3473:"🇳🇨",3474:"🇳🇫",3475:"🇲🇵",3476:"🇵🇳",3477:"🇵🇷",3478:"🇷🇪",3481:"🇸🇽",3484:"🇹🇰",3485:"🇹🇦",3487:"🇻🇬"},FORM_SETTINGS_CF_VEHICLE_TYPE_SELECT=[{id:1,title:"京"},{id:2,title:"津"},{id:3,title:"冀"},{id:4,title:"晋"},{id:5,title:"蒙"},{id:6,title:"辽"},{id:7,title:"吉"},{id:8,title:"黑"},{id:9,title:"沪"},{id:10,title:"苏"},{id:11,title:"浙"},{id:12,title:"皖"},{id:13,title:"闽"},{id:14,title:"赣"},{id:15,title:"鲁"},{id:16,title:"豫"},{id:17,title:"鄂"},{id:18,title:"湘"},{id:19,title:"粤"},{id:20,title:"桂"},{id:21,title:"琼"},{id:22,title:"渝"},{id:23,title:"川"},{id:24,title:"贵"},{id:25,title:"云"},{id:26,title:"藏"},{id:27,title:"陕"},{id:28,title:"甘"},{id:29,title:"青"},{id:30,title:"宁"},{id:31,title:"新"}],SUPPORT_PAYMENT_METHOD=[{id:1,bgPosition:"0 -65px",name:_config.lang.gSupportPayMode[0]},{id:2,bgPosition:"0 -105px",name:_config.lang.gSupportPayMode[1]},{id:4,bgPosition:"0 -220px",smallBgPosition:"-184px -46px",name:_config.lang.gSupportPayMode[3]}],_FONT='"Helvetica Neue", Helvetica, "Nimbus Sans L", Arial, "Liberation Sans", "Hiragino Sans GB", "Source Han Sans CN", "Source Han Sans SC", "Microsoft YaHei", "Wenquanyi Micro Hei", "WenQuanYi Zen Hei", "ST Heiti", SimSun, "WenQuanYi Zen Hei Sharp", sans-serif';(0,_jquery2["default"])(".mac").length>0?_FONT='"Helvetica Neue", Helvetica, "Nimbus Sans L", "Liberation Sans", "PingFang SC", "Hiragino Sans GB", "Source Han Sans CN", "Source Han Sans SC", "Wenquanyi Micro Hei", "WenQuanYi Zen Hei", "ST Heiti", SimSun, "WenQuanYi Zen Hei Sharp", sans-serif':(0,_jquery2["default"])(".win").length>0&&(_FONT='"Helvetica Neue", Helvetica, "Nimbus Sans L", "Liberation Sans", "Microsoft YaHei", "Microsoft JhengHei", "Hiragino Sans GB", "Source Han Sans CN", "Source Han Sans SC", "Wenquanyi Micro Hei", "WenQuanYi Zen Hei", "ST Heiti", SimSun, "WenQuanYi Zen Hei Sharp", sans-serif');var RAW_SALT="6A5376385A4D6D4255666735494B566C5041585758675632244B3044555E266F26436F36255533684847535062582A446E58317A2A6B6B396C3338715331794A",_LANG=navigator.language?navigator.language:navigator.userLanguage,_LANG_CODE=_tools2["default"].getLanCode(_LANG),_IS_IRO=!!_tools2["default"].parseURL(location.href).params.iro,_JHR=0,_RAW=null,_VST=null,_TOKEN=null,_OQ=null,_ORG_NAME=null,_META={},_UGC="",_QR="",_BASE_UGC="",_BASE_QR="",_MODE=0,_NEED_PWD=_JHR==-820,_header=null,_tail=null,_layout=null,_order=null,_components=null,_settings=null,_style=null,_convertStyle=!1,_TEMPLATE_CDN=window._CDN,_logic=null,_hasPage=!1,_pages=null,_attachment=!1,_validMobile=!1,_sale=!1,_paymentType=null,_innerFormPay=!1,_shownComponents=null,_default_filling={},_pwd=null,_start_t=null,_GEO_CACHE_LIB=[],_IP_GEO_INFO=[],_GEO_PID_LOADED_FLAGS={},_P_RATE=.525,_P_RATE_SUB=.405,_uvdContactInfo={},positionIdx={},oldPositionIdx={},_defaultShown=null,_pageNum=0,_captchaToken=void 0,_captchaContent=void 0,_referrer=document.referrer,_extInfo={},_scriptInjectForm=!1,_ie8=(0,_jquery2["default"])(".ie8").length>0,_ie9=(0,_jquery2["default"])(".ie9").length>0,_QUERY_KEY_SOUL=Math.pow(2,24),_EXIST={};exports["default"]={isIE8:_tools2["default"].browserCheck.msie&&_ie8,isIE9:_tools2["default"].browserCheck.msie&&_ie9,isOldIE:_tools2["default"].browserCheck.msie&&(_ie8||_ie9),_IS_IRO:_IS_IRO,_FONT:_FONT,_LANG_CODE:_LANG_CODE,init:init,run:run,setAsRaw:setAsRaw,updateRawInfo:updateRawInfo,getRaw:getRaw,token:token,JHR:JHR,QR:QR,formCacheId:formCacheId,canPostMessage:canPostMessage,postMessage:postMessage,getLangCode:getLangCode,setCacheReferrer:setCacheReferrer,_EMOJI_FLAGS_MAPPING:_EMOJI_FLAGS_MAPPING,isAuthorizedWx:isAuthorizedWx,updateUvdContactInfo:updateUvdContactInfo,getUvdContactInfo:getUvdContactInfo,getVstWcState:getVstWcState,getIpLoc:getIpLoc,hasGeoCache:hasGeoCache,addGeoInfo:addGeoInfo,getGeoCache:getGeoCache,setGeoCache:setGeoCache,getGeoInfo:getGeoInfo,getParentInfo:getParentInfo,getHeader:getHeader,getTail:getTail,getLayout:getLayout,getComponents:getComponents,getSettings:getSettings,getStyle:getStyle,getLogic:getLogic,convertExtensions:convertExtensions,disableLogic:disableLogic,enableLogic:enableLogic,getFormWidth:getFormWidth,getParamsDt:getParamsDt,setDefaultValue:setDefaultValue,getDefaultValue:getDefaultValue,getCurrentAll:getCurrentAll,getActive:getActive,setInjectState:setInjectState,getChildrenIn:getChildrenIn,getTreeDepth:getTreeDepth,getPassword:getPassword,getOrgName:getOrgName,getSubmitData:getSubmitData,getCacheFilling:getCacheFilling,isFillingComponent:isFillingComponent,formInfoInit:formInfoInit,changeShownComponent:changeShownComponent,hasAttachmentComponent:hasAttachmentComponent,getValidMobile:getValidMobile,hasPage:hasPage,getPage:getPage,getPageNum:getPageNum,hasNextPage:hasNextPage,getCurrentComponentPageNum:getCurrentComponentPageNum,getPageStartOffset:getPageStartOffset,hasSale:hasSale,getCommodities:getCommodities,FORM_SETTINGS_CF_VEHICLE_TYPE_SELECT:FORM_SETTINGS_CF_VEHICLE_TYPE_SELECT,SUPPORT_PAYMENT_METHOD:SUPPORT_PAYMENT_METHOD,isInnerFormPay:isInnerFormPay,getInnerFormPayInfo:getInnerFormPayInfo,processCart:processCart,setPaymentType:setPaymentType,getPaymentType:getPaymentType,getFormCaptcha:getFormCaptcha,getCaptchaToken:getCaptchaToken,setCaptchaToken:setCaptchaToken,setCaptchaData:setCaptchaData,getCaptchaData:getCaptchaData,getCheckInData:getCheckInData,convertBeforePayInfo:convertBeforePayInfo},module.exports=exports["default"]},function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(474)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var isPrd,_arguments=arguments;window.mkErrorLog=[];var emptyFunc=function(){},MGDebugger={log:emptyFunc,warn:emptyFunc,info:emptyFunc,error:function(){window.mkErrorLog.push(_arguments)}};if(isPrd=!0,!isPrd&&window.console)try{MGDebugger={log:console.log.bind(window.console),warn:console.warn.bind(window.console),info:console.info.bind(window.console),error:console.error.bind(window.console)}}catch(_){MGDebugger.log=console.log}exports["default"]=MGDebugger,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function setCookie(name,value,options){var expires=null;return options.expires&&(expires=new Date,options.expires=parseInt(options.expires,0),isNaN(options.expires)||(expires=new Date(expires-0+6048e5*options.expires))),expires&&(expires=expires.toUTCString()),document.cookie=[name,"=",escape(value),expires?"; expires="+expires:"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}function getCookie(name){var _cookieList=document.cookie.split(";"),i=void 0,len=void 0,tempCookie=void 0;for(i=0,len=_cookieList.length;i<len;i++)if(tempCookie=_.trim(_cookieList[i]).split("="),tempCookie[0]===name)return unescape(tempCookie[1]);return null}function updateUrl(url,key){var key=(key||"v")+"=",reg=new RegExp(key+"\\d+"),timestamp=+new Date;if(url.indexOf(key)>-1)return url.replace(reg,key+timestamp);if(url.indexOf("?")>-1){var urlArr=url.split("?");return urlArr[1]?urlArr[0]+"?"+key+timestamp+"&"+urlArr[1]:urlArr[0]+"?"+key+timestamp}return url.indexOf("#")>-1?url.split("#")[0]+"?"+key+timestamp+location.hash:url+"?"+key+timestamp}Object.defineProperty(exports,"__esModule",{value:!0});var _MGUtil=__webpack_require__(27),_MGUtil2=_interopRequireDefault(_MGUtil),_MGString=__webpack_require__(29),_config=__webpack_require__(6),_config2=_interopRequireDefault(_config),_CDN_SELF="pcdn.mikecrm.com",_CDN_SERVER=_config2["default"].CDN_URL+"cdn";exports["default"]={leftPad:_MGString.leftPad,inIframe:_MGUtil2["default"].inIFrame,deviceCheck:_MGUtil2["default"].deviceCheck,browserCheck:_MGUtil2["default"].browserCheck,fuzzyDeviceCheck:_MGUtil2["default"].fuzzyDeviceCheck,getImageSize:_MGUtil2["default"].getImageSize,parseURL:_MGUtil2["default"].parseURL,linkify:_MGUtil2["default"].linkify,getWindowSize:_MGUtil2["default"].getWindowSize,shallowEqual:_MGUtil2["default"].shallowEqual,getNow:_MGUtil2["default"].getNow,rAF:_MGUtil2["default"].rAF,cAF:_MGUtil2["default"].cAF,cdnizer:_MGUtil2["default"].cdnizerFactory(_CDN_SERVER),selfCdnizer:_MGUtil2["default"].cdnizerFactory(_CDN_SELF),setCookie:setCookie,getCookie:getCookie,updateUrl:updateUrl,getLanCode:function(lang){return lang.match(/^zh/i)?lang.match(/hant|hk|tw|mo|sg/i)?2:1:lang.match(/^ja/i)?9:lang.match(/^en/i)?3:lang.match(/^de/i)?7:lang.match(/^fr/i)?6:lang.match(/^it$/i)?8:3}},module.exports=exports["default"]},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function clone(d){return new Date(d.getTime())}function _isSameDay(d1,d2){var nofix=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!d1||!d2)return!1;var _d1=clone(d1),_d2=clone(d2);return nofix||(_d1.setHours(0,0,0,0),_d2.setHours(0,0,0,0)),_d1.getSeconds()===_d2.getSeconds()&&_d1.getMinutes()===_d2.getMinutes()&&_d1.getHours()===_d2.getHours()&&_d1.getDate()===_d2.getDate()&&_d1.getMonth()===_d2.getMonth()&&_d1.getFullYear()===_d2.getFullYear()}function _gap(d1,d2){var _d1=clone(d1),_d2=clone(d2);_d1.setHours(0,0,0,0),_d2.setHours(0,0,0,0);var g=Math.abs(_d1.getTime()-_d2.getTime());return Math.round(g/864e5)}function _isDayBefore(d1,d2){var nofix=arguments.length>2&&void 0!==arguments[2]&&arguments[2],_d1=clone(d1),_d2=clone(d2);return nofix||(_d1.setHours(0,0,0,0),_d2.setHours(0,0,0,0)),_d1<_d2}function _isDayAfter(d1,d2){var nofix=arguments.length>2&&void 0!==arguments[2]&&arguments[2],_d1=clone(d1),_d2=clone(d2);return nofix||(_d1.setHours(0,0,0,0),_d2.setHours(0,0,0,0)),_d1>_d2}function _dayBetween(d,d1,d2){var nofix=arguments.length>3&&void 0!==arguments[3]&&arguments[3],date=clone(d);return nofix||date.setHours(0,0,0,0),_isDayAfter(date,d1,nofix)&&_isDayBefore(date,d2,nofix)||_isDayAfter(date,d2,nofix)&&_isDayBefore(date,d1,nofix)}function _isPastDay(d){var today=new Date;return today.setHours(0,0,0,0),_isDayBefore(d,today)}function _isFutureDay(d){var today=new Date;return today.setHours(0,0,0,0),_isDayAfter(d,today)}function _addDayToRange(day){var range=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:null,to:null},canSetNull=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],from=range.from,to=range.to;return from?from&&to?_isSameDay(from,to)&&_isSameDay(day,from)?canSetNull&&(from=null,to=null):_isSameDay(day,from)||_isSameDay(day,to)||_isDayBefore(day,to)&&_isDayAfter(day,from)?(from=day,to=null):_isDayBefore(day,from)?from=day:_isDayAfter(day,to)?to=day:(to=day,_isDayBefore(to,from)&&(to=from,from=day)):_isSameDay(day,from)||_isSameDay(day,to)?canSetNull&&(from=null,to=null):(to=day,_isDayBefore(to,from)&&(to=from,from=day)):from=day,{from:from,to:to}}function _isDayInRange(day,range,nofix){var from=range.from,to=range.to;return from&&to?_dayBetween(day,from,to,nofix)||_isSameDay(day,from,nofix)||_isSameDay(day,to,nofix):from?_isSameDay(day,from,nofix)||_isDayAfter(day,from,nofix):!!to&&(_isSameDay(day,to,nofix)||_isDayBefore(day,to,nofix))}function _isLeapYear(year){return year>1&&year<9999?year%4===0&&year%100!==0||year%400===0:null}function __format(val,len){var valLen=(""+val).length;return valLen>len?(""+val).slice(-len):("0000"+val).slice(-len)}function m(){for(var _len2=arguments.length,args=Array(_len2),_key=0;_key<_len2;_key++)args[_key]=arguments[_key];return new(Function.prototype.bind.apply(MGMoment,[null].concat(args)))}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),REGEX_DATE_FORMATTER=/(MM?M?M?|DD?D?D?|WW?|YYYY|YY|HH?|mm?|ii?|ss?|S{1,4}|.)/g,FORMATTER_INFO="MDWYHmisS",DATE_CN_POSITION_TAG=["年","月","日","时","分","秒","毫秒"],DATE_POSITION_TAG=["y","M","d","h","m","s","ms"],MAX_DATE=[31,28,31,30,31,30,31,31,30,31,30,31],MGMoment=function(){function MGMoment(dateTime,isUTC){return _classCallCheck(this,MGMoment),this._Date=MGMoment._dateTimeFormatter(dateTime),isUTC&&(this._Date=new Date(this.getUTCFullDateTime())),this.__isMGMoment=!0,this}return _createClass(MGMoment,[{key:"isMGMoment",value:function(){return this.__isMGMoment}},{key:"__getN",value:function(){return this._Date}},{key:"clone",value:function(){return new MGMoment(this)}},{key:"_year",value:function(isUTC){return isUTC?this._Date.getUTCFullYear():this._Date.getFullYear()}},{key:"_month",value:function(isUTC){return isUTC?this._Date.getUTCMonth():this._Date.getMonth()}},{key:"_date",value:function(isUTC){return isUTC?this._Date.getUTCDate():this._Date.getDate()}},{key:"_day",value:function(isUTC){return isUTC?this._Date.getUTCDay():this._Date.getDay()}},{key:"_hours",value:function(isUTC){return isUTC?this._Date.getUTCHours():this._Date.getHours()}},{key:"_minutes",value:function(isUTC){return isUTC?this._Date.getUTCMinutes():this._Date.getMinutes()}},{key:"_seconds",value:function(isUTC){return isUTC?this._Date.getUTCSeconds():this._Date.getSeconds()}},{key:"_ms",value:function(isUTC){return isUTC?this._Date.getUTCMilliseconds():this._Date.getMilliseconds()}},{key:"_time",value:function(){return this._Date.getTime()}},{key:"isLeapYear",value:function(){return _isLeapYear(this.year())}},{key:"decade",value:function(){return 10*Math.floor(this._year()/10)}},{key:"year",value:function(y){return void 0===y||isNaN(+y)||"boolean"==typeof y?this._year(y):(y=+y,_isLeapYear(y)||1!==this._month()||29!==this._date()||this.date(28),this._Date.setFullYear(y),this)}},{key:"month",value:function(m){return void 0===m||isNaN(+m)||"boolean"==typeof m?this._month(m):(m=+m,this.isLeapYear()&&1===m&&this._date()>29?this.date(29):this._date()>MAX_DATE[m]&&this.date(MAX_DATE[m]),this._Date.setMonth(m),this)}},{key:"week",value:function(){return this._day()}},{key:"date",value:function(d){return void 0===d||isNaN(+d)||"boolean"==typeof d?this._date(d):(d=+d,this.isLeapYear()&&1===this._month()&&d>29?d=29:d>MAX_DATE[this._month()]?d=MAX_DATE[this._month()]:d<1&&(d=1),this._Date.setDate(d),this)}},{key:"hours",value:function(h){return void 0===h||isNaN(+h)||"boolean"==typeof h?this._hours(h):(h=+h,this._Date.setHours(Math.max(0,Math.min(h,23))),this)}},{key:"minutes",value:function(m){return void 0===m||isNaN(+m)||"boolean"==typeof m?this._minutes(m):(m=+m,this._Date.setMinutes(Math.max(0,Math.min(m,59))),this)}},{key:"seconds",value:function(s){return void 0===s||isNaN(+s)||"boolean"==typeof s?this._seconds(s):(s=+s,this._Date.setSeconds(Math.max(0,Math.min(s,59))),this)}},{key:"milliseconds",value:function(ms){return void 0===ms||isNaN(+ms)||"boolean"==typeof ms?this._ms(ms):(ms=+ms,this._Date.setMilliseconds(Math.max(0,Math.min(ms,999))),this)}},{key:"time",value:function(){return this._time()}},{key:"add",value:function(delta,type){switch(type=type.toLowerCase(),delta=+delta,type){case"y":this.year(this._year()+delta);break;case"m":var _deltaYear=(delta<0?-1:1)*Math.floor(Math.abs(delta)/12),_deltaMonth=(delta<0?-1:1)*(Math.abs(delta)%12);this.month(this._month()+_deltaMonth),this.year(this._year()+_deltaYear);break;case"d":this._Date.setDate(this._date()+delta);break;case"w":this._Date.setDate(this._date()+7*delta);break;case"h":this._Date.setHours(this._hours()+delta);break;case"min":this._Date.setMinutes(this._minutes()+delta);break;case"s":this._Date.setSeconds(this._seconds()+delta)}return this}},{key:"startOf",value:function(type){switch(type){case"year":this.month(0);case"month":this.date(1);case"date":this.hours(0);case"hours":this.minutes(0);case"minutes":this.seconds(0);case"seconds":this.milliseconds(0)}return this}},{key:"endOf",value:function(type){switch(type){case"year":this.month(11);case"month":this.date(31);case"date":this.hours(23);case"hours":this.minutes(59);case"minutes":this.seconds(59);case"seconds":this.milliseconds(999)}return this}},{key:"day",value:function(dayNum){return void 0===dayNum||isNaN(+dayNum)?this._day():this.add(dayNum-this._day(),"d")}},{key:"age",value:function(d){var _splitDateTime=d.split(" ")[0].split("-");if(2===_splitDateTime.length&&2===_splitDateTime[1].length)return!1;var _d=m(d),_gapYear=this.year()-_d.year(),_gapMonth=this.month()-_d.month();return this.month()<_d.month()?(_gapYear--,_gapMonth=12+_gapMonth):this.month()===_d.month()&&this.date()<_d.date()&&(_gapYear--,_gapMonth=11),{year:_gapYear,month:_gapMonth}}},{key:"isSameDay",value:function(d){return!!d&&_isSameDay(this._Date,m(d)._Date)}},{key:"gap",value:function(d){return _gap(this._Date,m(d)._Date)}},{key:"isDayBefore",value:function(d){return!!d&&_isDayBefore(this._Date,m(d)._Date)}},{key:"isDayAfter",value:function(d){return!!d&&_isDayAfter(this._Date,m(d)._Date)}},{key:"isPastDay",value:function(){return!!d&&_isPastDay(this._Date)}},{key:"isFutureDay",value:function(){return!!d&&_isFutureDay(this._Date)}},{key:"isBetween",value:function(d1,d2){return!(!d1||!d2)&&_dayBetween(this._Date,m(d1)._Date,m(d2)._Date)}},{key:"isInRange",value:function(range){return!(!range.from||!range.to)&&_isDayInRange(this._Date,range)}},{key:"addToRange",value:function(range){return _addDayToRange(this._Date,range)}},{key:"_formatDate",value:function(formatter,isUTC){var _this=this,formatterList=formatter.match(REGEX_DATE_FORMATTER);return formatterList?formatterList.map(function(v){if(FORMATTER_INFO.indexOf(v[0])>-1){var _len=v.length,_res="";switch(v[0]){case"Y":_res=__format(_this.year(!!isUTC),_len);break;case"M":_res=__format(_this.month(!!isUTC)+1,_len);break;case"D":_res=__format(_this.date(!!isUTC),_len);break;case"W":_res=__format(_this.week(!!isUTC)+1,_len);break;case"H":_res=__format(_this.hours(!!isUTC),_len);break;case"m":case"i":_res=__format(_this.minutes(!!isUTC),_len);break;case"s":case"S":_res=__format(_this.seconds(!!isUTC),_len)}return _res}return v}).join(""):null}},{key:"getFullDate",value:function(){return this._formatDate("YYYY-MM-DD")}},{key:"getFullDateTime",value:function(){return this._formatDate("YYYY-MM-DD HH:mm:ss")}},{key:"getUTCFullDateTime",value:function(){return this._formatDate("YYYY-MM-DD HH:mm:ss",!0)}},{key:"getYearMonth",value:function(){return this._formatDate("YYYY-MM")}},{key:"getMonthDay",value:function(){return this._formatDate("MM-DD")}},{key:"getShortDate",value:function(){return this._formatDate("DD/MM/YY")}},{key:"getMonthYear",value:function(){return this._formatDate("MM/YY")}},{key:"getTime",value:function(){return this._formatDate("HH:mm:ss")}},{key:"getTimeHourMinute",value:function(){return this._formatDate("HH:mm")}},{key:"toString",value:function(){return this._Date.toString()}},{key:"format",value:function(formatter){return formatter?this._formatDate(formatter):this.toString()}}],[{key:"_dateTimeFormatter",value:function(dateTime){if(null===dateTime||void 0===dateTime)return new Date;var _type=Object.prototype.toString.call(dateTime);if("[object Date]"===_type)return new Date(dateTime.getTime());if("[object Number]"===_type)return new Date(dateTime);if("[object String]"===_type){var _ret=function(){var cnDateRes=dateTime.match(/\d+((ms)|[yMdhms年月日时分秒]|(毫秒))/gi),res=[0,0,0,0,0,0,0];if(cnDateRes&&cnDateRes.length>=3)cnDateRes.forEach(function(v){var _cap=/(\d+)([yMdhms年月日时分秒]|(毫秒))/.exec(v);_cap&&(void 0===res[DATE_POSITION_TAG.indexOf(_cap[2])]?res[DATE_CN_POSITION_TAG.indexOf(_cap[2])]=_cap[1]:res[DATE_POSITION_TAG.indexOf(_cap[2])]=_cap[1])});else{var dateArray=dateTime.replace(/^\s+|\s+$/gm,"").split(/\-|\_|\:|\s/g);dateTime.match(/[\-\_]/)?dateArray.forEach(function(v,i){v&&(res[i]=v)}):dateArray.forEach(function(v,i){v&&(res[i+3]=v)})}if(0===res.reduce(function(sum,d){sum+=d},0))return{v:new Date};var y=res[0],m=res[1],d=res[2],h=res[3],min=res[4],s=res[5],ms=res[6];return{v:new Date(y,m-1,d,h,min,s,ms)}}();if("object"===("undefined"==typeof _ret?"undefined":_typeof(_ret)))return _ret.v}else if("[object Object]"===_type&&dateTime instanceof MGMoment)return new Date(dateTime.time())}}]),MGMoment}();m.gap=_gap,m.isSameDay=_isSameDay,m.isDayBefore=_isDayBefore,m.isDayAfter=_isDayAfter,m.isPastDay=_isPastDay,m.isFutureDay=_isFutureDay,m.isDayBetween=_dayBetween,m.addDayToRange=_addDayToRange,m.isDayInRange=_isDayInRange,exports["default"]=m,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FIELD_INFO_MAPPING=exports.invert_propsMapping=exports.propsMapping=exports.FORM_COMPONENTS_NAME_DETAILS=exports.DT_CONTACT_MAPPING=exports.METAID_COMPONENT_MAPPING=exports.COMPONENT_METAID_MAPPING=exports.FORM_HEADER_LAYOUT_MAPPING=exports.FORM_CKI_OPEN_COMPONENT_LIST=exports.FORM_CKI_COMPONENT_LIST=exports.FORM_CAN_JUMP_COMPONENT_LIST=exports.FORM_STATISTICS_COMPONENT_LIST=exports.FORM_CONTACT_INFO_COMPONENT_LIST=exports.FORM_LOGIC_COMPONENT_LIST=exports.FORM_FILLING_COMPONENT_LIST=void 0;var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),COMPONENT_METAID_MAPPING=(exports.FORM_FILLING_COMPONENT_LIST=["input","select","radio","checkbox","dropDown","multiLevel","dateTime_date","dateTime_time","dateTime_both","number","attachment","rate","tabular","rank","currency","city","commodity","recording","picRadio","picCheckbox","picAttachment","name","mobile","email","company","department","position","avatar","title","gender","birthDate","location","address","website","tel","fax","remark","IM","wechat","qq","skype","whatsApp","messenger","viber","line","telegram","SNS","weibo","linkedIn","twitter","facebook","instagram","mkGooglePlus"],exports.FORM_LOGIC_COMPONENT_LIST=["input","select","radio","checkbox","dropDown","multiLevel","dateTime_date","dateTime_time","dateTime_both","number","attachment","rate","tabular","rank","currency","city","commodity","button","recording","picRadio","picCheckbox","picAttachment","staticPic","picCarousel","staticText","separator","authCode","staticMap","staticVideo","name","mobile","email","company","department","position","avatar","title","gender","birthDate","location","address","website","tel","fax","remark","IM","wechat","qq","skype","whatsApp","messenger","viber","line","telegram","SNS","weibo","linkedIn","twitter","facebook","instagram","mkGooglePlus"],exports.FORM_CONTACT_INFO_COMPONENT_LIST=["name","mobile","email","company","department","position","title","gender","birthDate","location","address","website","tel","fax","remark","IM","wechat","qq","skype","whatsApp","messenger","viber","line","telegram","SNS","weibo","linkedIn","twitter","facebook","instagram","mkGooglePlus"],exports.FORM_STATISTICS_COMPONENT_LIST=["radio","checkbox","dropDown","multiLevel","picRadio","picCheckbox","rate","number","currency","tabular","rank","gender","title","company","department","position"],exports.FORM_CAN_JUMP_COMPONENT_LIST=["radio","dropDown","picRadio","gender","title","company","department","position"],exports.FORM_CKI_COMPONENT_LIST=["name","mobile","email","tel","fax","company","wechat","qq","skype","messenger","whatsApp","line","viber","telegram","input"],exports.FORM_CKI_OPEN_COMPONENT_LIST=["input","select","radio","checkbox","dropDown","multiLevel","dateTime_date","dateTime_time","dateTime_both","number","rate","tabular","rank","currency","city","picRadio","picCheckbox","name","mobile","email","company","department","position","title","gender","birthDate","location","address","website","tel","fax","remark","IM","wechat","qq","skype","whatsApp","messenger","viber","line","telegram","SNS","weibo","linkedIn","twitter","facebook","instagram","mkGooglePlus"],
exports.FORM_HEADER_LAYOUT_MAPPING=["NNN","LNN","CNN","RNN","LLN","LCN","LRN","CLN","CCN","CRN","RLN","RCN","RRN","LNL","CNL","RNL","LNC","CNC","RNC","LNR","CNR","RNR","LLL","CLL","RLL","LCL","CCL","RCL","LRL","CRL","RRL","LLR","CLR","RLR","LCR","CCR","RCR","LRR","CRR","RRR","LLC","LCC","LRC","CLC","CCC","CRC","RLC","RCC","RRC","LLLY","LCLY","LRLY","CLLY","CCLY","CRLY","RLLY","RCLY","RRLY","LLRY","LCRY","LRRY","CLRY","CCRY","CRRY","RLRY","RCRY","RRRY","NLN","NCN","NRN","NNL","NNC","NNR","NLL","NCL","NRL","NLC","NCC","NRC","NLR","NCR","NRR"],exports.COMPONENT_METAID_MAPPING={input:6,textarea:7,radio:1,checkbox:2,dropDown:3,multiLevel:15,dateTime_date:9,dateTime_time:57,dateTime_both:59,number:8,attachment:10,rate:11,tabular:12,rank:14,currency:13,city:16,commodity:60,button:63,recording:64,picRadio:4,picCheckbox:5,picAttachment:56,picCarousel:62,staticPic:20,staticText:19,separator:17,paging:18,authCode:55,staticMap:21,staticVideo:22,name:23,avatar:53,email:25,company:31,department:61,position:32,mobile:24,website:34,title:29,gender:28,birthDate:54,location:30,address:33,tel:26,fax:27,remark:51,IM:43,wechat:36,qq:35,skype:41,whatsApp:38,messenger:39,viber:42,line:37,telegram:40,SNS:50,weibo:49,linkedIn:47,twitter:48,facebook:44,instagram:46,mkGooglePlus:45}),inputPropsMapping=(exports.METAID_COMPONENT_MAPPING=_lodash2["default"].invert(COMPONENT_METAID_MAPPING),exports.DT_CONTACT_MAPPING={n:"name",em:"email",c:"company",d:"department",p:"position",mb:"mobile",ws:"website",t:"title",g:"gender",b:"birthDate",l:"location",ad:"address",tl:"tel",fx:"fax",wc:"wechat",qq:"qq",sk:"skype",wa:"whatsApp",msg:"messenger",vb:"viber",ln:"line",tgr:"telegram",wb:"weibo",lk:"linkedIn",tw:"twitter",fb:"facebook",is:"instagram",gp:"mkGooglePlus"},exports.FORM_COMPONENTS_NAME_DETAILS=function(lang){return[{id:1,name:"np",title:lang.np},{id:2,name:"nf",title:lang.nf},{id:3,name:"nm",title:lang.nm},{id:4,name:"nl",title:lang.nl},{id:5,name:"ns",title:lang.ns},{id:6,name:"nn",title:lang.nn}]},{isOnlySingle:"os",placeholder:"ph",isUseWeChatScan:"wcs",isRepetition:"da",isWordLimit:"ll",wordLimitFrom:"llb",wordLimitTo:"llt",isUseRegEx:"ire",regExType:"irt",regEx:"irp",cpLayout:"cpl",cpWidth:"wd"}),selectPropsMapping={isAddOtherOption:"al",otherOptionTitle:"alt",otherOptionIsRequired:"alr",isAfterInput:"ai",afterInputIsRequired:"air",isLimitOptions:"oq",setOptionLimitNum:"oql",isShowOptionLimit:"oqs",isHideFullOption:"ohf",isRandomOptions:"ro",optionsLayout:"cn",isAutoNo:"an",autoNo:"ant",isLimitChooseNum:"all",chooseNumFrom:"allb",chooseNumTo:"allt",defaultTips:"adt",cpWidth:"wd"},multiLevelPropsMapping={isAllowPartEmpty:"ic"},dateTimePropsMapping={dateFormat:"f",dayDefault:"d",defaultDay:"dd",isLimitDayInterval:"dl",dayIntervalFrom:"dlf",dayIntervalTo:"dlt",isLimitDays:"wl",limitDays:"wll",cpWidth:"wd",timePrecision:"a",timeDefault:"dt",defaultTime:"dtt",isLimitTimeInterval:"tl",timeIntervalFrom:"tlf",timeIntervalTo:"tlt",dayTimeDefault:"ddt",defaultDayTime:"ddtt"},numberPropsMapping={unit:"u",isNumRange:"l",numRangeFrom:"lb",numRangeTo:"lt",isAcceptDecimals:"adc",isLimitDecDigits:"ld",decDigits:"ldl",isAcceptNegative:"na",cpWidth:"wd"},filePropsMapping={isLimitFileType:"ftl",fileTypes:"ftll",isLimitFileSize:"sl",fileSize:"slft",isAcceptMultipleFile:"fm",isLimitFileNumber:"ml",fileNumber:"mll",cpWidth:"wd"},ratePropsMapping={rateMax:"ms",rateDefault:"ds",rateIcon:"ric",isAllowHalf:"ha",isShowTips:"ps",tipsPosition:"pp",rateTipsLeft:"pl",rateTipsMiddle:"pm",rateTipsRight:"pr",heatBarColorForm:"hbcl",heatBarColorTo:"hbcr"},tabularPropsMapping={tabularType:"tp",questionWidth:"qw",isAllowMulti:"mln",rateIcon:"ric",rateMax:"ms",rateDefault:"ds",isAllowHalf:"ha",isShowTips:"ps",tipsPosition:"pp",rateTipsLeft:"pl",rateTipsMiddle:"pm",rateTipsRight:"pr",heatBarColorForm:"hbcl",heatBarColorTo:"hbcr"},rankPropsMapping={isLimitDigit:"jn",rankDigits:"rn",trueDigits:"rwh"},currencyPropsMapping={symbol:"s",symbolDefined:"sc",isNumRange:"l",numRangeFrom:"lb",numRangeTo:"lt",isAcceptDecimals:"adc",isLimitDecDigits:"ld",decDigits:"ldt",isAcceptNegative:"na",cpWidth:"wd",isHidePrice:"hp"},cityPropsMapping={componentType:"t",minLevel:"lv",isLimitCountry:"ilc",limitCountry:"lc"},commodityPropsMapping={isLimitStock:"mbn",setMaxBuyNum:"mbnl"},buttonPropsMapping={btnText:"bt",btnAction:"bat",btnJumpTo:"bjt",btnTelTo:"btt",btnSmsTo:"bst",btnSmsContent:"bsc",btnMailTo:"bmt",btnQqTo:"bqt",btnStyle:"bs",isShowBtnIcon:"bsi",btnIcon:"bi",btnWidthType:"bwt",btnWidth:"bw",btnHeight:"bh",btnColor:"bc",btnFontColor:"bfc",btnFontSize:"bfs",btnFontWeight:"bfw",btnAlign:"ba"},picAttachmentPropsMapping={isLimitPicResolution:"rl",picMinWidth:"rwb",picMaxWidth:"rwt",picMinHeight:"rhb",picMaxHeight:"rht"},staticPicPropsMapping={picNumber:"n",picLayout:"ly",pictures:null,picPadding:"p",picPaddingTB:"cp",picPaddingLRNone:"cpw",isAddDescribe:"idt",picDescribe:"dtc",picDescribe_style:"dtcst",picSubTitleAlign:"dtl",isDescribeTextFold:"dtf",describeFoldText:"dtft",describeFoldText_style:"dtftst"},picCarouselPropsMapping={picCarouselType:"pct",carouselPictures:null,picHeight:"h",speed:"sp",animation:"ani"},separatorPropsMapping={borderType:"slt",isNoPadding:"mw",titleAlign:"ta",subTitleAlign:"dal"},staticTextPropsMapping={isFoldText:"fd",foldContent:"fdt",foldContent_style:"fdtst"},staticMapPropsMapping={mapLocation:"mpl",mapScale:"mps",isShowInfoBox:"mpi",mapInfoContent:"mpic",coordinate:"co"},staticVideoPropsMapping={staticVideoUrl:"vl",videoInfo:"vi"},contactPropsMapping={isAcceptMulti:"m",isValidate:"fe",isOpenDetails:"od",detailsItem:"odi",componentType:"t",searchComponentType:"cpt",acceptArea:"fer",isSendMsgAuth:"cm",infoTypes:"it"},customFieldPropsMapping={defaultVpLocation:"vpdl",cfDateTimeType:"cfDt",cfRadioType:"cfRt",cfDefaultSymbol:"cfDs"},propsMapping=exports.propsMapping=_lodash2["default"].assign({},inputPropsMapping,selectPropsMapping,multiLevelPropsMapping,dateTimePropsMapping,numberPropsMapping,filePropsMapping,ratePropsMapping,tabularPropsMapping,rankPropsMapping,currencyPropsMapping,staticMapPropsMapping,cityPropsMapping,commodityPropsMapping,buttonPropsMapping,picAttachmentPropsMapping,staticPicPropsMapping,picCarouselPropsMapping,separatorPropsMapping,staticVideoPropsMapping,staticTextPropsMapping,contactPropsMapping,customFieldPropsMapping);exports.invert_propsMapping=_lodash2["default"].invert(propsMapping),exports.FIELD_INFO_MAPPING={submitAt:{fbIcon:String.fromCharCode(59222)},input:{icon:String.fromCharCode(59137),fbIcon:String.fromCharCode(59223)},textarea:{fbIcon:String.fromCharCode(59223)},radio:{icon:String.fromCharCode(59138),fbIcon:String.fromCharCode(59219)},checkbox:{fbIcon:String.fromCharCode(59217)},dropDown:{icon:String.fromCharCode(59139),fbIcon:String.fromCharCode(59218)},multiLevel:{icon:String.fromCharCode(59140),fbIcon:String.fromCharCode(59226)},dateTime_date:{icon:String.fromCharCode(59141)},number:{icon:String.fromCharCode(59142),fbIcon:String.fromCharCode(59224)},attachment:{icon:String.fromCharCode(59143)},rate:{icon:String.fromCharCode(59144)},tabular:{icon:String.fromCharCode(59145)},rank:{icon:String.fromCharCode(59146)},currency:{icon:String.fromCharCode(59147),fbIcon:String.fromCharCode(59225)},city:{icon:String.fromCharCode(59148)},commodity:{icon:String.fromCharCode(59149)},button:{icon:String.fromCharCode(59149)},picRadio:{icon:String.fromCharCode(59150),fbIcon:String.fromCharCode(59219)},picCheckbox:{fbIcon:String.fromCharCode(59217)},picAttachment:{icon:String.fromCharCode(59151)},staticPic:{icon:String.fromCharCode(59153)},picCarousel:{icon:String.fromCharCode(59153)},staticText:{icon:String.fromCharCode(59154)},separator:{icon:String.fromCharCode(59155)},paging:{icon:String.fromCharCode(59156)},authCode:{icon:String.fromCharCode(59157)},staticMap:{icon:String.fromCharCode(59158)},staticVideo:{icon:String.fromCharCode(59159)},name:{category:"CONTACT",icon:String.fromCharCode(59073)},avatar:{category:"CONTACT",icon:String.fromCharCode(59078)},email:{category:"CONTACT",icon:String.fromCharCode(59075)},company:{category:"CONTACT",icon:String.fromCharCode(59076)},department:{category:"CONTACT",icon:String.fromCharCode(59072)},position:{category:"CONTACT",icon:String.fromCharCode(59077)},mobile:{category:"CONTACT",icon:String.fromCharCode(59074)},website:{category:"CONTACT",icon:String.fromCharCode(59086)},title:{category:"CONTACT",icon:String.fromCharCode(59079)},gender:{category:"CONTACT",icon:String.fromCharCode(59080)},birthDate:{category:"CONTACT",icon:String.fromCharCode(59081)},location:{category:"CONTACT",icon:String.fromCharCode(59082)},address:{category:"CONTACT",icon:String.fromCharCode(59083)},tel:{category:"CONTACT",icon:String.fromCharCode(59087)},fax:{category:"CONTACT",icon:String.fromCharCode(59089)},note:{category:"CONTACT",icon:String.fromCharCode(59079)},IM:{category:"IM",icon:String.fromCharCode(59093)},wechat:{category:"IM",icon:String.fromCharCode(59094)},qq:{category:"IM",icon:String.fromCharCode(59095)},skype:{category:"IM",icon:String.fromCharCode(59096)},whatsApp:{category:"IM",icon:String.fromCharCode(59097)},messenger:{category:"IM",icon:String.fromCharCode(59099)},viber:{category:"IM",icon:String.fromCharCode(59098)},line:{category:"IM",icon:String.fromCharCode(59100)},telegram:{category:"IM",icon:String.fromCharCode(59101)},SNS:{category:"SNS",icon:String.fromCharCode(59121)},weibo:{category:"SNS",icon:String.fromCharCode(59123)},linkedIn:{category:"SNS",icon:String.fromCharCode(59124)},twitter:{category:"SNS",icon:String.fromCharCode(59122)},facebook:{category:"SNS",icon:String.fromCharCode(59125)},instagram:{category:"SNS",icon:String.fromCharCode(59126)},mkGooglePlus:{category:"SNS",icon:String.fromCharCode(59127)}}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _regInfoReplace(str){return str.replace(/([\*\.\?\+\$\^\[\]\(\)\|\\\/])/g,"\\$1")}function convertHeader(headerRaw,_UGC){return headerRaw?{headline:(headerRaw.t||"").split("\n"),headline_style:(0,_MGDraftRawConvert.convertRawTextStyle)(headerRaw.ts||null),description:(headerRaw.d||"").split("\n"),description_style:(0,_MGDraftRawConvert.convertRawTextStyle)(headerRaw.ds||null),layout:headerRaw.ly,layoutStr:_FormMetaInfoMappingUtil.FORM_HEADER_LAYOUT_MAPPING[headerRaw.ly],hasValue:[headerRaw.t?"T":"",headerRaw.d?"D":"",headerRaw.l?"L":""].join(""),logo:convertDefaultImage(headerRaw.l,_UGC),logoBorder:headerRaw.lb,logoDisplay:headerRaw.ld,logoHeight:headerRaw.lh,logoWidth:headerRaw.lw,isSetLayout:1===+headerRaw.lys}:{}}function convertTail(tailRaw,_UGC){return{isHideBtn:tailRaw.ihb,stickyBottom:tailRaw.ibsb,isDefaultSubmitText:tailRaw.sb,submitText:tailRaw.sbt,copyrightType:tailRaw.crs,companyName:tailRaw.crn,companyLink:tailRaw.crl,companyLogo:convertDefaultImage(tailRaw.crlg,_UGC),companyLogoHeight:tailRaw.crlgh,companyLogoWidth:tailRaw.crlgw}}function convertDefaultImage(imgRaw,_UGC,_CDN){var opt=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,arguments.length>4&&void 0!==arguments[4]&&arguments[4]),_res=null;if(imgRaw)if("_"===imgRaw.charAt(0)){var _img=imgRaw.substring(1);if(_CDN)_img=location.protocol+_config2["default"].CDN_PATH_WITHOUT_PROTOCOL+"images/formTemplate/"+_img;else{_img="./images/formTemplate/"+_img}_res=_img}else _res=_lodash2["default"].startsWith(imgRaw,"http")||_lodash2["default"].startsWith(imgRaw,"//")?imgRaw:_UGC+(opt?"opt_":"")+imgRaw;return _res}function convertStyle(styleRaw,_UGC){var _CDN=arguments.length>2&&void 0!==arguments[2]&&arguments[2],opacityArray=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,["",1,.9,.8,.7,.6,.5,.4,.3,.2,.1,0]),_style={themeColor:styleRaw.thc,lineHeight:styleRaw.ls||14,bgColor:styleRaw.bgc,background:convertDefaultImage(styleRaw.bg,_UGC,_CDN),bgOpt:styleRaw.opt_bg,optBackground:styleRaw.bg?convertDefaultImage(styleRaw.bg,_UGC,_CDN,null,styleRaw.opt_bg):null,bgLayoutHorizontal:styleRaw.bgl?styleRaw.bgl.h||6:6,bgLayoutVertical:styleRaw.bgl?styleRaw.bgl.v||6:6,backgroundFixed:void 0!==styleRaw.bgs&&null!==styleRaw.bgs?styleRaw.bgs?0:1:0};if(styleRaw.h){var styleHeaderRaw=styleRaw.h,bgOpacity=opacityArray.indexOf(styleHeaderRaw.bgo);_style.headerStyle={bgColor:styleHeaderRaw.bgc,bgOpacity:bgOpacity===-1?"1":""+bgOpacity,headlineColor:styleHeaderRaw.tc,headlineFontSize:styleHeaderRaw.tfs,headlineFontWeight:styleHeaderRaw.tfw,subheadColor:styleHeaderRaw.dc,subheadFontSize:styleHeaderRaw.dfs,subheadFontWeight:styleHeaderRaw.dfw,headerContentOffsetY:styleHeaderRaw.yof,background:convertDefaultImage(styleHeaderRaw.bg,_UGC,_CDN),bgLayoutHorizontal:styleHeaderRaw.bgl?styleHeaderRaw.bgl.h||6:6,bgLayoutVertical:styleHeaderRaw.bgl?styleHeaderRaw.bgl.v||6:6}}if(styleRaw.b){var styleBodyRaw=styleRaw.b,_bgOpacity=opacityArray.indexOf(styleBodyRaw.bgo);_style.bodyStyle={cpTitleWidth:styleBodyRaw.tw,bgColor:styleBodyRaw.bgc,bgOpacity:_bgOpacity===-1?"1":""+_bgOpacity,titleColor:styleBodyRaw.tc,titleFontSize:styleBodyRaw.tfs,titleFontWeight:styleBodyRaw.tfw,describeColor:styleBodyRaw.dc,describeFontSize:styleBodyRaw.dfs,describeFontWeight:styleBodyRaw.dfw,optionColor:styleBodyRaw.oc,optionFontSize:styleBodyRaw.ofs,optionFontWeight:styleBodyRaw.ofw}}if(styleRaw.s){var styleSubmitRaw=styleRaw.s,_bgOpacity2=opacityArray.indexOf(styleSubmitRaw.bgo);_style.submitStyle={bgColor:styleSubmitRaw.bgc,bgOpacity:_bgOpacity2===-1?"1":""+_bgOpacity2,background:convertDefaultImage(styleSubmitRaw.bg,_UGC,_CDN),bgLayoutHorizontal:styleSubmitRaw.bgl?styleSubmitRaw.bgl.h||6:6,bgLayoutVertical:styleSubmitRaw.bgl?styleSubmitRaw.bgl.v||6:6,btnColor:styleSubmitRaw.btc,fontColor:styleSubmitRaw.btct,submitFontSize:styleSubmitRaw.btts,fontWeight:styleSubmitRaw.bttw,btnWidthLayout:styleSubmitRaw.btw,isFormWith:4===styleSubmitRaw.btw?"1":"0",btnAlign:4===styleSubmitRaw.btw?2:styleSubmitRaw.btw||2}}return _style}function convertSettingsSpecial(name,value,mapping){var _VAR=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("customMailInfo"===name&&mapping){var customMailInfo=_lodash2["default"].zipObject(["id","subject","sendAddress","sendName"],value);return customMailInfo&&customMailInfo.id&&mapping[customMailInfo.id]&&(customMailInfo.chooseMail={id:customMailInfo.id,name:mapping[customMailInfo.id]}),customMailInfo.subject&&!function(){var subject=customMailInfo.subject;subject&&(_lodash2["default"].forEach(_VAR,function(replacement,pattern){subject=subject.replace(new RegExp(_regInfoReplace(pattern),"g"),replacement)}),customMailInfo.subject=subject)}(),customMailInfo}if("customSmsInfo"===name&&mapping){var customSmsInfo=_lodash2["default"].zipObject(["id"],value);if(customSmsInfo&&customSmsInfo.id&&mapping[customSmsInfo.id]){var smsInfo=_lodash2["default"].zipObject(["name","auditStatus"],mapping[customSmsInfo.id]);3===smsInfo.auditStatus&&(customSmsInfo.chooseSms=_lodash2["default"].assign(smsInfo,{id:customSmsInfo.id}))}return customSmsInfo}return value}function convertSettings(settingsRaw,_UGC,mpEm,mpSms,_MAIL_VAR){return{language:settingsRaw.lang,showQuestionNo:settingsRaw.qn,questionNoType:settingsRaw.qnt,showFillingProgress:settingsRaw.fp,fillingProgressType:settingsRaw.fpt,isAutoCreate:settingsRaw.icc,isAddGroups:settingsRaw.icg,groups:settingsRaw.cg,tags:settingsRaw.ct,afterSubmitPage:settingsRaw.s,asIsShowImage:settingsRaw.sp,asIsDefaultImg:settingsRaw.spd||void 0===settingsRaw.spd?1:0,asImage:!settingsRaw.spd&&void 0!==settingsRaw.spd&&{isLink:2===settingsRaw.sps,linkUri:convertDefaultImage(settingsRaw.spr,_UGC),imageUri:settingsRaw.spu?_UGC+settingsRaw.spu+"."+settingsRaw.spe:null,u:settingsRaw.spu,e:settingsRaw.spe},asIsShowText:settingsRaw.st,asTextTitle:settingsRaw.stt?settingsRaw.stt.split("\n"):settingsRaw.stt,asTextTitle_style:(0,_MGDraftRawConvert.convertRawTextStyle)(settingsRaw.stts||null),asTextSubTitle:settingsRaw.std?settingsRaw.std.split("\n"):settingsRaw.std,asTextSubTitle_style:(0,_MGDraftRawConvert.convertRawTextStyle)(settingsRaw.stds||null),asIsShowRandomCode:settingsRaw.sr,asRandomCodeTitle:settingsRaw.srt,asRandomCodeFormat:settingsRaw.srf,asIsShowFeedbackNum:settingsRaw.sn,asFeedbackNumText:settingsRaw.snt,asIsShowFeedbackResult:settingsRaw.si,isShowStatistics:settingsRaw.sis,asSShowField:settingsRaw.sisi,isShowData:settingsRaw.sid,isSetDatePassword:settingsRaw.sidp,datePassword:settingsRaw.sidpp,asDShowField:settingsRaw.sidi,asIsShowButton:settingsRaw.rb,asButtonText:settingsRaw.rbtx,asButtonLinkType:settingsRaw.rbl&&"_SELF"===settingsRaw.rbl?"1":"2",asButtonLink:settingsRaw.rbl&&"_SELF"!==settingsRaw.rbl?settingsRaw.rbl:"",asJumpTo:settingsRaw.sj,asIsJumpToLuxury:settingsRaw.sjs,asJumpToLuxury:settingsRaw.sjss,isOnlyWeChat:settingsRaw.oiw,isShowShare:settingsRaw.ss,isShowProgress:settingsRaw.fp,progressType:settingsRaw.fpt,isSetUsableTime:settingsRaw.ap,usableTimeFrom:settingsRaw.apf,usableTimeTo:settingsRaw.apt,isSetUsableTimeDaily:settingsRaw.apd,usableTimeDailyFrom:settingsRaw.apdf,usableTimeDailyTo:settingsRaw.apdt,usableTimeTextBefore:settingsRaw.aptxbf,usableTimeTextAfter:settingsRaw.aptxaf,isMensurableSubmit:settingsRaw.ms,mensurableSubmitNum:settingsRaw.msn,isMensurableSubmitRemain:settingsRaw.msr,mensurableSubmitText:settingsRaw.mstx,isVisitPassword:settingsRaw.vp,visitPassword:settingsRaw.vpp,isOnlySubmit:settingsRaw.os,isOnlySubmitIP:settingsRaw.osip,onlySubmitText:settingsRaw.ostx,isLimitTime:settingsRaw.itl,timeMax:settingsRaw.tlmx,overTimeHandle:settingsRaw.tlr,isRemindMe:settingsRaw.inm,remindMeByMail:settingsRaw.inmem,remindMeMails:settingsRaw.nmeml,remindMeByMsg:settingsRaw.inmsms,remindMeTels:settingsRaw.nmsmsl,msgContentType:settingsRaw.nmsmsp,remindMeByWeChat:settingsRaw.inmwc,isShowAllPageNum:settingsRaw.tpw,isShowCurrentPageNum:settingsRaw.cpn,isBanReturn:settingsRaw.nb,isHidePageBtn:settingsRaw.hpb,cartSymbol:settingsRaw.cps,payMode:settingsRaw.pmo,cartSymbolDefined:settingsRaw.sc,isRemindPreparer:settingsRaw.inu,remindPreparerByMail:settingsRaw.inuem,mailNtComponent:settingsRaw.inuemcp,remindPreparerByMsg:settingsRaw.inusms,msgNtComponent:settingsRaw.inusmscp,remindPreparerByWeChat:settingsRaw.inuswc,remindPreparerByCustomMail:settingsRaw.inucem,customMailNtComponent:settingsRaw.inucemcp,customMailInfo:convertSettingsSpecial("customMailInfo",settingsRaw.inucemd,mpEm,_MAIL_VAR),remindPreparerByCustomMsg:settingsRaw.inucsms,customMsgNtComponent:settingsRaw.inucsmscp,customSmsInfo:convertSettingsSpecial("customSmsInfo",settingsRaw.inucsmsd,mpSms),weChatTitle:settingsRaw.wcst,weChatDescribe:settingsRaw.wcsd,weChatImage:settingsRaw.wcsi?_UGC+settingsRaw.wcsi:null}}function convertExtendSpecial(name,value,mapping){var _VAR=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("customMailInfoWhenPaid"===name&&mapping){var customMailInfoWhenPaid=_lodash2["default"].zipObject(["id","subject","sendAddress","sendName"],value);return customMailInfoWhenPaid&&customMailInfoWhenPaid.id&&mapping[customMailInfoWhenPaid.id]&&(customMailInfoWhenPaid.chooseMail={id:customMailInfoWhenPaid.id,name:mapping[customMailInfoWhenPaid.id]}),customMailInfoWhenPaid.subject&&!function(){var subject=customMailInfoWhenPaid.subject;subject&&(_lodash2["default"].forEach(_VAR,function(replacement,pattern){subject=subject.replace(new RegExp(_regInfoReplace(pattern),"g"),replacement)}),customMailInfoWhenPaid.subject=subject)}(),customMailInfoWhenPaid}if("customSmsInfoWhenPaid"===name&&mapping){var customSmsInfoWhenPaid=_lodash2["default"].zipObject(["id"],value);if(customSmsInfoWhenPaid&&customSmsInfoWhenPaid.id&&mapping[customSmsInfoWhenPaid.id]){var smsInfo=_lodash2["default"].zipObject(["name","auditStatus"],mapping[customSmsInfoWhenPaid.id]);3===smsInfo.auditStatus&&(customSmsInfoWhenPaid.chooseSms=_lodash2["default"].assign(smsInfo,{id:customSmsInfoWhenPaid.id}))}return customSmsInfoWhenPaid}return value}function convertExtend(extendRaw,_UGC,mpEm,mpSms,_MAIL_VAR){var _res={};return _lodash2["default"].forEach(extendRaw,function(extendInfo,name){if("logic"===name)!function(){var _logic={},LOGIC_MAPPING={ldf:"logicDefaultShows",ls:"logicSet"};_logic.state=extendInfo.s,extendInfo.p&&_lodash2["default"].forEach(extendInfo.p,function(info,key){LOGIC_MAPPING[key]&&info&&(_logic[LOGIC_MAPPING[key]]=info)}),_lodash2["default"].isEmpty(_logic)||(_res.logic=_logic)}();else if("ifp"===name){var _innerFormPay={};_innerFormPay.state=extendInfo.s,_lodash2["default"].isEmpty(_innerFormPay)||(_res.ifp=_innerFormPay),extendInfo.p&&(_res.ifp=_lodash2["default"].assign(_res.ifp,{isLimitAmount:extendInfo.p.iapta,limitAmountFrom:null!=extendInfo.p.aptaf?""+extendInfo.p.aptaf:"",limitAmountTo:null!=extendInfo.p.aptat?""+extendInfo.p.aptat:"",isLimitQuantity:extendInfo.p.iaptq,limitQuantityFrom:null!=extendInfo.p.aptqf?""+extendInfo.p.aptqf:"",limitQuantityTo:null!=extendInfo.p.aptqt?""+extendInfo.p.aptqt:"",isRemindMeWhenPaid:extendInfo.p.iapnm,remindMeWhenPaidByMail:extendInfo.p.iapnmem,remindMeWhenPaidMails:extendInfo.p.apnmeml,remindMeWhenPaidByMsg:extendInfo.p.iapnmsms,remindMeWhenPaidTels:extendInfo.p.apnmsmsl,paidMsgContentType:extendInfo.p.apnmsmsp,payOnlineMethod:extendInfo.p.appom,isRemindPreparerWhenPaid:extendInfo.p.iapnu,remindPreparerWhenPaidByMail:extendInfo.p.iapnuem,mailNtComponentWhenPaid:extendInfo.p.iapnuemcp,remindPreparerWhenPaidByMsg:extendInfo.p.iapnusms,msgNtComponentWhenPaid:extendInfo.p.iapnusmscp,remindPreparerWhenPaidByCustomMail:extendInfo.p.iapnucem,customMailNtComponentWhenPaid:extendInfo.p.iapnucemcp,customMailInfoWhenPaid:convertExtendSpecial("customMailInfoWhenPaid",extendInfo.p.iapnucemd,mpEm,_MAIL_VAR),remindPreparerWhenPaidByCustomMsg:extendInfo.p.iapnucsms,customMsgNtComponentWhenPaid:extendInfo.p.iapnucsmscp,customSmsInfoWhenPaid:convertExtendSpecial("customSmsInfoWhenPaid",extendInfo.p.iapnucsmsd,mpSms)}))}else if("ftkv"===name){var _ftkv={};_ftkv.state=extendInfo.s,_lodash2["default"].isEmpty(_ftkv)||(_res.ftkv=_ftkv),extendInfo.p&&(_res.ftkv=_lodash2["default"].assign(_res.ftkv,{ticketValidationTitle:extendInfo.p.t?(extendInfo.p.t||"").split("\n"):null,ticketValidationDescribe:(extendInfo.p.d||"").split("\n"),isTicketValidationRemindPreparer:extendInfo.p.inutn,coRemindPreparerByMail:extendInfo.p.inutnem,coMailNtComponent:extendInfo.p.nutnemcp,coRemindPreparerByMsg:extendInfo.p.inutnsms,coMsgNtComponent:extendInfo.p.nutnsmscp,isTkvAllowCancel:"iac"in extendInfo.p?extendInfo.p.iac:1}))}else if("fcki"===name){var _fcki={};_fcki.state=extendInfo.s,_lodash2["default"].isEmpty(_fcki)||(_res.fcki=_fcki),extendInfo.p&&(_res.fcki=_lodash2["default"].assign(_res.fcki,{ckiShowImage:"ihimg"in extendInfo.p?extendInfo.p.ihimg:1,ckiImage:!!extendInfo.p.himg&&{isLink:2===extendInfo.p.himg.himgs,linkUri:extendInfo.p.himg.himgr,imageUri:extendInfo.p.himg.himgu?_UGC+extendInfo.p.himg.himgu+"."+extendInfo.p.himg.himge:null,u:extendInfo.p.himg.himgu,e:extendInfo.p.himg.himge},ckiTitle:(extendInfo.p.t||"").split("\n"),ckiSubtitle:(extendInfo.p.d||"").split("\n"),ckiComponent:extendInfo.p.cp,ckiComponentTitle:(extendInfo.p.cpt||"").split("\n"),ckiWeChat:extendInfo.p.iwc,ckiOnlyOnce:extendInfo.p.irdev,ckiIsLimitPlace:extendInfo.p.irloc,ckiPlace:extendInfo.p.rloc,ckiOpen:extendInfo.p.iopen,ckiOpenComponent:extendInfo.p.opencp}))}else if("flto"===name){var _flto={};_flto.state=extendInfo.s,_lodash2["default"].isEmpty(_flto)||(_res.flto=_flto),extendInfo.p&&(_res.flto=_lodash2["default"].assign(_res.flto,{ltoTitle:extendInfo.p.t||"",ltoImageType:extendInfo.p.bgt||1,ltoIsImage:extendInfo.p.ibg?1:0,ltoImage:!!extendInfo.p.bgimg&&{isLink:2===extendInfo.p.bgimg.himgs,linkUri:extendInfo.p.bgimg.himgr,imageUri:extendInfo.p.bgimg.himgu?_UGC+extendInfo.p.bgimg.himgu+"."+extendInfo.p.bgimg.himge:null,u:extendInfo.p.bgimg.himgu,e:extendInfo.p.bgimg.himge},ltoList:extendInfo.p.wl||null,ltoComponent:extendInfo.p.cp,ltoShowComponent:extendInfo.p.showcp,ltoMode:"a"===extendInfo.p.m?2:1,ltoNumber:extendInfo.p.wn||1,ltoIsLimit:extendInfo.p.iCond?1:0,ltoConditions:extendInfo.p.cond}))}else if("frvg"===name){var _frvg={};if(_frvg.state=extendInfo.s,_lodash2["default"].isEmpty(_frvg)||(_res.frvg=_frvg),extendInfo.p&&extendInfo.p.cpl&&extendInfo.p.cpl.length>0){var cpId=extendInfo.p.cpl[0],cpst=(extendInfo.p.cpst||{})[cpId]||{};_res.frvg=_lodash2["default"].assign(_res.frvg,{rvgComponent:cpId,rvgTitle:cpst.t||"",rvgSubTitle:cpst.st||"",rvgTemplate:cpst.tp,rvgIsImage:cpst.ibg?1:0,rvgImage:!!cpst.bgimg&&{isLink:2===cpst.bgimg.himgs,linkUri:cpst.bgimg.himgr,imageUri:cpst.bgimg.himgu?_UGC+cpst.bgimg.himgu+"."+cpst.bgimg.himge:null,u:cpst.bgimg.himgu,e:cpst.bgimg.himge}})}}else{var _extendInfo={};_extendInfo.state=extendInfo.s,_lodash2["default"].isEmpty(_extendInfo)||(_res[name]=_extendInfo)}}),_res}function convertLayoutString(layoutStr){var isLogic=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!layoutStr)return[];layoutStr=layoutStr.split("");for(var layout=[],len=layoutStr.length,i=0,inBlock=!1,_wrapperCount=0,hasWrapper=!1,blockCache="";i<len;){var current=layoutStr[i];inBlock?">"===current&&0===_wrapperCount?(hasWrapper||(isLogic?_lodash2["default"].forEach(blockCache.split("~"),function(){layout.push({type:"normal"})}):layout.push({type:"squeezeBox",layout:blockCache.split("~").map(function(v){return+v})})),inBlock=!1,blockCache="",hasWrapper=!1):("<"===current?_wrapperCount++:">"===current&&_wrapperCount--,blockCache+=current):"<"===current?inBlock=!0:"-"===current&&layout.push({type:"normal"}),i++}return layout}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_FormMetaInfoMappingUtil=__webpack_require__(35),_config=__webpack_require__(6),_config2=_interopRequireDefault(_config),_MGDraftRawConvert=__webpack_require__(37);exports["default"]={convertHeader:convertHeader,convertTail:convertTail,convertStyle:convertStyle,convertSettings:convertSettings,convertExtend:convertExtend,convertLayoutString:convertLayoutString},module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function convertRawToDraftRaw(content,style){style=style||[];var entityMap={},_raw={blocks:[]},entityKey=0;return _lodash2["default"].forEach(content,function(d,i){var entityRanges=[],_preOffsetCount=0,text=d.replace(LINK_REG,function(match,$1,$2,$3,offset){return entityMap[entityKey]={type:"LINK",mutability:"MUTABLE",data:{url:$3}},entityRanges.push({offset:offset-_preOffsetCount,length:$2.length,key:""+entityKey}),entityKey++,_preOffsetCount+=12+$3.length,$2}),_style=style[i]||{},_block={text:text,type:"unstyled"};_style.style&&!_lodash2["default"].isEmpty(_style.style)&&(_block.inlineStyleRanges=_style.style),_lodash2["default"].isEmpty(entityRanges)||(_block.entityRanges=entityRanges),_raw.blocks[i]=_block}),_raw.entityMap=entityMap,_raw}function convertDraftRawToRaw(object,info){var style=[],content=[],entityMap=object.entityMap,entityTag=info?info.entityTag:null;return _lodash2["default"].forEach(object.blocks,function(block,idx){style[idx]={type:"unstyled",style:block.inlineStyleRanges};var _spliceInfo=[],_entityList=[],_currentPosition=0;_lodash2["default"].forEach(block.entityRanges,function(entityRange){_currentPosition<entityRange.offset&&_spliceInfo.push(block.text.substr(_currentPosition,entityRange.offset-_currentPosition)),_spliceInfo.push(_entityList.length);var entity=entityMap[entityRange.key];_entityList.push({text:block.text.substr(entityRange.offset,entityRange.length),type:entity.type,data:entity.data}),_currentPosition=entityRange.offset+entityRange.length});var len=block.text.length-_currentPosition;len>0&&_spliceInfo.push(block.text.substr(_currentPosition,len)),content[idx]=_lodash2["default"].reduce(_spliceInfo,function(str,data){if(_lodash2["default"].isNumber(data)){var entityInfo=_entityList[data],d="";if("LINK"===entityInfo.type){var link=(0,_MGUtil.linkify)(entityInfo.data.url)||entityInfo.data.url;d=entityTag?entityTag[0]+"LINK["+entityInfo.text+"]("+link+")"+entityTag[1]:"{{LINK["+entityInfo.text+"]("+link+")}}"}return str+d}return str+data},"")}),{content:content,style:style}}function relevantStyles(offset,styleRanges){return _lodash2["default"].map(_lodash2["default"].filter(styleRanges,function(range){return offset>=range.offset&&offset<range.offset+range.length}),function(s){return s.style})}function relevantEntityKey(offset,entityRanges){return _lodash2["default"].map(_lodash2["default"].filter(entityRanges,function(range){return offset>=range.offset&&offset<range.offset+range.length},function(entity){return{type:entity.type,data:entity.data,key:entity.key}}))}function decoratorBlock(blockType){if("unstyled"===blockType)return null;if(STYLE_MAPPING[blockType]&&blockType.indexOf("blockFontSize")>-1){var fontSize=+blockType.replace("blockFontSize","");return{fontSize:fontSize,lineHeight:_LINEHEIGHT_MAPPING[fontSize]}}return null}function decorator(styleList){var _style={};return _lodash2["default"].forEach(styleList,function(styleTag){switch(styleTag){case"BOLD":_style.fontWeight="bold";break;case"ITALIC":_style.fontStyle="italic";break;case"UNDERLINE":_style.textDecoration?_style.textDecoration=_style.textDecoration+" underline":_style.textDecoration="underline";break;case"STRIKETHROUGH":_style.textDecoration?_style.textDecoration=_style.textDecoration+" line-through":_style.textDecoration="line-through";break;default:if(0===styleTag.indexOf("color:")&&(_style.color=styleTag.replace("color:","")),0===styleTag.indexOf("bgc:")&&(_style.backgroundColor=styleTag.replace("bgc:","")),0===styleTag.indexOf("fs:")){var _fontSize=+styleTag.replace("fs:","");_style.fontSize=isNaN(_fontSize)?null:_fontSize}if(0===styleTag.indexOf("ff:")){var _fontFamily=styleTag.replace("ff:","");_style.fontFamily=FONT_FAMILY_MAPPING[_fontFamily]}}}),_style}function convertRawTextStyle(rawStyle){if(!rawStyle||_lodash2["default"].isEmpty(rawStyle))return null;var _res=[];return _lodash2["default"].forEach(rawStyle,function(rawBlock,idx){(rawBlock.t||rawBlock.s)&&(_res[+idx]={type:RAW_STYLE_MAPPING[rawBlock.t]||"unstyled",style:_lodash2["default"].map(rawBlock.s,function(s){return _lodash2["default"].zipObject(["offset","length","style"],s)})})}),_lodash2["default"].isEmpty(_res)?null:_res}function convertTextStyle(style){if(!style||_lodash2["default"].isEmpty(style))return null;var _res={};return _lodash2["default"].forEach(style,function(blockStyle,idx){if(blockStyle&&(blockStyle.type||blockStyle.style)){var _blockStyle={};"unstyled"!==blockStyle.type&&(_blockStyle.t=STYLE_MAPPING[blockStyle.type]),_lodash2["default"].isEmpty(blockStyle.style)||(_blockStyle.s=_lodash2["default"].map(blockStyle.style,function(s){return[s.offset,s.length,s.style]})),_lodash2["default"].isEmpty(_blockStyle)||(_res[idx]=_blockStyle)}}),_lodash2["default"].isEmpty(_res)?null:_res}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_react=__webpack_require__(14),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(38),_classnames2=_interopRequireDefault(_classnames),_MGUtil=__webpack_require__(27),FONT_FAMILY_MAPPING={1:"Microsoft YaHei",2:"SimSun, ST Song",3:"Wenquanyi Micro Hei, WenQuanYi ZenHei, WenQuanYi Zen Hei Sharp, ST Heiti",4:"KaiTi, KaiTi_GB2312, ST Kaiti",5:"YouYuan",
6:"Arial",7:"Georgia",8:"Helvetica, Helvetica Neue",9:"Tahoma",10:"Times New Roman",11:"Verdana"},LINK_REG=/\{\{(LINK\[(.*?)\]\((.*?)\))\}\}/g,_LINEHEIGHT_MAPPING={12:1.1,14:1.12,16:1.14,18:1.2,24:1.24,30:1.3,36:1.5,40:1.6},STYLE_MAPPING={blockFontSize12:"fs12",blockFontSize14:"fs14",blockFontSize16:"fs16",blockFontSize18:"fs18",blockFontSize24:"fs24",blockFontSize30:"fs30",blockFontSize36:"fs36",blockFontSize40:"fs40"},RAW_STYLE_MAPPING=_lodash2["default"].invert(STYLE_MAPPING),EMPTY_STYLE={},EMPTY_STYLE_INFO=[],ContentRawRender=function(){function ContentRawRender(config){_classCallCheck(this,ContentRawRender),this.entity=config.entity,this.decorator=config.decorator}return _createClass(ContentRawRender,[{key:"_entityComponent",value:function(data){return _react2["default"].createElement("span",{key:data.key,className:(0,_classnames2["default"])("cp-entity","entity-"+data.type.toLowerCase())},data.content)}},{key:"_styleWrapperComponent",value:function(_ref){var style=_ref.style,content=_ref.content,key=_ref.key;return _lodash2["default"].isEmpty(style)?content:_react2["default"].createElement("span",{style:decorator(style),key:"itemOffset"+key},content)}},{key:"renderLine",value:function(lineInfo,lineStyle,key){var _entity=[],_preOffsetCount=0,_entityKey=0,_text=lineInfo.replace(LINK_REG,function(match,$1,$2,$3,offset){return _entity.push({type:"LINK",data:{url:$3},key:_entityKey,offset:offset-_preOffsetCount,length:$2.length}),_entityKey++,_preOffsetCount+=12+$3.length,$2});_lodash2["default"].forEach(this.decorator,function(decorator){decorator.match(_text,function(offset,length){_entity.push({type:decorator.type||"VAR",key:_entityKey,offset:offset,length:length}),_entityKey++})});for(var _style=lineStyle||EMPTY_STYLE,_inlineStyleRanges=_style.style||null,_blockType=_style.type||null,_styleStack=[],_tempStr="",_tempKey=0,_tempEntityList=[],_entityState=null,_output=[],i=0,len=_text.length;i<len;i++){var characterStyles=null,characterEntity=null;characterStyles=_inlineStyleRanges&&!_lodash2["default"].isEmpty(_inlineStyleRanges)?relevantStyles(i,_inlineStyleRanges):EMPTY_STYLE_INFO,characterEntity=_lodash2["default"].isEmpty(_entity)?null:relevantEntityKey(i,_entity);var stylesToAdd=null,stylesToRemove=null;characterStyles===EMPTY_STYLE_INFO?(stylesToAdd=EMPTY_STYLE_INFO,stylesToRemove=_styleStack):(stylesToAdd=_lodash2["default"].difference(characterStyles,_styleStack),stylesToRemove=_lodash2["default"].difference(_styleStack,characterStyles)),characterEntity=characterEntity&&0!==characterEntity.length?characterEntity[0]:null;var _entityStateChange=(characterEntity?characterEntity.key:null)!==_entityState;if(stylesToAdd.length||stylesToRemove.length||_entityStateChange){if(null!==_entityState){if(_tempStr&&(_tempEntityList.push(this._styleWrapperComponent({style:_styleStack,content:_tempStr,key:_tempKey})),_tempKey++,_tempStr=""),_entityStateChange&&_tempEntityList.length>0){var _currentEntity=_lodash2["default"].find(_entity,{key:_entityState}),entityInfo=this.entity[_currentEntity.type];entityInfo||(entityInfo=_lodash2["default"].find(this.decorator,{type:_currentEntity.type}));var _data={type:_currentEntity.type,content:_tempEntityList,data:_currentEntity.data,key:"entity"+_entityState};entityInfo?_output.push(entityInfo.component(_data)):_output.push(this._entityComponent(_data)),_tempEntityList=[]}}else _tempStr&&(_output.push(this._styleWrapperComponent({style:_styleStack,content:_tempStr,key:_tempKey})),_tempKey++,_tempStr="");_entityState=characterEntity?characterEntity.key:null,stylesToRemove.length>0&&(_styleStack=_lodash2["default"].difference(_styleStack,stylesToRemove)),stylesToAdd.length>0&&_lodash2["default"].forEach(stylesToAdd,function(style){return _styleStack.push(style)})}_tempStr+=_text.substr(i,1)}if(_tempStr)if(null!==_entityState){_tempEntityList.push(this._styleWrapperComponent({style:_styleStack,content:_tempStr,key:_tempKey}));var _currentEntity2=_lodash2["default"].find(_entity,{key:_entityState}),_entityInfo=this.entity[_currentEntity2.type];_entityInfo||(_entityInfo=_lodash2["default"].find(this.decorator,{type:_currentEntity2.type}));var _data2={type:_currentEntity2.type,content:_tempEntityList,data:_currentEntity2.data,key:"entity"+_entityState};_entityInfo?_output.push(_entityInfo.component(_data2)):_output.push(this._entityComponent(_data2))}else _output.push(this._styleWrapperComponent({style:_styleStack,content:_tempStr,key:_tempKey}));return _lodash2["default"].isEmpty(_output)&&(_output=" "),_react2["default"].createElement("span",{key:"block"+key,style:_blockType?decoratorBlock(_blockType):null},_output)}},{key:"render",value:function(content,style){var _this=this,_blocks=[];content=content?[].concat(content):[];var _len=content.length;return _lodash2["default"].forEach(content,function(text,key){var _style=(style||EMPTY_STYLE)[key],blockContent=_this.renderLine(text,_style,key);_blocks=_blocks.concat(blockContent,_len-1===key?null:_react2["default"].createElement("br",{key:"wrapKey"+key}))}),_blocks}}]),ContentRawRender}();exports["default"]={convertRawToDraftRaw:convertRawToDraftRaw,convertDraftRawToRaw:convertDraftRawToRaw,convertTextStyle:convertTextStyle,convertRawTextStyle:convertRawTextStyle,FONT_FAMILY_MAPPING:FONT_FAMILY_MAPPING,crateTextRender:function(config){return new ContentRawRender(config)}},module.exports=exports["default"]},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg))classes.push(classNames.apply(null,arg));else if("object"===argType)for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}return classes.join(" ")}var hasOwn={}.hasOwnProperty;"undefined"!=typeof module&&module.exports?module.exports=classNames:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function convertDefaultImage(imgRaw,_CDN,_CDN_RATE){var _res=null;if(imgRaw)if("_"===imgRaw.charAt(0)){var _random=_lodash2["default"].random(.1,.8),_img=imgRaw.substring(1);_img=_CDN?location.protocol+_config2["default"].CDN_PATH_WITHOUT_PROTOCOL+"images/formTemplate/"+_img:_CDN_RATE<_random?location.protocol+"//pcdn.mikecrm.com/images/formTemplate/"+_img:"./images/formTemplate/"+_img,_res=_img}else _res=imgRaw;return _res}function convertRawComponentContent(type,content,_UGC,_CDN,_CDN_RATE){var r=null,otherId=null,_ret=function(){switch(type){case"radio":case"checkbox":case"dropDown":case"company":case"department":case"position":return r=[],_lodash2["default"].forEach(content.l,function(info,id){var _id=info[0];if(0===+_id)return otherId=content.l2s?content.l2s[""+_id]:null,!0;var _extInfo={};if(content.ptl){var _pid=null;_lodash2["default"].forEach(content.ptl,function(val,id){if(val===_lodash2["default"].trim(info[1]))return _pid=id,!1}),_pid&&(_extInfo={pid:_pid})}r.push(_lodash2["default"].assign({isDefaultValue:(content.df||[]).indexOf(_id)>-1,sId:content.l2s?content.l2s[_id]:null},_lodash2["default"].zipObject(["id","value"],info),_extInfo))}),{v:{options:r,optionsDefaultValue:content.df||[],otherId:content.l2s?content.l2s[0]:null}};case"title":case"gender":return r=[],_lodash2["default"].forEach(content.l,function(info,id){var _id=info,_info=_lodash2["default"].find(content.lo,function(d){return d[0]===_id});r.push(_lodash2["default"].assign({isDefaultValue:(content.df||[]).indexOf(_id)>-1,sId:content.l2s?content.l2s[_id]:null},_lodash2["default"].zipObject(["id","value"],_info)))}),{v:{options:r,optionsDefaultValue:content.df||[]}};case"picRadio":case"picCheckbox":return r=[],_lodash2["default"].forEach(content.l,function(info,id){var _id=info[0];if(0!==+_id){var _tempRes={id:_id,sId:content.l2s?content.l2s[_id]:null,value:info[1],isDefaultValue:(content.df||[]).indexOf(_id)>-1},_imageInfo=info[2];_imageInfo&&!_lodash2["default"].isEmpty(_imageInfo)&&_lodash2["default"].isPlainObject(_imageInfo)&&(_imageInfo.u&&_imageInfo.e?(_tempRes.image={},_tempRes.image.isOpt=(content.opt||[]).indexOf(_id)>-1,_tempRes.image.imageUri=_UGC+(_tempRes.image.isOpt?"opt_":"")+_imageInfo.u+"."+_imageInfo.e,_tempRes.image.imageFullUri=_UGC+_imageInfo.u+"."+_imageInfo.e,_tempRes.image.u=_imageInfo.u,_tempRes.image.e=_imageInfo.e,_tempRes.image.width=_imageInfo.w,_tempRes.image.height=_imageInfo.h):_imageInfo.ul&&(_tempRes.image={},_tempRes.image.isLink=!0,_tempRes.image.linkUri=convertDefaultImage(_imageInfo.ul,_CDN,_CDN_RATE),_tempRes.image.width=_imageInfo.w,_tempRes.image.height=_imageInfo.h)),r.push(_tempRes)}}),{v:{options:r,optionsDefaultValue:content.df||[]}};case"staticPic":return r=[],content&&content.p&&_lodash2["default"].forEach(content.p,function(info){if(info&&_lodash2["default"].isArray(info)){var _imageInfo=info[0],_imageAlign=info[1]||2,_tempRes={picAlign:_imageAlign};_imageInfo&&!_lodash2["default"].isEmpty(_imageInfo)&&_lodash2["default"].isPlainObject(_imageInfo)&&(_tempRes.isJumpTo=!!_imageInfo.l,_tempRes.jumpTo=_imageInfo.l||null,_imageInfo.u&&_imageInfo.e?(_tempRes.u=_imageInfo.u,_tempRes.e=_imageInfo.e,_tempRes.imageUri=_UGC+_imageInfo.u+"."+_imageInfo.e,_tempRes.width=_imageInfo.w,_tempRes.height=_imageInfo.h):_imageInfo.ul?(_tempRes.isLink=!0,_tempRes.linkUri=convertDefaultImage(_imageInfo.ul,_CDN,_CDN_RATE),_tempRes.width=_imageInfo.w,_tempRes.height=_imageInfo.h):_tempRes.imageUri=null),r.push(_tempRes)}else r.push(null)}),{v:{pictures:r}};case"picCarousel":return r=[],content&&content.p&&_lodash2["default"].forEach(content.p,function(info){if(info&&!_lodash2["default"].isEmpty(info)&&_lodash2["default"].isPlainObject(info)){var _tempRes={id:info.id,isJumpTo:!!info.l,jumpTo:info.l||null,name:info.n||null};info.u&&info.e?(_tempRes.u=info.u,_tempRes.e=info.e,_tempRes.imageUri=_UGC+info.u+"."+info.e,_tempRes.width=info.w,_tempRes.height=info.h):info.ul?(_tempRes.isLink=!0,_tempRes.linkUri=convertDefaultImage(info.ul,_CDN,_CDN_RATE),_tempRes.width=info.w,_tempRes.height=info.h):_tempRes.imageUri=null,r.push(_tempRes)}else r.push(null)}),{v:{carouselPictures:r}};case"commodity":return r=[],_lodash2["default"].forEach(content.l,function(info,id){var _describe=info[2];_lodash2["default"].isArray(_describe)||(_describe=(""+(_describe||"")).split("\n"));var _tempRes={id:info[0],sId:content.l2s?content.l2s[info[0]]:null,name:info[1],describe:_describe,price:(content.l2p?content.l2p[info[0]]:0)||0},_imageInfo=info[3];_imageInfo&&!_lodash2["default"].isEmpty(_imageInfo)&&_lodash2["default"].isPlainObject(_imageInfo)&&(_imageInfo.u&&_imageInfo.e?(_tempRes.image={},_tempRes.image.isOpt=(content.opt||[]).indexOf(info[0])>-1,_tempRes.image.imageUri=_UGC+(_tempRes.image.isOpt?"opt_":"")+_imageInfo.u+"."+_imageInfo.e,_tempRes.image.imageFullUri=_UGC+_imageInfo.u+"."+_imageInfo.e,_tempRes.image.u=_imageInfo.u,_tempRes.image.e=_imageInfo.e):_imageInfo.ul&&(_tempRes.image={},_tempRes.image.isLink=!0,_tempRes.image.linkUri=convertDefaultImage(_imageInfo.ul,_CDN,_CDN_RATE)),_tempRes.isJumpTo=!!_imageInfo.l,_tempRes.jumpTo=_imageInfo.l||null),r.push(_tempRes)}),{v:{commodities:r,cpId:content.mx,priceList:content.l2p}};case"multiLevel":return content?(r=[],_lodash2["default"].forEach(content.l,function(info,id){var _id=info[0];r.push(_lodash2["default"].assign({defaultValue:(content.df||[]).indexOf(_id)>-1,sId:content.l2s?content.l2s[_id]:null},_lodash2["default"].zipObject(["id","pId","type","content","inputRequired"],info)))}),{v:{options:r,optionsDefaultValue:content.df||[]}}):{v:void 0};case"rank":return content?(r=[],_lodash2["default"].forEach(content.l,function(info,id){var _id=info[0];r.push(_lodash2["default"].assign({isDefaultValue:(content.df||[]).indexOf(_id)>-1,sId:content.l2s?content.l2s[_id]:null},_lodash2["default"].zipObject(["id","value"],info)))}),{v:{options:r}}):{v:void 0};case"tabular":var _options=[],_questions=[];_lodash2["default"].forEach(content.l,function(info,id){_options.push(_lodash2["default"].assign({isDefaultValue:(content.df||[]).indexOf(info[0])>-1},_lodash2["default"].zipObject(["id","value"],info)))}),_lodash2["default"].forEach(content.ql,function(info,id){_questions.push(_lodash2["default"].zipObject(["id","value"],info))});var _res={};return content.l&&(_res.options=_options),content.ql&&(_res.questions=_questions),content.ql2s&&(_res.ql2sMapping=content.ql2s),content.ch&&(_res.tipText=content.ch),{v:_res}}}();return"object"===("undefined"==typeof _ret?"undefined":_typeof(_ret))?_ret.v:r}function convertRawCtcfComponentContent(type,content,_UGC,_CDN,_CDN_RATE){var r={};if(!content)return{};switch(type){case 6:case 7:return r=[],_lodash2["default"].forEach(content.l,function(info,id){info[2]&&r.push({isDefaultValue:(content.df||[]).indexOf(info[0])>-1,id:info[0],sId:content.l2s?content.l2s[info[0]]:null,value:info[1]})}),{options:r,optionsDefaultValue:content.df||[]};case 8:if(!content)return;return r=[],_lodash2["default"].forEach(content.l,function(info,id){r.push(_lodash2["default"].assign({defaultValue:(content.df||[]).indexOf(info[0])>-1,sId:content.l2s?content.l2s[info[0]]:null},_lodash2["default"].zipObject(["id","pId","type","content"],info)))}),{options:r,optionsDefaultValue:content.df||[]}}return r}function convertRawComponentPropsInfo(type,info){var r={};switch(type){case"input":case"textarea":_lodash2["default"].forEach(info,function(data,type){var propsType=_FormMetaInfoMappingUtil.invert_propsMapping[type];propsType&&null!==data&&void 0!==data&&(r[propsType]=data)});break;case"radio":case"checkbox":case"dropDown":_lodash2["default"].forEach(info,function(data,type){var propsType=_FormMetaInfoMappingUtil.invert_propsMapping[type];propsType&&null!==data&&void 0!==data&&(r[propsType]=data)});break;default:_lodash2["default"].forEach(info,function(data,type){var propsType=_FormMetaInfoMappingUtil.invert_propsMapping[type];propsType&&("localityRange"===propsType&&(data=data.map(function(info){return{type:""+info[0],locationId:info[1]}})),"picDescribe"!==propsType&&"describeFoldText"!==propsType&&"foldContent"!==propsType||data&&!_lodash2["default"].isEmpty(data)&&_lodash2["default"].isString(data)&&(data=data.split("\n")),"picDescribe_style"!==propsType&&"describeFoldText_style"!==propsType&&"foldContent_style"!==propsType||(data=(0,_MGDraftRawConvert.convertRawTextStyle)(data||null)),null!==data&&void 0!==data&&(r[propsType]=data))})}return r}function convertMultiLineTitle(text){return text?text.split("\n"):[]}function convertRawComponent(raw,_UGC,_CDN,_CDN_RATE,isFr){var info=_lodash2["default"].zipObject(["type","isRequired","content","props"],raw);isFr&&(info=_lodash2["default"].zipObject(["id","type","content","props"],raw));var itemType=_FormMetaInfoMappingUtil.METAID_COMPONENT_MAPPING[info.type];switch(info.title=info.content?convertMultiLineTitle(info.content.t):null,info.subtitle=info.content?convertMultiLineTitle(info.content.d):null,info.title_style=info.content?(0,_MGDraftRawConvert.convertRawTextStyle)(info.content.ts):null,info.subtitle_style=info.content?(0,_MGDraftRawConvert.convertRawTextStyle)(info.content.ds):null,info.type=itemType,itemType){case"textarea":info.isOnlySingle="0",info.type="input";break;case"input":info.isOnlySingle="1";break;case"rank":info.trueDigits||(info.trueDigits=(info.content.l||[]).length)}return info=_lodash2["default"].assign(info,convertRawComponentPropsInfo(itemType,info.props),convertRawComponentContent(itemType,info.content,_UGC,_CDN,_CDN_RATE)),delete info.props,delete info.content,info}function convertRawCtcfComponent(raw,_UGC,_CDN,_CDN_RATE,isFr){var info=_lodash2["default"].zipObject(["type","isRequired","content","props"],raw);switch(isFr&&(info=_lodash2["default"].zipObject(5===raw.length?["sId","ctcfId","type","content","props"]:["id","type","content","props"],raw)),info.isCustomField=!0,info.title=info.content?convertMultiLineTitle(info.content.t):null,info.subtitle=info.content?convertMultiLineTitle(info.content.d):null,info.title_style=info.content?(0,_MGDraftRawConvert.convertRawTextStyle)(info.content.ts):null,info.subtitle_style=info.content?(0,_MGDraftRawConvert.convertRawTextStyle)(info.content.ds):null,info.type){case 2:info.isOnlySingle="0",info.type=1;break;case 1:info.isOnlySingle="1";break;case 7:info.isCheckbox=1}return info=_lodash2["default"].assign(info,convertRawComponentPropsInfo(info.type,info.props),convertRawCtcfComponentContent(info.type,info.content,_UGC,_CDN,_CDN_RATE)),delete info.props,delete info.content,info}function convertComponentData(_ref,_UGC,extProcess){var cp=_ref.cp,cp_ctcf=_ref.cp_ctcf,_CDN=arguments.length>3&&void 0!==arguments[3]&&arguments[3],_CDN_RATE=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,isFr=arguments[5],_res_components={};return cp&&_lodash2["default"].forEach(cp,function(componentRaw,id){isFr&&(id=componentRaw[0]);var _d=_lodash2["default"].assign({id:id},convertRawComponent(componentRaw,_UGC,_CDN,_CDN_RATE,isFr));extProcess&&(_d=extProcess(_d)),_res_components[id]=_d}),cp_ctcf&&_lodash2["default"].forEach(cp_ctcf,function(componentRaw,id){isFr&&(id=componentRaw[0]);var _d=_lodash2["default"].assign({id:"ctcf#"+id},convertRawCtcfComponent(componentRaw,_UGC,_CDN,_CDN_RATE,isFr));extProcess&&(_d=extProcess(_d)),_res_components["ctcf#"+id]=_d}),_res_components}function convertLayout(cpl,cpo){var isLogic=arguments.length>2&&void 0!==arguments[2]&&arguments[2],_res_layout=null;if(!cpl||!cpo)return _res_layout;var _layoutObj=(0,_FormConvertUtil.convertLayoutString)(cpl,isLogic),componentOrder=_lodash2["default"].map(cpo.split(";"),function(id){return _lodash2["default"].startsWith(id,"ctcf#")?id:+id});return _res_layout=_lodash2["default"].map(_layoutObj,function(info){return"normal"===info.type?info.id=componentOrder.shift():"squeezeBox"===info.type&&(info.children=info.layout.map(function(i){return componentOrder.shift()})),info})}function convertFormTicket(dataList,infoMapping){return _lodash2["default"].map(dataList,function(rawData){if(rawData){var _res={};return _res.id=rawData[0],_res.ticketNum=rawData[1],_res.ticketStatus=rawData[2],_res.ticketValidWay=rawData[3],_res.feedbackId=rawData[4],rawData[5]&&infoMapping.user&&infoMapping.user[rawData[5]]&&(_res.verificationUser=infoMapping.user[rawData[5]][0]),infoMapping.create&&(_res.createdDate=infoMapping.create[_res.id]),infoMapping.update&&(_res.verificationDate=infoMapping.update[_res.id]),_res}return null})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.viewRawCtcfComponent=exports.viewRawComponent=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.convertRawComponentContent=convertRawComponentContent,exports.convertRawCtcfComponentContent=convertRawCtcfComponentContent,exports.convertRawComponentPropsInfo=convertRawComponentPropsInfo,exports.convertComponentData=convertComponentData,exports.convertLayout=convertLayout,exports.convertFormTicket=convertFormTicket;var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_MGDebugger=__webpack_require__(32),_FormConvertUtil=(_interopRequireDefault(_MGDebugger),__webpack_require__(36)),_FormMetaInfoMappingUtil=__webpack_require__(35),_MGDraftRawConvert=__webpack_require__(37),_config=__webpack_require__(6),_config2=_interopRequireDefault(_config);exports.viewRawComponent=convertRawComponent,exports.viewRawCtcfComponent=convertRawComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function convertExt(ext,_UGC){if(ext){if(ext.logic&&1===ext.logic.s){var _ref=ext.logic.p||{},ldf=_ref.ldf,ls=_ref.ls;_logic={defaultShown:ldf,info:ls}}ext.ifp&&1===ext.ifp.s&&(_innerFormPay=!0,ext.ifp.p&&(_innerFormPayInfo.payOnlineMethod=[].concat(ext.ifp.p.appom||[]),_lodash2["default"].isEmpty(_innerFormPayInfo.payOnlineMethod)&&(_innerFormPayInfo.payOnlineMethod=[1,2,4]),_innerFormPayInfo.isLimitAmount=ext.ifp.p.iapta,_innerFormPayInfo.limitAmountFrom=ext.ifp.p.aptaf,_innerFormPayInfo.limitAmountTo=ext.ifp.p.aptat,_innerFormPayInfo.isLimitQuantity=ext.ifp.p.iaptq,_innerFormPayInfo.limitQuantityFrom=ext.ifp.p.aptqf,_innerFormPayInfo.limitQuantityTo=ext.ifp.p.aptqt)),ext.ftkv&&1===ext.ftkv.s&&(_ticketValidation=!0,ext.ftkv.p&&(_ticketValidationInfo.ticketValidationTitle=ext.ftkv.p.t?(""+(ext.ftkv.p.t||"")).split("\n"):null,_ticketValidationInfo.ticketValidationDescribe=(""+(ext.ftkv.p.d||"")).split("\n"),_ticketValidationInfo.isTicketValidationRemindPreparer=ext.ftkv.p.inutn,_ticketValidationInfo.coRemindPreparerByMail=ext.ftkv.p.inutnem,_ticketValidationInfo.coMailNtComponent=ext.ftkv.p.nutnemcp,_ticketValidationInfo.coRemindPreparerByMsg=ext.ftkv.p.inutnsms,_ticketValidationInfo.coMsgNtComponent=ext.ftkv.p.nutnsmscp)),ext.fcki&&1===ext.fcki.s&&(_checkIn=!0,ext.fcki.p&&(_checkInInfo.ckiWeChat=0!==ext.fcki.p.iwc,_checkInInfo.ckiShowImage="ihimg"in ext.fcki.p?ext.fcki.p.ihimg:1,_checkInInfo.ckiImage=!!ext.fcki.p.himg&&{isLink:2===ext.fcki.p.himg.himgs,linkUri:ext.fcki.p.himg.himgr,imageUri:ext.fcki.p.himg.himgu?_UGC+ext.fcki.p.himg.himgu+"."+ext.fcki.p.himg.himge:null,u:ext.fcki.p.himg.himgu,e:ext.fcki.p.himg.himge},_checkInInfo.ckiTitle=ext.fcki.p.t?(""+(ext.fcki.p.t||"")).split("\n"):null,_checkInInfo.ckiSubtitle=ext.fcki.p.d?(""+(ext.fcki.p.d||"")).split("\n"):null,_checkInInfo.ckiComponent=ext.fcki.p.cp,_checkInInfo.ckiComponentTitle=(ext.fcki.p.cpt||"").split("\n"),_checkInInfo.ckiOnlyOnce=ext.fcki.p.irdev,_checkInInfo.ckiIsLimitPlace=ext.fcki.p.irloc,_checkInInfo.ckiPlace=ext.fcki.p.rloc,_checkInInfo.ckiOpen=ext.fcki.p.iopen,_checkInInfo.ckiOpenComponent=ext.fcki.p.opencp)),ext.nologo&&1===ext.nologo.s&&(_nologo=!0),ext.crl&&1===ext.crl.s&&(_copyrightLogo=!0),ext.fcpt&&1===ext.fcpt.s&&(_formCaptcha=!0),ext.fcrs&&1===ext.fcrs.s&&(_componentPicCarousel=!0),ext.fwbt&&1===ext.fwbt.s&&(_componentButton=!0),ext.fwvp&&1===ext.fwvp.s&&(_componentVideo=!0),ext.frte&&1===ext.frte.s&&(_renderRichText=!0)}}function getLogic(){return _logicState?_logic:null}function setLogicState(logicState){_logicState=logicState}function getInnerFormPay(){return{isInnerFormPay:_innerFormPay,info:_innerFormPayInfo}}function getTicketValidation(){return{isTicketValidation:_ticketValidation,info:_ticketValidationInfo}}function getCheckIn(){return{isCheckIn:_checkIn,info:_checkInInfo}}function getExt(type){switch(type){case"logic":return getLogic();case"nologo":return _nologo;case"copyrightLogo":return _copyrightLogo;case"captcha":return _formCaptcha;case"componentVideo":return _componentVideo;case"componentPicCarousel":return _componentPicCarousel;case"componentButton":return _componentButton;case"renderRichText":return _renderRichText;default:return null}}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_nologo=!1,_copyrightLogo=!1,_formCaptcha=!1,_componentVideo=!1,_componentPicCarousel=!1,_componentButton=!1,_renderRichText=!1,_logicState=!0,_logic=null,_innerFormPay=null,_innerFormPayInfo={},_ticketValidation=null,_ticketValidationInfo={},_checkIn=null,_checkInInfo={};exports["default"]={init:function(){_nologo=!1,_copyrightLogo=!1,_formCaptcha=!1,_componentPicCarousel=!1,_componentVideo=!1,_componentButton=!1,_logic=null,_innerFormPay=null,_innerFormPayInfo={},_ticketValidation=null,_ticketValidationInfo={}},convertExt:convertExt,getExt:getExt,getLogic:getLogic,setLogicState:setLogicState,getInnerFormPay:getInnerFormPay,getTicketValidation:getTicketValidation,getCheckIn:getCheckIn},module.exports=exports["default"]},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _checkFileType(fileName,fileType,limitType,isImage){var _sfx=fileName.split(".");if(_sfx=_sfx.length>1?_sfx[_sfx.length-1].toLowerCase():null,_sfx&&_sfx.match(_ILLEGAL_SFX_CHAR))return!1;if(isImage)return fileType?"image"===fileType.split("/")[0].toLowerCase():!!_sfx&&IMAGE_TYPE_LIST.indexOf(_sfx)>-1;if(limitType){var _ret=function(){var _hit=!1;return _lodash2["default"].forEach(FILE_TYPE_LIST,function(t,idx){return!_hit&&void(limitType.indexOf(idx)>-1&&_lodash2["default"].forEach(t.split("/"),function(_t){if((""+_t).toLowerCase()===_sfx)return _hit=!0,!1}))}),{v:_hit}}();if("object"===("undefined"==typeof _ret?"undefined":_typeof(_ret)))return _ret.v}return!0}function _checkFileSize(fileSize,limitSize){return fileSize<=1048576*limitSize}function _checkFileResolution(fileResolution,limitResolution){return!(limitResolution.maxHeight&&fileResolution.height>limitResolution.maxHeight)&&(!(limitResolution.minHeight&&fileResolution.height<limitResolution.minHeight)&&(!(limitResolution.maxWidth&&fileResolution.width>limitResolution.maxWidth)&&!(limitResolution.minWidth&&fileResolution.width<limitResolution.minWidth)))}function _fileLegal(_fileInfo,_componentInfo,_fileTypes,_resolution,_isImage){var _legal=!0,_errorType=null,_fileTypeCheckRes=_checkFileType(_fileInfo.name,_fileInfo.type,_fileTypes,_isImage);_legal=_legal&&_fileTypeCheckRes,_legal?null:_errorType="ILLEGAL_SUFFIX";var _fileSizeCheckRes=!0;if(_legal){var _checkSize=500;1===_componentInfo.isLimitFileSize&&_componentInfo.fileSize&&+_componentInfo.fileSize<500&&(_checkSize=+_componentInfo.fileSize),_fileSizeCheckRes=_checkFileSize(_fileInfo.size||0,_checkSize),_legal=_legal&&_fileSizeCheckRes,_legal?null:_errorType="ILLEGAL_FILE_SIZE"}var _fileResolutionCheckRes=!0;return _legal&&1===_componentInfo.isLimitPicResolution&&_isImage&&_fileInfo.resolution&&(_fileResolutionCheckRes=_checkFileResolution(_fileInfo.resolution,_resolution),_legal=_legal&&_fileResolutionCheckRes,_legal?null:_errorType="ILLEGAL_FILE_RESOLUTION"),{_legal:_legal,_errorType:_errorType}}function saveDataProcess(data,action){var i,newData={},_newData=void 0,_idx=void 0;return function(){switch(action.type){case"numberBlur":if(action.value){var _number=_MGIntl2["default"].localeStringToNumber(action.value);if(!isNaN(_number)&&_lodash2["default"].isNumber(_number)){var component=_utils2["default"].getComponents(action.id);1===component.isAcceptDecimals&&1===component.isLimitDecDigits&&component.decDigits&&(_number=_number.toFixed(+component.decDigits)),newData[action.id]=_MGIntl2["default"].localeNumberFormatter(_number,1===component.isAcceptDecimals?+component.decDigits:null,1===component.isAcceptDecimals?+component.decDigits:null,!1)}else newData[action.id]=action.value}else newData[action.id]=action.value;break;case"inputBlur":case"setValue":_lodash2["default"].isObject(action.value)?newData[action.id]=_lodash2["default"].assign({},data[action.id],action.value):newData[action.id]=action.value;break;case"setRate":data[action.id]===action.value?newData[action.id]=null:newData[action.id]=action.value;break;case"setRank":var rankId=action.id,rankNum=action.num,rankValue=action.value,oldData=data[rankId];oldData?newData[rankId]=_lodash2["default"].assign({},oldData):newData[rankId]={};var changePosition=!1;_lodash2["default"].forEach(oldData,function(id,key){if(id===rankValue)return changePosition=key,!1}),oldData&&!oldData[rankNum]&&changePosition===!1||!oldData?newData[rankId][rankNum]=rankValue:changePosition!==!1&&oldData?(newData[rankId][rankNum]=rankValue,oldData[rankNum]?newData[rankId][changePosition]=oldData[rankNum]:delete newData[rankId][changePosition]):delete newData[rankId];break;case"setNextRank":var _oldRankData=data[action.id];_oldRankData?newData[action.id]=_lodash2["default"].assign({},_oldRankData):newData[action.id]={};var changed=!1;for(i=0;i<action.total;i++)if(!newData[action.id][i]){changed=!0,newData[action.id][i]=action.value;break}changed||delete newData[action.id];break;case"removeRank":var oldRankData=data[action.id];if(oldRankData){var _changePosition=!1;_lodash2["default"].forEach(oldRankData,function(id,key){if(id===action.value)return _changePosition=key,!1}),_changePosition&&(newData[action.id]=_lodash2["default"].assign({},oldRankData),delete newData[action.id][_changePosition])}break;case"addContactInfoGroup":if(action){var oldContactGroupData=(data[action.id]||[]).slice();_lodash2["default"].isEmpty(oldContactGroupData)&&oldContactGroupData.push({}),oldContactGroupData.push({}),newData[action.id]=oldContactGroupData}break;case"removeContactInfoGroup":if(action){var _oldContactGroupData=(data[action.id]||[]).slice();_oldContactGroupData.splice(action.index,1),newData[action.id]=_oldContactGroupData}break;case"setGroupType":if(action){var _oldContactGroupData2=(data[action.id]||[]).slice();_oldContactGroupData2[action.index]||(_oldContactGroupData2[action.index]={}),_oldContactGroupData2[action.index]=_lodash2["default"].assign({},_oldContactGroupData2[action.index],{type:action.value}),newData[action.id]=_oldContactGroupData2}break;case"setGroupInfo":if(action){var _oldContactGroupData3=(data[action.id]||[]).slice();_oldContactGroupData3[action.index]||(_oldContactGroupData3[action.index]={}),_oldContactGroupData3[action.index]=_lodash2["default"].assign({},_oldContactGroupData3[action.index],{type:action.contentType,info:action.value}),newData[action.id]=_oldContactGroupData3}break;case"setCommodityValue":var oldCommodityData=data[action.id],newItemInfo={};if(newItemInfo[action.cId]=+action.value,!newItemInfo[action.cId]||newItemInfo[action.cId]<=0||isNaN(newItemInfo[action.cId])||newItemInfo[action.cId]===1/0||newItemInfo[action.cId]===-(1/0)){var _commodity=_lodash2["default"].assign({},oldCommodityData);delete _commodity[action.cId],newData[action.id]=_commodity}else newData[action.id]=_lodash2["default"].assign({},oldCommodityData,newItemInfo);break;case"toggleCommodityState":break;case"inputMultiAdd":newData[action.id]=(data[action.id]||[""]).slice(),newData[action.id].push("");break;case"inputMultiRemove":newData[action.id]=(data[action.id]||[""]).slice(),newData[action.id].splice(action.idx,1);break;case"inputMultiBlur":case"setMultiValue":newData[action.id]=(data[action.id]||[""]).slice(),newData[action.id][action.idx]=action.value;break;case"setTabularValue":switch(_newData=_lodash2["default"].assign({},data[action.id]||{}),action.componentType){case 2:var _itemIdx=(_newData[action.qId]||[]).indexOf(action.value);_itemIdx>-1?(_newData[action.qId].splice(_itemIdx,1),_newData[action.qId]=_newData[action.qId].slice()):(_newData[action.qId]||(_newData[action.qId]=[]),_newData[action.qId].push(action.value));break;case 3:case 4:_newData[action.qId]=action.value;break;case 1:default:0===(_newData[action.qId]||[]).indexOf(action.value)?_newData[action.qId]=null:_newData[action.qId]=[action.value]}newData[action.id]=_newData;break;case"setSelector":if(_newData=(data[action.id]||[]).slice(),action.isCheckbox){var _dIdx=_newData.map(function(v){return _lodash2["default"].isObject(v)?v.id:v}).indexOf(action.value);if(_dIdx===-1){var _selected=action.value;otherInfoPool[_selected]&&(_selected={id:action.value,value:otherInfoPool[_selected]}),_newData.push(_selected)}else _newData.splice(_dIdx,1)}else if(null===action.value)_newData=[];else{var _selected2=action.value;_lodash2["default"].isObject(_newData[0])&&_newData[0].id===action.value?_newData=[]:_newData[0]===action.value?_newData=[]:(otherInfoPool[_selected2]&&(_selected2={id:action.value,value:otherInfoPool[_selected2]}),_newData=[_selected2])}newData[action.id]=_newData;break;case"setSelectorValue":case"blurSelectorInput":_newData=(data[action.id]||[]).slice(0),_idx=-1;var _isObj=!1;_lodash2["default"].forEach(_newData,function(info,key){if(_lodash2["default"].isObject(info)){if(info.id===action.optionId)return _isObj=!0,_idx=key,!1}else if(info===action.optionId)return _isObj=!1,_idx=key,!1}),_idx!==-1&&(otherInfoPool[action.optionId]=action.value,_isObj?_newData[_idx].value=action.value:_newData[_idx]={id:action.optionId,value:action.value}),newData[action.id]=_newData;break;case"setMultiLevelSelector":_newData=[{id:action.value,current:action.current}],newData[action.id]=_newData;break;case"setMultiLevelSelectorValue":_newData=[{id:action.optionId,value:action.value,current:action.current}],newData[action.id]=_newData;break;case"setLocationInput":_newData=data[action.id]||{},newData[action.id]=_lodash2["default"].assign({},_newData,{content:action.value});break;case"setLocationStruct":_newData=data[action.id]||{},newData[action.id]=_lodash2["default"].assign({},_newData,{struct:action.value});break;case"setAddressSelector":_newData=data[action.id]||{},newData[action.id]=_lodash2["default"].assign({},_newData,{struct:action.value});break;case"setAddressInput":_newData=data[action.id]||{},newData[action.id]=_lodash2["default"].assign({},_newData,{content:action.value});break;case"setAddressZipCode":_newData=data[action.id]||{},newData[action.id]=_lodash2["default"].assign({},_newData,{zipCode:action.value});break;case"fileProcessFlush":filePool[action.id]||(filePool[action.id]={_it:0,fileList:{}}),action.processData&&!function(){var attachmentComponent=_utils2["default"].getComponents(action.id);_newData=(data[action.id]||[]).slice(0);var componentFilePool=filePool[action.id],fileTypes=null;1!==attachmentComponent.isLimitFileType||_lodash2["default"].isEmpty(attachmentComponent.fileTypes)||(fileTypes=attachmentComponent.fileTypes);var _resolution=null;1===attachmentComponent.isLimitPicResolution&&(_resolution={maxHeight:attachmentComponent.picMaxHeight||null,minHeight:attachmentComponent.picMinHeight||null,maxWidth:attachmentComponent.picMaxWidth||null,minWidth:attachmentComponent.picMinWidth||null}),action.processData.update&&_lodash2["default"].forEach(action.processData.update,function(info){var _fileInfo=info.fileInfo,_fileLegal2=_fileLegal(_fileInfo,attachmentComponent,fileTypes,_resolution,action.isImage),_legal=_fileLegal2._legal,_errorType=_fileLegal2._errorType;componentFilePool.fileList[+info.id]=_fileInfo.file;var _dataPosition=_lodash2["default"].findIndex(_newData,{idx:+info.id});_newData[_dataPosition]=_lodash2["default"].assign({},_newData[_dataPosition],{name:_fileInfo.name,size:_fileInfo.size,type:_fileInfo.type,error:_errorType,fileData:_legal?_fileInfo.file:null})}),action.processData.add&&_lodash2["default"].forEach(action.processData.add,function(info){var _fileInfo=info,_fileLegal3=_fileLegal(_fileInfo,attachmentComponent,fileTypes,_resolution,action.isImage),_legal=_fileLegal3._legal,_errorType=_fileLegal3._errorType;componentFilePool._it=componentFilePool._it+1;var _id=componentFilePool._it;componentFilePool.fileList[+_id]=_fileInfo.file,_newData.push({idx:_id,name:_fileInfo.name,size:_fileInfo.size,type:_fileInfo.type,error:_errorType,fileData:_legal?_fileInfo.file:null})}),newData[action.id]=_newData}();break;case"removeFile":if(null!==action.idx){_newData=(data[action.id]||[]).slice(0);var _dataIdx=_lodash2["default"].findIndex(_newData,{idx:+action.idx});delete filePool[action.id].fileList[+action.idx],_dataIdx>-1&&(_newData.splice(_dataIdx,1),newData[action.id]=_newData)}break;case"validMobile":_newData=data[action.id]||{},_newData.verificationToken=null,_newData.verificationCode=null,newData[action.id]=_lodash2["default"].assign({},_newData);break;case"setMobileValue":_newData=data[action.id]||{},_newData.mobile!==action.value&&(_newData.verificationToken=null,_newData.verificationCode=null),newData[action.id]=_lodash2["default"].assign({},_newData,{mobile:action.value});break;case"setVerificationToken":_newData=data[action.id]||{},newData[action.id]=_lodash2["default"].assign({},_newData,{verificationToken:action.value[0],verificationMobileToken:action.value[1]});break;case"setVerificationCode":_newData=data[action.id]||{},newData[action.id]=_lodash2["default"].assign({},_newData,{verificationCode:action.value});break;case"setCurrencySymbol":newData[action.id]=[].concat(data[action.id]),newData[action.id][0]=action.value;break;case"blurCurrencyVal":newData[action.id]=(data[action.id]||[]).slice();var _cfCurrencyVal=_MGIntl2["default"].localeStringToNumber(action.value);isNaN(_cfCurrencyVal)||!_lodash2["default"].isNumber(_cfCurrencyVal)?newData[action.id][1]=action.value:newData[action.id][1]=_MGIntl2["default"].localeNumberFormatter(_cfCurrencyVal,null,null,!1);break;case"setCurrencyVal":newData[action.id]=(data[action.id]||[]).slice(),newData[action.id][1]=action.value;break;case"setVehicleType":_newData=data[action.id]||{},newData[action.id]=_lodash2["default"].assign({},_newData,{vpType:action.value});break;case"blurVehicleVal":case"setVehicleVal":_newData=data[action.id]||{},newData[action.id]=_lodash2["default"].assign({},_newData,{vpVal:action.value});break;case"uvdUpdate":}}(),_lodash2["default"].isEmpty(newData)?data:_lodash2["default"].assign({},data,newData)}function pageProcess(state,action){var newPageNum=state.page;switch(action.type){case"page":if(state.valid&&!_lodash2["default"].isEmpty(state.valid)){var _ret4=function(){var _hasError=!1;if(_lodash2["default"].forEach(_utils2["default"].getPage(newPageNum),function(d){
if("squeezeBox"===d.type?_lodash2["default"].forEach(d.children,function(id){if(_hasError=state.valid[id]&&state.valid[id].length>0)return!1}):d.id&&(_hasError=state.valid[d.id]&&state.valid[d.id].length>0),_hasError)return!1}),_hasError)return{v:newPageNum}}();if("object"===("undefined"==typeof _ret4?"undefined":_typeof(_ret4)))return _ret4.v}newPageNum=action.data;break;case"MobileValidEmpty":case"MobileValidCodeError":case"duplicateDataError":newPageNum=_utils2["default"].getCurrentComponentPageNum(action.errorId);break;case"optionQuotaError":case"commodityQuotaError":newPageNum=_utils2["default"].getCurrentComponentPageNum(action.errorInfo[0]);break;case"submitFailLocate":if(state&&state.valid&&!_lodash2["default"].isEmpty(state.valid)){var _id=null;if(_lodash2["default"].forEach(_utils2["default"].getActive(!1),function(cpId){if(state.valid[cpId])return _id=cpId,!1}),_id){var _pNum=_utils2["default"].getCurrentComponentPageNum(_id);newPageNum!==_pNum&&(newPageNum=_pNum)}}}return newPageNum}function paymentProcess(state,action){var _newPayment=state.payment;if(_utils2["default"].processCart(state.data).length<=0&&"prdCashierInfo"!==action.type&&"paymentState"!==action.type)return _newPayment;switch(_newPayment=_lodash2["default"].assign({},state.payment),action.type){case"setCommodityValue":_newPayment.type||(_newPayment.type=_utils2["default"].getPaymentType());break;case"paymentType":_newPayment.type=action.data,_utils2["default"].setPaymentType(action.data);break;case"cashierInfo":case"prdCashierInfo":_newPayment=_lodash2["default"].assign({},_newPayment,action.data);break;case"paymentState":_newPayment=_lodash2["default"].assign({},_newPayment,action.data)}return _newPayment}function actionsProcess(state,action){var _newData=saveDataProcess(state.data,action),_newValid=state.valid,_newPaymentInfo=state.payment;1===getMode()&&(_newValid=(0,_formValid2["default"])({data:_newData,valid:state.valid,page:state.page},action));var _newPageNum=pageProcess({page:state.page,data:_newData,valid:_newValid},action);1===getMode()&&(_newPaymentInfo=paymentProcess({page:_newPageNum,data:_newData,valid:_newValid,payment:state.payment},action));var shownChanged=_utils2["default"].changeShownComponent(_newData);return shownChanged&&!function(){var _changedData={},_defaultData=_utils2["default"].getDefaultValue();_lodash2["default"].forEach(_utils2["default"].getActive(),function(id){(_newData.hasOwnProperty(""+id)||_defaultData.hasOwnProperty(""+id))&&(_newData.hasOwnProperty(id)?_changedData[id]=_newData[id]:_defaultData[id]&&(_changedData[id]=_defaultData[id]))}),_newData=_changedData}(),{page:_newPageNum,data:_newData,valid:_newValid,payment:_newPaymentInfo}}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(22),_jquery2=_interopRequireDefault(_jquery),_utils=__webpack_require__(30),_utils2=_interopRequireDefault(_utils),_tools=__webpack_require__(33),_MGWsUtil=__webpack_require__(25),_MGWsUtil2=_interopRequireDefault(_MGWsUtil),_formValid=__webpack_require__(43),_formValid2=_interopRequireDefault(_formValid),_MGString=__webpack_require__(29),_MGString2=_interopRequireDefault(_MGString),_MGCache=__webpack_require__(24),_MGCache2=_interopRequireDefault(_MGCache),_MGDebugger=__webpack_require__(32),_config=(_interopRequireDefault(_MGDebugger),__webpack_require__(9)),_MGIntl=__webpack_require__(12),_MGIntl2=_interopRequireDefault(_MGIntl),_FormMetaInfoMappingUtil=__webpack_require__(35),ws={ajax:_MGWsUtil2["default"].ajax,post:function(url,options){var _default={url:url,type:"POST",dataType:"json"};return _MGWsUtil2["default"].ajax(_jquery2["default"].extend({mode:"abort"},options,_default))},abort:_MGWsUtil2["default"].abort},_FORM_COMPONENTS_NAME_DETAILS=(0,_FormMetaInfoMappingUtil.FORM_COMPONENTS_NAME_DETAILS)({np:_config.lang.cnamePrefix,nf:_config.lang.cnameFirst,nm:_config.lang.cnameMiddle,nl:_config.lang.cnameLast,ns:_config.lang.cnameSuffix,nn:_config.lang.cnameNick}),isDispatching=!1,_HANDLER_GETTER="handler/web/form_runtime/",listeners=[],otherInfoPool={},currentState={page:0,data:{},valid:{},payment:{}},filePool={},_iosCacheTrigger=null;(window.inIOSCache||window.IN_WECHAT)&&(_iosCacheTrigger=function(){(0,_jquery2["default"])(window).trigger("triggerSaveCache")});var FILE_TYPE_LIST=["","txt","doc/docx","xls/xlsx","ppt/pptx","html/htm","pdf","jpg/jpeg","png","gif","bmp","psd","tiff","avi","swf","wmv","rmvb","m4a/mp4","m4a/3gp","m4a/mov","mp3","m4a","wma","rar","zip","7z"],IMAGE_TYPE_LIST=["art","bm","bmp","dwg","dxf","fif","flo","fpx","g3","gif","psd","ico","ief","iefs","jfif","jfif-tbnl","jpe","jpeg","jpg","jps","jut","mcf","nap","nif","niff","pbm","pct","pcx","pgm","pic","pict","pm","png","pnm","ppm","qif","qti","qtif","ras","rf","rgb","rp","svf","tif","tiff","turbot","xbm","xif","xpm","x-png","xwd"],_ILLEGAL_SFX_CHAR=/[\?\@\#\$\&\(\)\/\|\;\'\"\’\‘\“\”\<\>\*\\]/,isMobile=void 0,getMode=void 0,updateRawInfo=void 0,setRawInfo=void 0,getContent=void 0,getPostSettings=void 0,formStore={FILE_TYPE_LIST:FILE_TYPE_LIST,inject:function(injection){listeners=[],otherInfoPool={},currentState={page:0,data:{},valid:{},payment:{}},isMobile=injection.isMobile,getMode=injection.getMode,updateRawInfo=injection.updateRawInfo,setRawInfo=injection.setRawInfo,getContent=injection.getContent,getPostSettings=injection.getPostSettings},addChangeListener:function(callback){listeners.push(callback);var isSubscribed=!0;return function(){if(isSubscribed){isSubscribed=!1;var _idx=listeners.indexOf(callback);listeners.splice(_idx,1)}}},setDefaultFillingData:function(){var isForce=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(1===getMode()){currentState.data||(currentState.data={});var d=_utils2["default"].getDefaultValue(),_currentAllComponent=[];do _currentAllComponent=_utils2["default"].getActive(),_lodash2["default"].forEach(_currentAllComponent,function(id){currentState.data.hasOwnProperty(""+id)&&currentState.data[id]&&!_lodash2["default"].isEmpty(currentState.data[id])&&!isForce||(currentState.data[id]=d[id])}),!currentState.payment.type&&_utils2["default"].processCart(currentState.data).length>0&&(currentState.payment=_lodash2["default"].assign({},currentState.payment,{type:_utils2["default"].getPaymentType()})),currentState=actionsProcess(currentState,{});while(_utils2["default"].getActive().length!==_currentAllComponent.length);_utils2["default"].setDefaultValue({})}},setUvdData:function(inWeChat){if(1===getMode()){currentState.data||(currentState.data={});var uvdInfo=_utils2["default"].getUvdContactInfo(),_currentAllComponent=[],_setList={};do _currentAllComponent=_utils2["default"].getActive(),_lodash2["default"].forEach(_currentAllComponent,function(id){var component=_utils2["default"].getComponents(id),_structureMapping=["I","II","III","IV"];if(uvdInfo[component.type]&&(!currentState.data[id]||_lodash2["default"].isEmpty(currentState.data[id])||inWeChat&&"wechat"===component.type)){var _ret6=function(){switch(component.type){case"gender":case"title":var item=_lodash2["default"].find(component.options,{id:+uvdInfo[component.type]});item&&(currentState.data[id]=[item.sId]);break;case"mobile":if(_setList[component.type])return{v:!0};_setList[component.type]=!0,component.isSendMsgAuth?currentState.data[id]={mobile:uvdInfo[component.type]||null}:currentState.data[id]=[uvdInfo[component.type]];break;case"email":case"website":case"tel":case"fax":case"wechat":case"qq":case"skype":case"whatsApp":case"messenger":case"viber":case"line":case"telegram":case"weibo":case"linkedIn":case"twitter":case"facebook":case"instagram":case"mkGooglePlus":if(_setList[component.type])return{v:!0};_setList[component.type]=!0,currentState.data[id]=[].concat(uvdInfo[component.type]);break;case"company":case"department":case"position":component.searchComponentType&&1!==+component.searchComponentType||(currentState.data[id]=uvdInfo[component.type]||currentState.data[id]);break;case"address":_structureMapping=_structureMapping.slice(0,+(component.minLevel||4));var _addressInfo=uvdInfo[component.type]||[{},null,null],_valid=!1;component&&component.isLimitCountry&&+component.limitCountry===+(_addressInfo[0]||{}).I&&0!==+component.limitCountry?_valid=!0:component&&!component.isLimitCountry&&0!==component.limitCountry&&(_valid=!0),_valid&&!function(){var _structure=[];_lodash2["default"].forEach(_structureMapping.slice(component.isLimitCountry?1:0),function(lvl){return!!_addressInfo[0][lvl]&&void _structure.push(_addressInfo[0][lvl])}),2===component.componentType?currentState.data[id]={struct:null,content:(currentState.data[id]||{}).content||_addressInfo[1]}:currentState.data[id]={struct:_lodash2["default"].isEmpty(_structure)?null:_structure,content:(currentState.data[id]||{}).content||_addressInfo[1],zipCode:(currentState.data[id]||{}).zipCode||_addressInfo[2]}}();break;case"location":_structureMapping=_structureMapping.slice(0,+(component.minLevel||3));var _locationInfo=uvdInfo[component.type]||{};component.isLimitCountry&&+component.limitCountry===+_locationInfo.I?_valid=!0:component.isLimitCountry||(_valid=!0),_valid&&!function(){var _structure=[];_lodash2["default"].forEach(_structureMapping.slice(component.isLimitCountry?1:0),function(lvl){return!!_locationInfo[lvl]&&void _structure.push(_locationInfo[lvl])}),2!==component.componentType&&(currentState.data[id]={struct:_lodash2["default"].isEmpty(_structure)?null:_structure})}();break;case"name":uvdInfo[component.type]&&(component.isOpenDetails?!function(){var legalNameInfo={};_lodash2["default"].isPlainObject(uvdInfo[component.type])&&_lodash2["default"].forEach(_FORM_COMPONENTS_NAME_DETAILS,function(info){(component.detailsItem||[2,4]).indexOf(+info.id)>-1&&uvdInfo[component.type][info.name]&&(legalNameInfo[info.name]=uvdInfo[component.type][info.name])}),_lodash2["default"].isEmpty(legalNameInfo)||(currentState.data[id]=legalNameInfo)}():!function(){var combineName=null;_lodash2["default"].isPlainObject(uvdInfo[component.type])?uvdInfo[component.type].n?combineName=uvdInfo[component.type].n:(combineName=[],_lodash2["default"].forEach(_FORM_COMPONENTS_NAME_DETAILS,function(info){uvdInfo[component.type][info.name]&&combineName.push(uvdInfo[component.type][info.name])}),combineName=combineName.join(" ")):uvdInfo[component.type]&&_lodash2["default"].isString(uvdInfo[component.type])&&(combineName=""+uvdInfo[component.type]),combineName&&(currentState.data[id]={n:combineName})}());break;default:uvdInfo[component.type]&&(currentState.data[id]=uvdInfo[component.type]||null)}}();if("object"===("undefined"==typeof _ret6?"undefined":_typeof(_ret6)))return _ret6.v}}),currentState.data=_lodash2["default"].assign({},currentState.data),currentState=_lodash2["default"].assign({},currentState),currentState=actionsProcess(currentState,{}),formStore.dispatch({type:"uvdUpdate"});while(_utils2["default"].getActive().length!==_currentAllComponent.length)}},setIpLoc:function(){if(1===getMode()){currentState.data||(currentState.data={});var ipLocInfo=_utils2["default"].getIpLoc();if(ipLocInfo&&!_lodash2["default"].isEmpty(ipLocInfo)){var _currentAllComponent=[];do _currentAllComponent=_utils2["default"].getActive(),_lodash2["default"].forEach(_currentAllComponent,function(id){var component=_utils2["default"].getComponents(id);if(("location"===component.type||"address"===component.type)&&(!currentState.data.hasOwnProperty(""+id)||!currentState.data[id]||_lodash2["default"].isEmpty(currentState.data[id]))){var _valid=!1;component.isLimitCountry&&+component.limitCountry===+ipLocInfo.I?_valid=!0:component.isLimitCountry||(_valid=!0),_valid&&2!==component.componentType&&(currentState.data[id]=_lodash2["default"].assign({},currentState.data[id],{struct:_lodash2["default"].isEmpty(ipLocInfo)?null:ipLocInfo.slice(component.isLimitCountry?1:0,+(component.minLevel||3))}))}}),currentState=actionsProcess(currentState,{});while(_utils2["default"].getActive().length!==_currentAllComponent.length)}}},checkDMW:function(dwnT,node,done,pureCheck){(pureCheck||1===getMode())&&ws.post("handler/web/form/util/handleGetDmwProgress.php",{hideErrorAlert:!0,data:{d:JSON.stringify({cvs:{t:dwnT,n:node}})}}).done(function(res){if(!pureCheck&&0===res.r&&(formStore.dispatch({type:"paymentState",data:{isFin:1===+res.dn,isSuccess:1===+res.sc,message:res.msg}}),res.msg&&res.msg.d&&res.msg.d.fcdnex)){var _prevFcdnex=(0,_tools.getCookie)("fcdnex"),_fcdnex=[res.msg.d.fcdnex];_prevFcdnex&&(_fcdnex=[].concat(_fcdnex,_prevFcdnex.split(";")));for(var __fcdnex=[],i=0,len=_fcdnex.length;i<len;i++)_fcdnex[i]&&__fcdnex.indexOf(_fcdnex[i])===-1&&__fcdnex.push(_fcdnex[i]);__fcdnex.length>100&&(_fcdnex=__fcdnex.slice(0,100)),(0,_tools.setCookie)("fcdnex",_fcdnex.join(";"),{domain:".mikecrm.com",expires:1,path:"/"})}done&&done(res)})},getState:function(){return currentState},getFiles:function(){return filePool},getPreparedFileIdx:function(id){return(filePool[id]?filePool[id]._it:0)+1},validPassword:function(pwd){var _this=this;1!==getMode()&&4!==getMode()||ws.post(_HANDLER_GETTER+"handleVerifyVisitPass.php",{hideErrorAlert:!0,data:{d:JSON.stringify({cvs:{t:_utils2["default"].token(),p:_utils2["default"].getPassword(pwd),iro:4===getMode()?1:0}})}}).done(function(res){0===res.r?(JHR=0,_lodash2["default"].forEach(res.d,function(val,key){_lodash2["default"].isString(val)?window[key]=JSON.parse(val):_lodash2["default"].isPlainObject(val)?window[key]=_lodash2["default"].assign({},window[key],val):window[key]=val}),updateRawInfo(),_utils2["default"].setAsRaw(setRawInfo()),getContent().$form.trigger("viewRender",[isMobile(),getPostSettings()])):res.r===-821&&_this.dispatch({type:"passwordValid",data:"error"})})},generateCaptcha:function(){if(1===getMode())return ws.post(_HANDLER_GETTER+"handleGenCaptcha.php",{hideErrorAlert:!0,data:{d:JSON.stringify({cvs:{t:_utils2["default"].token()}})}})},checkCaptcha:function(vt,vc){if(1===getMode())return ws.post(_HANDLER_GETTER+"handleVerifyCaptcha.php",{hideErrorAlert:!0,data:{d:JSON.stringify({cvs:{t:_utils2["default"].token(),vt:vt,vc:vc}})}})},getPhoneVerificationCode:function(id){if(1===getMode())return ws.post(_HANDLER_GETTER+"handleGetPhoneVerificationCode.php",{hideErrorAlert:!0,data:{d:JSON.stringify({cvs:{t:_utils2["default"].token(),cp:id,mb:currentState.data[id].mobile}})}}).done(function(res){0===res.r?formStore.dispatch({type:"setVerificationToken",id:id,value:[res.d.t,res.d.vv]}):formStore.dispatch({type:"validMobile",id:id,errId:[res.r]})}).then()},validVerificationCode:function(id,cb){1===getMode()&&ws.post(_HANDLER_GETTER+"handleVerifyVC.php",{hideErrorAlert:!0,data:{d:JSON.stringify({cvs:{t:_utils2["default"].token(),vt:currentState.data[id].verificationToken,vc:currentState.data[id].verificationCode}})}}).done(function(res){cb(0===res.r)})},wxAuth:function(){if(1===getMode()){var _data={t:_utils2["default"].token()},_hostInfo=location.hostname.split(".");return _hostInfo.length>=3&&(_data.csld=_hostInfo[0]),"https:"===location.protocol&&(_data.s=1),ws.post(_HANDLER_GETTER+"handleGetOrRefreshWcUserInfo.php",{hideErrorAlert:!0,data:{d:JSON.stringify({cvs:_data})}}).done(function(res){return 0===res.r&&(res.uvd?(window.VST&&(window.VST.uvd=res.uvd),updateRawInfo(),_utils2["default"].updateUvdContactInfo(res.uvd.ct,!0,setRawInfo()),formStore.setUvdData(!0)):res.rWx_jump&&(_MGCache2["default"].set("FPR",document.referrer),(0,_jquery2["default"])(window).trigger("triggerSaveCache"),document.cookie="uvi="+escape(unescape(""))+"; path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;",window.setTimeout(function(){location.href=res.rWx_jump},0))),res}).then()}},getLocationInfo:function(pId,maxGEOLvl,size,cb,isMobile){return _utils2["default"].hasGeoCache(pId)?void cb(pId,_utils2["default"].getGeoCache(pId)):void ws.post(_HANDLER_GETTER+"handleGetADsByPid.php",{hideErrorAlert:!0,mode:"queue",portKey:"FS_",queueKey:"handleGetADsByPid",data:{d:JSON.stringify({cvs:{p:pId,ml:maxGEOLvl||3}})}}).done(function(res){0===res.r&&res.d.l?(null===pId?!function(){var _common=[],_list=[];(res.d._1||res.d._2)&&(_common=_lodash2["default"].uniq([].concat(res.d._1,res.d._2)),_lodash2["default"].forEach(_common,function(id){var _res=_lodash2["default"].find(res.d.l,function(o){return o[0]===id});_res&&_list.push({id:_res[0],name:_res[1],width:isMobile?null:_MGString2["default"].getWidth(_res[1],(size||14)+"px/1 "+_utils2["default"]._FONT)})})),_lodash2["default"].forEach(res.d.l||[],function(info){_common.indexOf(info[0])>-1||_list.push({id:info[0],name:info[1],width:isMobile?null:_MGString2["default"].getWidth(info[1],(size||14)+"px/1 "+_utils2["default"]._FONT)})}),_utils2["default"].setGeoCache(pId,_list)}():_utils2["default"].setGeoCache(pId,_lodash2["default"].map(res.d.l||[],function(info){return{id:info[0],name:info[1],width:isMobile?null:_MGString2["default"].getWidth(info[1],(size||14)+"px/1 "+_utils2["default"]._FONT)}})),cb(pId,_utils2["default"].getGeoCache(pId))):0===res.r&&null===res.d.l&&(_utils2["default"].setGeoCache(pId,null),cb(pId,_utils2["default"].getGeoCache(pId)))})},getLocationInfoByTyping:function(data,pId,maxLevel){return ws.abort(_HANDLER_GETTER+"handleGetADsByTyping.php"),ws.post(_HANDLER_GETTER+"handleGetADsByTyping.php",{hideErrorAlert:!0,data:{d:JSON.stringify({cvs:{t:data,l1:pId,mgl:maxLevel||3}})}})},getRawLocationInfo:function(rawStr,locationId){var needStaticEveryLvl=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return ws.abort(_HANDLER_GETTER+"handleGetADsFromRawAddress.php"),ws.post(_HANDLER_GETTER+"handleGetADsFromRawAddress.php",{hideErrorAlert:!0,data:{d:JSON.stringify({cvs:{a:rawStr,e:needStaticEveryLvl,l:locationId}})}})},beforePay:function(prGrId,cb){return ws.abort(_HANDLER_GETTER+"dnt/handleGetInfoBeforePay.php"),ws.post(_HANDLER_GETTER+"dnt/handleGetInfoBeforePay.php",{hideErrorAlert:!0,data:{d:JSON.stringify({cvs:{t:_utils2["default"].token(),pgi:prGrId}})}}).done(function(res){cb(0===res.r?_utils2["default"].convertBeforePayInfo(res):res)})},confirmBuy:function(data,cb){return ws.abort(_HANDLER_GETTER+"dnt/handleConfirmPay.php"),ws.post(_HANDLER_GETTER+"dnt/handleConfirmPay.php",{hideErrorAlert:!0,data:{d:JSON.stringify({cvs:data})}}).done(function(res){0===res.r&&cb(res)})},dispatch:function(action){if(action.type){if(isDispatching)throw new Error("processHandler may not dispatch actions.");try{isDispatching=!0,currentState=actionsProcess(currentState,action)}finally{isDispatching=!1}return listeners.slice().forEach(function(listener){return listener(action)}),_iosCacheTrigger&&_iosCacheTrigger(),action}}};exports["default"]=formStore,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _requiredValid(component,value){return component.isRequired?value?_lodash2["default"].isArray(value)&&""===value.join("")?["required"]:[]:["required"]:[]}function _contentRegexValid(component,value){if(!component.isUseRegEx&&!component.isValidate)return[];var regType=""+component.regExType,_arrayValue=!1;if(component.isValidate)switch(component.type){case"email":_lodash2["default"].isArray(value)?(_arrayValue=[],_lodash2["default"].forEach(value,function(v){_arrayValue=_arrayValue.concat((v||"").split(/[\;\；]/g))})):_arrayValue=[],regType="2";break;case"mobile":_lodash2["default"].isArray(value)?(_arrayValue=[],_lodash2["default"].forEach(value,function(v){_arrayValue=_arrayValue.concat((v||"").split(/[\;\；]/g))})):_arrayValue=[],regType="5",component.acceptArea&&!_lodash2["default"].isEmpty(component.acceptArea)&&!function(){var _prefix={1:"",2:"tw",3:"hk"};regType=_lodash2["default"].map(component.acceptArea,function(id){return _prefix[id]+"5"})}();break;case"website":_lodash2["default"].isArray(value)?(_arrayValue=[],_lodash2["default"].forEach(value,function(v){_arrayValue=_arrayValue.concat((v||"").split(/[\;\；]/g))})):_arrayValue=[],regType="3";break;case"qq":_lodash2["default"].isArray(value)?(_arrayValue=[],_lodash2["default"].forEach(value,function(v){_arrayValue=_arrayValue.concat((v||"").split(/[\;\；]/g))})):_arrayValue=[],regType="4"}if(value){var _ret2=function(){var _valueCheckList=[],_valueCheckResNum=0;if(_lodash2["default"].forEach([].concat(value),function(_rV){_valueCheckList=_valueCheckList.concat((_rV||"").split(/[\;\；]/g).filter(function(v){return _lodash2["default"].trim(v)}))}),_lodash2["default"].forEach(_valueCheckList,function(_v){if(_v){var _checkRegList=[].concat(regType),_valid=!1;_lodash2["default"].forEach(_checkRegList,function(_regTypeItem){switch(_regTypeItem){case"3":_valid=_valid||_MGString2["default"].isUrl(_lodash2["default"].trim(_v));break;case"4":_valid=_valid||_MGString2["default"].isQQ(_lodash2["default"].trim(_v));break;case"5":_valid=_valid||_MGString2["default"].isMobileCN(_lodash2["default"].trim(_v));break;case"hk5":_valid=_valid||_MGString2["default"].isMobileHK(_lodash2["default"].trim(_v));break;case"tw5":_valid=_valid||_MGString2["default"].isMobileTW(_lodash2["default"].trim(_v));break;case"6":_valid=_valid||_MGString2["default"].isCnIdCard(_lodash2["default"].trim(_v));break;case"7":_valid=_valid||_MGString2["default"].isIP(_lodash2["default"].trim(_v));break;case"8":_valid=_valid||_MGString2["default"].isNumber(_lodash2["default"].trim(_v));break;case"-1":component.regEx&&(_valid=_valid||_MGString2["default"].strRegCheck(_lodash2["default"].trim(component.regEx+""),_lodash2["default"].trim(value)));break;case"2":default:_valid=_valid||_MGString2["default"].isEmail(_lodash2["default"].trim(_v))}}),_valid||_valueCheckResNum++}}),_valueCheckResNum>0)return{v:["contentRegex"]}}();if("object"===("undefined"==typeof _ret2?"undefined":_typeof(_ret2)))return _ret2.v}return[]}function _contentCnIdValid(component,value){if(value=_lodash2["default"].trim(value)){var _valid=_MGString2["default"].isCnIdCard(value);if(!_valid)return["contentRegex"]}return[]}function _contentCnVehicleValid(component,value){var _valid=!0;return value=_lodash2["default"].trim(value),value&&(2===component.componentType?value.match(/^WJ['京津冀晋蒙辽吉黑沪苏浙皖闽赣鲁豫鄂湘粤桂琼渝川贵云藏陕甘青宁新']/)?8!==value.length&&(_valid=!1):7!==value.length&&(_valid=!1):6!==value.length&&(_valid=!1),!_valid)?["contentRegex"]:[]}function _verificationMobileValid(component,value){return value&&value.mobile?_MGString2["default"].isMobileCN(value.mobile)?[]:["mobileError"]:["mobileRequired"]}function _requiredNameValid(component,value){if(!component.isRequired)return[];var hasValue=!1;return value&&(_lodash2["default"].forEach(value,function(v,k){if(v&&_lodash2["default"].trim(v))return hasValue=!0,!1}),hasValue)?[]:["required"]}function _requiredInfoGroupValid(component,value){if(!component.isRequired)return[];var hasValue=!1;return value&&(_lodash2["default"].forEach(value,function(d){if(d.info&&_lodash2["default"].trim(d.info))return hasValue=!0,!1}),hasValue)?[]:["required"]}function _requiredTabularValid(component,value){if(!component.isRequired)return[];var _hasEmpty=!1;return value?_lodash2["default"].forEach(component.questions,function(question){(!value[question.id]||_lodash2["default"].isArray(value[question.id])&&_lodash2["default"].isEmpty(value[question.id]))&&(_hasEmpty=!0)}):_hasEmpty=!0,_hasEmpty?["required"]:[]}function _requiredCommodityValid(component,value){if(!component.isRequired)return[];var _itemCount=0;return _lodash2["default"].forEach(value,function(num){_itemCount+=+num}),_itemCount>0?[]:["required"]}function _requiredAttachmentValid(component,value){if(!component.isRequired)return[];var isAllValid=value&&value.length>0;return _lodash2["default"].forEach(value,function(info){info.error&&(isAllValid=!1)}),isAllValid?[]:["required"]}function _inputLengthValid(component,value){var hasError=[];if(component.isWordLimit&&value&&!_lodash2["default"].isEmpty(value)){var valueLen=value.length;valueLen>0&&(component.wordLimitFrom&&valueLen<component.wordLimitFrom||component.wordLimitTo&&valueLen>component.wordLimitTo)&&hasError.push("tip")}return hasError}function _nameLengthValid(component,value){var hasError=[],_NAME_LENGTH={n:255,np:63,nf:63,nm:63,nl:63,ns:63,nn:63};if(!value)return hasError;var _lenError=[];return _lodash2["default"].forEach(value,function(part,nkey){part&&(part+"").length>_NAME_LENGTH[nkey]&&(_lenError.push(nkey),hasError.push("length"))}),_lodash2["default"].isEmpty(_lenError)||(_errorInfo[component.id]={length:_lenError}),_lodash2["default"].uniq(hasError)}function _checkboxChooseLimitValid(component,value){var hasError=[];return"checkbox"===component.type||"picCheckbox"===component.type||component.isCheckbox?(1===component.isLimitChooseNum&&(void 0!==component.chooseNumFrom&&""!==component.chooseNumFrom&&0!==+component.chooseNumFrom&&value&&value.length<+component.chooseNumFrom&&hasError.push("tip"),void 0!==component.chooseNumTo&&""!==component.chooseNumTo&&value&&value.length>+component.chooseNumTo&&hasError.push("tip")),hasError):hasError}function _otherInputRequiredValid(component,value){var hasError=[];if(1!==component.isAddOtherOption)return hasError;if(1!==component.otherOptionIsRequired)return hasError;var otherInfo=null;if(_lodash2["default"].forEach(value,function(val){if(_lodash2["default"].isObject(val)){if(val.id===component.otherId)return otherInfo=val,!1}else if(val===component.otherId)return otherInfo=val,!1}),null===otherInfo)return hasError;if(_errorInfo[component.id]||(_errorInfo[component.id]={}),_lodash2["default"].isObject(otherInfo)){if(otherInfo.value)return hasError;hasError.push("otherInputRequired"),_errorInfo[component.id].otherInputRequired=[component.otherId]}else hasError.push("otherInputRequired"),_errorInfo[component.id].otherInputRequired=[component.otherId];return hasError}function _contentInputRequiredValid(component,value){var hasError=[];return 1===component.isAfterInput&&1===component.afterInputIsRequired&&!function(){var _setInput=!0,_illegalOpt=[];_lodash2["default"].forEach(value,function(val){_lodash2["default"].isObject(val)?val.id!==component.otherId&&(val.value||(_setInput=!1,_illegalOpt.push(val.id))):val!==component.otherId&&(_setInput=!1,_illegalOpt.push(val))}),_errorInfo[component.id]||(_errorInfo[component.id]={}),_setInput||(hasError.push("inputRequired"),_errorInfo[component.id].inputRequired=_illegalOpt)}(),hasError}function _requiredMultiLevelValid(component,value){if(value){var _selected=value[0];if(_selected){if(_selected.current&&!_lodash2["default"].isEmpty(_selected.current)){if(!_selected.id)return["required"]}else if((!_selected.current||_lodash2["default"].isEmpty(_selected.current))&&component.isRequired&&!_selected.id)return["required"]}else if(component.isRequired)return["required"]}else if(component.isRequired)return["required"];return[]}function _numberRangeValid(component,value){var hasError=[];if(component.isNumRange&&null!==value&&void 0!==value&&""!==value){var valueNum=_MGIntl2["default"].localeStringToNumber(value);(component.numRangeFrom&&valueNum<component.numRangeFrom||component.numRangeTo&&valueNum>component.numRangeTo)&&hasError.push("tip")}return hasError}function _numberSaveValid(component,value){var hasError=[],_v=_MGIntl2["default"].localeStringToNumber(value);return Math.floor(_v)===_v&&(value>Number.MAX_SAFE_INTEGER||value<Number.MIN_SAFE_INTEGER)&&hasError.push("numberSaveRange"),hasError}function _numberValueTypeValid(component,value){var hasError=[];if(value){var _number=_MGIntl2["default"].localeStringToNumber(value);isNaN(_number)&&hasError.push("number"),_lodash2["default"].isNumber(_number)?(1!==component.isAcceptDecimals&&Math.floor(_number)!==_number&&hasError.push("numberDecimals"),1!==component.isAcceptNegative&&_number<0&&hasError.push("numberNegative")):hasError.push("number")}return hasError}function _numberDecimalLengthValid(component,value){var hasError=[];return hasError}function _rankComponentFillingValid(component,value){var _allIds=[];_lodash2["default"].forEach(component.options,function(info){_allIds.indexOf(info.sId)===-1&&_allIds.push(info.sId)});var _digits=Math.min(+component.trueDigits,_allIds.length);if(component.isRequired){if(_digits!==Object.keys(value||{}).length)return["required"]}else if(!_lodash2["default"].isEmpty(value||{})&&_digits!==Object.keys(value||{}).length)return["required"];return[]}function _dateTimeFillingValid(component,value){if(value=_lodash2["default"].trim(value)){var REG_FULL=/^(\d{4}?)-(\d{1,2}?)-(\d{1,2}?)/g,REG_YEAR_MONTH=/^(\d{4}?)-(\d{1,2}?)-/g,REG_MONTH_DAY=/^-(\d{1,2}?)-(\d{1,2}?)/g,REG_DAY=/^--(\d{1,2}?)/g,REG_MONTH=/^-(\d{1,2}?)-/g,REG_YEAR=/^(\d{3,4}?)--/g,REG_TIME=/(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?/g,_dataType=null,_date=value;if(value.match(REG_FULL)?_dataType=1:value.match(REG_YEAR_MONTH)?(_dataType=2,_date=value.split(" "),_date=_date[0]+"1 "+_date[1]):value.match(REG_MONTH_DAY)?(_dataType=3,_date="2000"+value):value.match(REG_YEAR)?(_dataType=4,_date=value.replace("--","-1-1")):value.match(REG_MONTH)?(_dataType=5,_date=value.split(" "),_date="2000"+_date[0]+"1 "+_date[1]):value.match(REG_DAY)&&(_dataType=6,_date=_date.replace("--","2000-1-")),"dateTime_time"===component.type){if(null===_dataType&&!value.match(REG_TIME))return["calendarDataError"];if(_dataType)return["calendarTypeError"]}else if((component.dateFormat||("birthDate"===component.type?[1,3]:[1])).indexOf(_dataType)===-1)return["calendarTypeError"];var moment=(0,_MGMoment2["default"])(_date);if(1===_dataType){if(component.isLimitDays&&!_lodash2["default"].isEmpty(component.limitDays)&&component.limitDays.indexOf(moment.week()+1)===-1)return["calendarValidError"];if(component.isLimitDayInterval){var _fMoment=void 0,_tMoment=void 0;if(component.dayIntervalFrom){component.dayIntervalFrom===!0?_fMoment=(0,_MGMoment2["default"])().startOf("date"):component.dayIntervalFrom&&component.dayIntervalFrom!==-1&&(_fMoment=(0,_MGMoment2["default"])(component.dayIntervalFrom).startOf("date")),component.dayIntervalTo===!0?_tMoment=(0,_MGMoment2["default"])().endOf("date"):component.dayIntervalTo&&component.dayIntervalTo!==-1&&(_tMoment=(0,_MGMoment2["default"])(component.dayIntervalTo).endOf("date"));var _valid=!0;if(_fMoment&&(_valid=_valid&&_fMoment.time()<=moment.time()),_tMoment&&(_valid=_valid&&_tMoment.time()>=moment.time()),!_valid)return["calendarValidError"]}}}if(component.isLimitTimeInterval&&"dateTime_date"!==component.type){var _fTime=void 0,_tTime=void 0,_currentTime=1e4*moment.hours()+100*moment.minutes()+moment.seconds(),_valid2=!0,_isChecked=!1;if(component.timeIntervalFrom&&component.timeIntervalTo){var splitTime=component.timeIntervalFrom.split(":");_fTime=1e4*splitTime[0]+100*splitTime[1]+ +splitTime[2],splitTime=component.timeIntervalTo.split(":"),_tTime=1e4*splitTime[0]+100*splitTime[1]+ +splitTime[2],_fTime>_tTime&&(_isChecked=!0,_valid2=_currentTime>=_fTime&&_currentTime<235959||_currentTime<=_tTime&&_currentTime>0)}if(!_isChecked){if(component.timeIntervalFrom){var _splitTime=component.timeIntervalFrom.split(":");_fTime=1e4*_splitTime[0]+100*_splitTime[1]+ +_splitTime[2]}if(component.timeIntervalTo){var _splitTime2=component.timeIntervalTo.split(":");_tTime=1e4*_splitTime2[0]+100*_splitTime2[1]+ +_splitTime2[2]}_fTime&&(_valid2=_valid2&&_currentTime>=_fTime),_tTime&&(_valid2=_valid2&&_currentTime<=_tTime)}if(!_valid2)return["calendarValidError"]}}return[]}function _attachmentFileValid(component,value){var isAllValid=!0;return _lodash2["default"].forEach(value,function(info){info.error&&(isAllValid=!1)}),isAllValid?[]:["tip"]}function _requiredLocationValid(component,value){if(!component.isRequired)return[];var hasError=["required"];return value&&value.struct?value.struct&&_lodash2["default"].isEmpty(value.struct)?hasError:hasError=[]:hasError}function _requiredAddressValid(component,value){
return component.isRequired?value&&(value.struct&&!_lodash2["default"].isEmpty(value.struct)||value.content||value.zipCode)?[]:["required"]:[]}function _commodityFillingNumValid(data){var _cartInfo=_utils2["default"].processCart(data),_innerPayInfo=_utils2["default"].getInnerFormPayInfo(),_totalNum=0,_totalPrice=0;if(_lodash2["default"].forEach(_cartInfo,function(cartItem){_totalPrice+=cartItem.total||0,_totalNum+=cartItem.num||0}),_cartInfo&&_cartInfo.length>0){if(_innerPayInfo.isLimitAmount&&(_innerPayInfo.limitAmountTo||0===_innerPayInfo.limitAmountTo)&&_innerPayInfo.limitAmountTo<_totalPrice)return["amountOver"];if(_innerPayInfo.isLimitQuantity&&(_innerPayInfo.limitQuantityTo||0===_innerPayInfo.limitQuantityTo)&&_innerPayInfo.limitQuantityTo<_totalNum)return["quantityOver"]}return[]}function _commodityLimitValid(data){var _sales=_utils2["default"].getCommodities();if(_sales&&_sales.length>0){var _cartInfo=_utils2["default"].processCart(data),_innerPayInfo=_utils2["default"].getInnerFormPayInfo(),_totalNum=0,_totalPrice=0;if(_lodash2["default"].forEach(_cartInfo,function(cartItem){_totalPrice+=cartItem.total||0,_totalNum+=cartItem.num||0}),_innerPayInfo.isLimitAmount){if((_innerPayInfo.limitAmountFrom||0===_innerPayInfo.limitAmountFrom)&&_innerPayInfo.limitAmountFrom>_totalPrice)return["amountShort"];if((_innerPayInfo.limitAmountTo||0===_innerPayInfo.limitAmountTo)&&_innerPayInfo.limitAmountTo<_totalPrice)return["amountOver"]}if(_innerPayInfo.isLimitQuantity){if((_innerPayInfo.limitQuantityFrom||0===_innerPayInfo.limitQuantityFrom)&&_innerPayInfo.limitQuantityFrom>_totalNum)return["quantityShort"];if((_innerPayInfo.limitQuantityTo||0===_innerPayInfo.limitQuantityTo)&&_innerPayInfo.limitQuantityTo<_totalNum)return["quantityOver"]}}return[]}function _allValid(d){var isPage=arguments.length>1&&void 0!==arguments[1]&&arguments[1],isCheckIn=arguments.length>2&&void 0!==arguments[2]&&arguments[2],valid={},hasCommodity=!1;_errorInfo={};var currentAll=_utils2["default"].getActive(isPage);isCheckIn&&(currentAll=_extensions2["default"].getCheckIn().info.ckiOpenComponent),_lodash2["default"].forEach(_utils2["default"].getComponents(),function(info,id){var _trueId=id;if(_lodash2["default"].startsWith(id,"ctcf#")||(_trueId=+_trueId),currentAll.indexOf(_trueId)===-1)return!0;var component=info,err=[];if(component.isCustomField)switch(component.type){case 1:err=err.concat(_inputLengthValid(component,d[id]),_requiredValid(component,d[id]),_contentRegexValid(component,d[id]));break;case 3:case 5:var dVal=5===component.type?(d[id]||[])[1]:d[id];err=err.concat(_numberValueTypeValid(component,dVal),_numberSaveValid(component,dVal),_numberRangeValid(component,dVal),_numberDecimalLengthValid(component,dVal),_requiredValid(component,dVal));break;case 4:err=err.concat(_requiredValid(component,d[id]));break;case 6:case 7:err=err.concat(_checkboxChooseLimitValid(component,d[id]),_requiredValid(component,d[id]));break;case 8:err=err.concat(_requiredMultiLevelValid(component,d[id]));break;case 9:err=err.concat(_requiredValid(component,d[id]),_dateTimeFillingValid(component,d[id]));break;case 11:err=err.concat(_requiredValid(component,d[id]),_contentCnIdValid(component,d[id]));break;case 12:err=err.concat(_requiredValid(component,(d[id]||{}).vpVal),_contentCnVehicleValid(component,(d[id]||{}).vpVal))}switch(component.type){case"name":err=err.concat(_nameLengthValid(component,d[id]),_requiredNameValid(component,d[id]),_requiredValid(component,d[id]));break;case"input":case"email":case"tel":case"fax":case"website":case"wechat":case"qq":case"skype":case"whatsApp":case"messenger":case"viber":case"line":case"telegram":case"weibo":case"linkedIn":case"twitter":case"facebook":case"instagram":case"mkGooglePlus":err=err.concat(_inputLengthValid(component,d[id]),_requiredValid(component,d[id]),_contentRegexValid(component,d[id]));break;case"mobile":var _value=d[id];!isCheckIn&&component.isSendMsgAuth&&_lodash2["default"].isObject(_value)&&(_value=_value.mobile),err=err.concat(_inputLengthValid(component,_value),_requiredValid(component,_value),_contentRegexValid(component,_value));break;case"number":case"currency":err=err.concat(_numberValueTypeValid(component,d[id]),_numberSaveValid(component,d[id]),_numberRangeValid(component,d[id]),_numberDecimalLengthValid(component,d[id]),_requiredValid(component,d[id]));break;case"checkbox":case"radio":case"picCheckbox":case"picRadio":case"dropDown":case"gender":case"title":err=err.concat(_checkboxChooseLimitValid(component,d[id]),_contentInputRequiredValid(component,d[id]),_otherInputRequiredValid(component,d[id]),_requiredValid(component,d[id]));break;case"company":case"position":err=err.concat(_requiredValid(component,d[id])),2!==+component.searchComponentType&&3!==+component.searchComponentType||(err=err.concat(_contentInputRequiredValid(component,d[id]),_otherInputRequiredValid(component,d[id])));break;case"multiLevel":err=err.concat(_requiredMultiLevelValid(component,d[id]));break;case"rate":err=err.concat(_requiredValid(component,d[id]));break;case"rank":err=err.concat(_rankComponentFillingValid(component,d[id]));break;case"tabular":err=err.concat(_requiredTabularValid(component,d[id]));break;case"commodity":hasCommodity=!0,err=err.concat(_requiredCommodityValid(component,d[id]));break;case"picAttachment":case"attachment":err=err.concat(_requiredAttachmentValid(component,d[id]),_attachmentFileValid(component,d[id]));break;case"city":case"location":err=err.concat(_requiredValid(component,d[id]),_requiredLocationValid(component,d[id]));break;case"address":err=err.concat(_requiredValid(component,d[id]),_requiredAddressValid(component,d[id]));break;case"dateTime_both":case"dateTime_date":case"dateTime_time":case"birthDate":err=err.concat(_requiredValid(component,d[id]),_dateTimeFillingValid(component,d[id]));break;case"IM":case"SNS":err=err.concat(_requiredInfoGroupValid(component,d[id]));break;default:err=err.concat(_requiredValid(component,d[id]))}err.length>0&&(valid[id]=_lodash2["default"].uniq(err))});var _valid={};_lodash2["default"].forEach(valid,function(data,id){data&&!_lodash2["default"].isEmpty(data)&&(_valid[id]=data)});var commodityValid=!1;return hasCommodity&&(commodityValid=_commodityLimitValid(d)),commodityValid&&!_lodash2["default"].isEmpty(commodityValid)&&(_valid.cart=commodityValid),0===Object.keys(_valid).length?null:_valid}function validProcess(currentState,action){var valid=currentState.valid,data=currentState.data,page=currentState.page,newValid={},component=_utils2["default"].getComponents(action.id),err=void 0;switch(action.type){case"setValue":case"setMultiValue":if(valid&&valid[action.id]){var _err=[];switch(valid[action.id].indexOf("required")>-1&&(_err=_err.concat(_requiredValid(component,action.value))),component.type){case"input":valid[action.id].indexOf("tip")>-1&&(_err=_err.concat(_inputLengthValid(component,action.value)));break;case"number":valid[action.id].indexOf("tip")>-1&&(_err=_err.concat(_numberRangeValid(component,action.value),_numberSaveValid(component,action.value))),(valid[action.id].indexOf("numberDecimals")>-1||valid[action.id].indexOf("numberNegative")>-1||valid[action.id].indexOf("number")>-1)&&(_err=_err.concat(_numberValueTypeValid(component,action.value)))}newValid[action.id]=_lodash2["default"].uniq(_err)}break;case"inputBlur":err=[],valid&&valid[action.id]&&valid[action.id].indexOf("required")>-1&&(err=err.concat(_requiredValid(component,action.value))),err=err.concat(_inputLengthValid(component,action.value)),newValid[action.id]=_lodash2["default"].uniq(err);break;case"numberBlur":err=[],err=err.concat(_numberRangeValid(component,data[action.id]),_numberSaveValid(component,data[action.id]),_numberValueTypeValid(component,data[action.id])),newValid[action.id]=_lodash2["default"].uniq(err);break;case"setRate":err=[],data[action.id]&&(err=err.concat(_requiredValid(component,data[action.id]))),newValid[action.id]=_lodash2["default"].uniq(err);break;case"setGroupInfo":valid[action.id]&&valid[action.id].length>0&&(err=[],err=err.concat(_requiredInfoGroupValid(component,data[action.id])),newValid[action.id]=_lodash2["default"].uniq(err));break;case"setSelector":case"setSelectorValue":case"blurSelectorInput":err=[],valid[action.id]&&valid[action.id].length>0&&(action.isCheckbox&&valid[action.id].indexOf("tip")>-1&&(err=err.concat(_checkboxChooseLimitValid(component,action.value))),valid[action.id].indexOf("inputRequired")>-1&&(err=err.concat(_contentInputRequiredValid(component,data[action.id]))),valid[action.id].indexOf("otherInputRequired")>-1&&(err=err.concat(_otherInputRequiredValid(component,data[action.id])))),newValid[action.id]=err;break;case"setMultiLevelSelector":err=[],valid[action.id]&&valid[action.id].length>0&&(err=err.concat(_requiredMultiLevelValid(component,data[action.id]))),newValid[action.id]=err;break;case"setCommodityValue":var _commodityErrorInfo=_commodityFillingNumValid(data);err=[].concat(_commodityErrorInfo),newValid[action.id]=err,_commodityErrorInfo.length>0?newValid.cart=_commodityErrorInfo:newValid.cart=null;break;case"submitValid":return newValid=_allValid(data),newValid||{};case"duplicateDataError":newValid=_allValid(data)||{},action.errorId&&(_errorInfo[action.errorId]={duplicateData:data[action.errorId]},newValid[action.errorId]=["duplicateData"].concat(newValid[action.errorId]));break;case"page":return action.data>page?(newValid=_allValid(data,!0),newValid||{}):valid;case"optionQuotaError":newValid=_allValid(data)||{},action.errorInfo&&(_errorInfo[action.errorInfo[0]]={optionQuota:[action.errorInfo[1]]},newValid[action.errorInfo[0]]=["optionQuota"].concat(newValid[action.errorInfo[0]]));break;case"commodityQuotaError":newValid=_allValid(data)||{},action.errorInfo&&(_errorInfo[action.errorInfo[0]]={commodityQuota:[action.errorInfo[1]]},newValid[action.errorInfo[0]]=["commodityQuota"].concat(newValid[action.errorInfo[0]]));break;case"validMobile":err=[];var errorCode={"-57":"extResourceUnavailable","-841":"mobileVerificationLimit","-910":"mobileError","-911":"areaUnavailable"};action.errId&&action.errId in errorCode&&err.push(errorCode[action.errId]),err=err.concat(_verificationMobileValid(component,data[action.id])),newValid[action.id]=_lodash2["default"].uniq(err);break;case"setMobileValue":if(valid&&valid[action.id]){var _err2=[];newValid[action.id]=_lodash2["default"].uniq(_err2)}break;case"MobileValidEmpty":newValid=_allValid(data)||{},action.errorId&&(newValid[action.errorId]=["mobileVCRequired"].concat(newValid[action.errorId]));break;case"MobileValidCodeError":newValid=_allValid(data)||{},action.errorId&&(newValid[action.errorId]=["mobileVCError"].concat(newValid[action.errorId]));break;case"setCurrencyVal":valid[action.id]&&valid[action.id].length>0&&(err=[],valid[action.id].indexOf("required")>-1&&(err=err.concat(_requiredValid(component,action.value))),valid[action.id].indexOf("tip")>-1&&(err=err.concat(_numberRangeValid(component,action.value),_numberSaveValid(component,action.value))),(valid[action.id].indexOf("numberDecimals")>-1||valid[action.id].indexOf("numberNegative")>-1||valid[action.id].indexOf("number")>-1)&&(err=err.concat(_numberValueTypeValid(component,action.value))),newValid[action.id]=_lodash2["default"].uniq(err));break;case"blurCurrencyVal":valid[action.id]&&valid[action.id].length>0&&(err=[],err=err.concat(_numberRangeValid(component,action.value),_numberSaveValid(component,action.value),_numberValueTypeValid(component,action.value)),newValid[action.id]=_lodash2["default"].uniq(err));break;case"setVehicleVal":valid[action.id]&&valid[action.id].length>0&&(err=[],valid[action.id].indexOf("required")>-1&&(err=err.concat(_requiredValid(component,action.value))),valid[action.id].indexOf("contentRegex")>-1&&(err=err.concat(_contentCnVehicleValid(component,action.value))),newValid[action.id]=_lodash2["default"].uniq(err));break;case"blurVehicleVal":valid[action.id]&&valid[action.id].length>0&&(err=[],err=err.concat(_requiredValid(component,action.value),_contentCnVehicleValid(component,action.value)),newValid[action.id]=_lodash2["default"].uniq(err));break;case"checkInValid":if(_utils2["default"].JHR()===-80012)return newValid=_allValid(data,!1,!0)||{},newValid||{}}if(!_lodash2["default"].isEmpty(newValid)){var _ret4=function(){var _valid={};return _lodash2["default"].forEach(_lodash2["default"].assign({},valid||{},newValid),function(data,id){data&&!_lodash2["default"].isEmpty(data)&&(_valid[id]=data)}),_lodash2["default"].isEmpty(_valid)?{v:{}}:{v:_valid}}();if("object"===("undefined"==typeof _ret4?"undefined":_typeof(_ret4)))return _ret4.v}return valid||{}}function getErrorDetail(type,id){var _res="";return _errorInfo[id]&&!function(){var _info=_errorInfo[id],component=_utils2["default"].getComponents(id);if(_info[type])switch(component.type){case"checkbox":case"radio":case"picCheckbox":case"picRadio":case"dropDown":case"title":case"gender":_res="",_lodash2["default"].forEach(component.options,function(info){_info[type].indexOf(info.sId)>-1&&(_res+=" "+info.value)}),_info[type].indexOf(component.otherId)>-1&&(_res+=" "+(component.otherOptionTitle||_config.lang.cOptionOtherDefault));break;case"commodity":_res="",_lodash2["default"].forEach(component.commodities,function(info){_info[type].indexOf(info.sId)>-1&&(_res+=" "+info.name)});break;default:_res=_info[type]}}(),_res}function getErrorInfo(errorType,id){return _errorInfo[id]&&_errorInfo[id][errorType]?_errorInfo[id][errorType]:null}function getErrorContent(errorType,id){var component=_utils2["default"].getComponents(id);return"required"===errorType&&("rank"===component.type?errorType="rankRequired":"tabular"===component.type?errorType="tabularRequired":"multiLevel"===component.type?errorType="multiRequired":"number"!==component.type&&"currency"!==component.type||(errorType="number")),_ERROR_INFO[errorType](getErrorDetail(errorType,id))}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.getErrorInfo=getErrorInfo,exports.getErrorContent=getErrorContent;var _utils=__webpack_require__(30),_utils2=_interopRequireDefault(_utils),_lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_config=__webpack_require__(9),_MGString=__webpack_require__(29),_MGString2=_interopRequireDefault(_MGString),_MGMoment=__webpack_require__(34),_MGMoment2=_interopRequireDefault(_MGMoment),_extensions=__webpack_require__(40),_extensions2=_interopRequireDefault(_extensions),_MGDebugger=__webpack_require__(32),_MGIntl=(_interopRequireDefault(_MGDebugger),__webpack_require__(12)),_MGIntl2=_interopRequireDefault(_MGIntl),_errorInfo={};exports["default"]=validProcess;var _ERROR_INFO={required:function(){return _config.lang.errRequired},multiRequired:function(){return _config.lang.errMultiRequired},rankRequired:function(){return _config.lang.errRankRequired},tabularRequired:function(){return _config.lang.errTabularRequired},duplicateData:function(data){return _config.lang.errDuplicateData},otherInputRequired:function(optInfo){return _config.lang.errOptionInputRequiredFunc({options:optInfo})},inputRequired:function(optInfo){return _config.lang.errOptionInputRequiredFunc({options:optInfo})},numberDecimals:function(){return _config.lang.errNumberInteger},numberDecimalLength:function(){return _config.lang.errDecimalLength},numberNegative:function(){return _config.lang.errPositiveNumber},number:function(){return _config.lang.errNumber},numberSaveRange:function(){return _config.lang.errNumberRange},contentRegex:function(type){return _config.lang.errContentReg},calendarDataError:function(){return _config.lang.errCalendarData},calendarTypeError:function(){return _config.lang.errCalendarType},calendarValidError:function(){return _config.lang.errCalendarValid},optionQuota:function(optInfo){return _config.lang.errOptionQuotaFullErrFunc({options:optInfo})},commodityQuota:function(optInfo){return _config.lang.errCommodityQuotaFullErrFunc({options:optInfo})},amountShort:function(){var _innerPayInfo=_utils2["default"].getInnerFormPayInfo();return _config.lang.errCommodityAmountShortFunc({num:_innerPayInfo.limitAmountFrom})},amountOver:function(){var _innerPayInfo=_utils2["default"].getInnerFormPayInfo();return _config.lang.errCommodityAmountOverFunc({num:_innerPayInfo.limitAmountTo})},quantityShort:function(){var _innerPayInfo=_utils2["default"].getInnerFormPayInfo();return _config.lang.errCommodityQuantityShortFunc({num:_innerPayInfo.limitQuantityFrom})},quantityOver:function(){var _innerPayInfo=_utils2["default"].getInnerFormPayInfo();return _config.lang.errCommodityQuantityOverFunc({num:_innerPayInfo.limitQuantityTo})},mobileRequired:function(){return _config.lang.errMobileRequired},mobileError:function(){return _config.lang.errMobileError},mobileVerificationLimit:function(){return _config.lang.errMobileVerificationLimit},extResourceUnavailable:function(){return _config.lang.errMobileExtResourceUnavailable},areaUnavailable:function(){return _config.lang.errMobileAreaUnavailable},mobileVCRequired:function(){return _config.lang.errMobileVCRequired},mobileVCError:function(){return _config.lang.errMobileVCError}}},,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(468)},,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function isColor(colorStr){var color=(0,_MGColorNormalize2["default"])(colorStr);return"number"==typeof color&&color>>>0===color&&color>=0&&color<=4294967295}function colorGrayLevel(r,g,b){return.299*parseInt(r,10)+.587*parseInt(g,10)+.114*parseInt(b,10)}function _hexPad(val){return val=""+val,val.length<2?"0"+val:val}function _hexColorConvert(list){return list.map(function(v){return v>>>=0,v>255&&(v=255),_hexPad(v.toString(16)).toUpperCase()}).join("")}function rgbaToHex6(_ref){var r=_ref.r,g=_ref.g,b=_ref.b;return"#"+_hexColorConvert([r,g,b])}function rgbaToHex8(_ref2){var r=_ref2.r,g=_ref2.g,b=_ref2.b,a=_ref2.a;return"#"+_hexColorConvert([r,g,b,255*a])}function rgbaToHexIE(_ref3){var r=_ref3.r,g=_ref3.g,b=_ref3.b,a=_ref3.a;return"#"+_hexColorConvert([255*a,r,g,b])}function rgbaToHSLObj(_ref4){var r=_ref4.r,g=_ref4.g,b=_ref4.b;r/=255,g/=255,b/=255;var minRGB=Math.min(r,g,b),maxRGB=Math.max(r,g,b),computedH=void 0,computedS=void 0,computedL=void 0,delta=maxRGB-minRGB,d=r===maxRGB?g-b:b===maxRGB?r-g:b-r;return 0===delta?computedH=0:maxRGB===r?computedH=60*(d/delta%6):maxRGB===g?computedH=60*(d/delta+2):maxRGB===b&&(computedH=60*(d/delta+4)),computedL=(maxRGB+minRGB)/2,computedS=0===delta?0:delta/(1-Math.abs(2*computedL-1)),{h:computedH,s:computedS,l:computedL}}function _colorNormalizeToRGBA(colorStr){return _MGColorNormalize2["default"].rgba((0,_MGColorNormalize2["default"])(colorStr))}function convertToRGB(objRGB){return objRGB&&"r"in objRGB&&"g"in objRGB&&"b"in objRGB?"rgb("+[objRGB.r,objRGB.g,objRGB.b]+")":""}function convertToHSL(objHSL){return"hsl("+Math.floor(objHSL.h)+","+Math.floor(100*objHSL.s)+"%,"+100*objHSL.l+"%)"}function gradientColor(colorFrom,colorTo,num){for(var cFrom=_colorNormalizeToRGBA(colorFrom),cTo=_colorNormalizeToRGBA(colorTo),gradientList=[],i=0;i<num;i++)gradientList.push(rgbaToHex6({r:Math.floor(cFrom.r+(cTo.r-cFrom.r)/(num-1)*i),g:Math.floor(cFrom.g+(cTo.g-cFrom.g)/(num-1)*i),b:Math.floor(cFrom.b+(cTo.b-cFrom.b)/(num-1)*i)}));return gradientList}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_MGColorNormalize=__webpack_require__(51),_MGColorNormalize2=_interopRequireDefault(_MGColorNormalize),convertToRGBObj={fromHex:function(strHEX){var _colorNormalizeToRGBA2=_colorNormalizeToRGBA(strHEX),r=_colorNormalizeToRGBA2.r,g=_colorNormalizeToRGBA2.g,b=_colorNormalizeToRGBA2.b;return{r:r,g:g,b:b}},fromHSL:function(strHSL){var _colorNormalizeToRGBA3=_colorNormalizeToRGBA(strHSL),r=_colorNormalizeToRGBA3.r,g=_colorNormalizeToRGBA3.g,b=_colorNormalizeToRGBA3.b;return{r:r,g:g,b:b}}},convertToHEX={fromRGB:function(strRGB){var color=_colorNormalizeToRGBA(strRGB);return rgbaToHex6(color)},fromHSL:function(strHSL){var color=_colorNormalizeToRGBA(strHSL);return rgbaToHex6(color)}},convertToHSLObj={fromHex:function(strHEX){var color=_colorNormalizeToRGBA(strHEX);return rgbaToHSLObj(color)},fromRGB:function(strRGB){var color=_colorNormalizeToRGBA(strRGB);return rgbaToHSLObj(color)}},OColor=function(){function OColor(colorStr){_classCallCheck(this,OColor),this.normalizedColor=(0,_MGColorNormalize2["default"])(colorStr),this.isNull=null===this.normalizedColor}return _createClass(OColor,[{key:"set",value:function(type,value){if(this.isNull)return this;switch("a"===type&&(value=255*value),value>>>=0,value>255&&(value=255),type){case"r":this.normalizedColor=16777215&this.normalizedColor|value<<24;break;case"g":this.normalizedColor=4278255615&this.normalizedColor|value<<16;break;case"b":this.normalizedColor=4294902015&this.normalizedColor|value<<8;break;case"a":this.normalizedColor=4294967040&this.normalizedColor|value}return this}},{key:"getRGB",value:function(){if(this.isNull)return null;var _colorNormalize$rgba=_MGColorNormalize2["default"].rgba(this.normalizedColor),r=_colorNormalize$rgba.r,g=_colorNormalize$rgba.g,b=_colorNormalize$rgba.b;return"rgb("+r+","+g+","+b+")"}},{key:"getRGBA",value:function(){if(this.isNull)return null;var _colorNormalize$rgba2=_MGColorNormalize2["default"].rgba(this.normalizedColor),r=_colorNormalize$rgba2.r,g=_colorNormalize$rgba2.g,b=_colorNormalize$rgba2.b,a=_colorNormalize$rgba2.a;return"rgba("+r+","+g+","+b+","+a+")"}},{key:"getHEX",value:function(){if(this.isNull)return null;var colorRGB=_MGColorNormalize2["default"].rgba(this.normalizedColor);return rgbaToHex6(colorRGB)}},{key:"getFullHEX",value:function(){if(this.isNull)return null;var colorRGB=_MGColorNormalize2["default"].rgba(this.normalizedColor);return rgbaToHex8(colorRGB)}},{key:"getIEFullHEX",value:function(){if(this.isNull)return null;var colorRGB=_MGColorNormalize2["default"].rgba(this.normalizedColor);return rgbaToHexIE(colorRGB)}}]),OColor}();exports["default"]={OColor:OColor,isColor:isColor,colorGrayLevel:colorGrayLevel,gradientColor:gradientColor,convertToRGBObj:convertToRGBObj,convertToHEX:convertToHEX,convertToHSLObj:convertToHSLObj,convertToRGB:convertToRGB,convertToHSL:convertToHSL},module.exports=exports["default"]},function(module,exports){"use strict";function toArray(arrayLike){return Array.prototype.slice.call(arrayLike,0)}function call(){return"\\(\\s*("+toArray(arguments).join(")\\s*,\\s*(")+")\\s*\\)"}function parse255(str){var int=parseInt(str,10);return int<0?0:int>255?255:int}function parse360(str){var int=parseFloat(str);return(int%360+360)%360/360}function parse1(str){var num=parseFloat(str);return num<0?0:num>1?255:Math.round(255*num)}function parsePercentage(str){var int=parseFloat(str,10);return int<0?0:int>100?1:int/100}function hue2rgb(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+(q-p)*(2/3-t)*6:p}function hslToRgb(h,s,l){var q=l<.5?l*(1+s):l+s-l*s,p=2*l-q,r=hue2rgb(p,q,h+1/3),g=hue2rgb(p,q,h),b=hue2rgb(p,q,h-1/3);return Math.round(255*r)<<24|Math.round(255*g)<<16|Math.round(255*b)<<8}function normalizeColor(color){var match=void 0;return"number"==typeof color?color>>>0===color&&color>=0&&color<=4294967295?color:null:(match=matchers.hex6.exec(color))?parseInt(match[1]+"ff",16)>>>0:(match=matchers.rgb.exec(color))?(parse255(match[1])<<24|parse255(match[2])<<16|parse255(match[3])<<8|255)>>>0:(match=matchers.rgba.exec(color))?(parse255(match[1])<<24|parse255(match[2])<<16|parse255(match[3])<<8|parse1(match[4]))>>>0:(match=matchers.hex3.exec(color))?parseInt(match[1]+match[1]+match[2]+match[2]+match[3]+match[3]+"ff",16)>>>0:(match=matchers.hex8.exec(color))?parseInt(match[1],16)>>>0:(match=matchers.hex4.exec(color))?parseInt(match[1]+match[1]+match[2]+match[2]+match[3]+match[3]+match[4]+match[4],16)>>>0:(match=matchers.hsl.exec(color))?(255|hslToRgb(parse360(match[1]),parsePercentage(match[2]),parsePercentage(match[3])))>>>0:(match=matchers.hsla.exec(color))?(hslToRgb(parse360(match[1]),parsePercentage(match[2]),parsePercentage(match[3]))|parse1(match[4]))>>>0:null}function rgba(colorInt){var r=Math.round((4278190080&colorInt)>>>24),g=Math.round((16711680&colorInt)>>>16),b=Math.round((65280&colorInt)>>>8),a=((255&colorInt)>>>0)/255;return{r:r,g:g,b:b,a:a}}Object.defineProperty(exports,"__esModule",{value:!0});var NUMBER="[-+]?\\d*\\.?\\d+",PERCENTAGE=NUMBER+"%",matchers={rgb:new RegExp("rgb"+call(NUMBER,NUMBER,NUMBER)),rgba:new RegExp("rgba"+call(NUMBER,NUMBER,NUMBER,NUMBER)),hsl:new RegExp("hsl"+call(NUMBER,PERCENTAGE,PERCENTAGE)),hsla:new RegExp("hsla"+call(NUMBER,PERCENTAGE,PERCENTAGE,NUMBER)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/};normalizeColor.rgba=rgba,exports["default"]=normalizeColor,module.exports=exports["default"]},,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FORM_SETTINGS_BTN_ICON=exports.CUSTOM_FIELDS_NAME_MAPPING=exports.COMPONENT_NAME_MAPPING=exports.FORM_SETTINGS_CURRENCY_SYMBOL_SELECT=exports.FORM_COMPONENTS_NAME_DETAILS=exports.FIELD_INFO_MAPPING=exports.FORM_FILLING_COMPONENT_LIST=void 0;var _config=__webpack_require__(9),_FormMetaInfoMappingUtil=__webpack_require__(35);exports.FORM_FILLING_COMPONENT_LIST=["input","select","radio","checkbox","dropDown","multiLevel","dateTime_date","dateTime_time","dateTime_both","number","attachment","rate","tabular","rank","currency","city","commodity","picRadio","picCheckbox","picAttachment","name","mobile","email","company","department","position","avatar","title","gender","birthDate","location","address","website","tel","fax","note","IM","wechat","qq","skype","whatsApp","messenger","viber","line","telegram","SNS","weibo","linkedIn","twitter","facebook","instagram","mkGooglePlus"];exports.FIELD_INFO_MAPPING=_FormMetaInfoMappingUtil.FIELD_INFO_MAPPING;exports.FORM_COMPONENTS_NAME_DETAILS=[{id:1,name:"np",value:_config.lang.cnamePrefix},{id:2,name:"nf",value:_config.lang.cnameFirst},{id:3,name:"nm",value:_config.lang.cnameMiddle},{id:4,name:"nl",value:_config.lang.cnameLast},{id:5,name:"ns",value:_config.lang.cnameSuffix},{id:6,name:"nn",value:_config.lang.cnameNick}],exports.FORM_SETTINGS_CURRENCY_SYMBOL_SELECT=[{id:1,symbol:"¥"},{id:2,symbol:"$"},{id:3,symbol:"€"},{id:4,symbol:"£"},{id:5,symbol:"JP¥"},{id:6,symbol:"A$"},{id:7,symbol:"C$"},{id:8,symbol:"Fr."},{id:9,symbol:"HK$"},{id:10,symbol:"฿"},{id:11,symbol:"S$"},{id:12,symbol:"kr"},{id:13,symbol:"kr"},{id:14,symbol:"zł"},{id:15,symbol:"kr."},{id:16,symbol:"₽"},{id:17,symbol:"Mex$"},{id:18,symbol:"₩"},{id:19,symbol:"R"},{id:20,symbol:"R$"},{id:21,symbol:"₹"},{id:22,symbol:"RM"},{id:0,symbol:""}],exports.COMPONENT_NAME_MAPPING={input:_config.lang.fComponentText,textarea:_config.lang.fComponentText,radio:_config.lang.fComponentSelectSingle,checkbox:_config.lang.fComponentSelectMulti,dropDown:_config.lang.fComponentDropDown,multiLevel:_config.lang.fComponentMultiLevel,dateTime_date:_config.lang.fComponentDate,dateTime_time:_config.lang.fComponentTime,dateTime_both:_config.lang.fComponentDatetime,number:_config.lang.fComponentNumber,attachment:_config.lang.fComponentAttachment,rate:_config.lang.fComponentRate,tabular:_config.lang.fComponentTabular,rank:_config.lang.fComponentRank,currency:_config.lang.fComponentCurrency,city:_config.lang.fComponentCity,commodity:_config.lang.fComponentCommodity,picRadio:_config.lang.fComponentPicSelectSingle,picCheckbox:_config.lang.fComponentPicSelectMulti,picAttachment:_config.lang.fComponentPicAttachment,staticPic:_config.lang.fComponentStaticPic,staticText:_config.lang.fComponentStaticText,separator:_config.lang.fComponentSeparator,paging:_config.lang.fComponentPaging,authCode:_config.lang.fComponentAuthCode,staticMap:_config.lang.fComponentStaticMap,staticVideo:_config.lang.fComponentStaticVideo,name:_config.lang.fComponentName,avatar:_config.lang.fComponentAvatar,email:_config.lang.fComponentEmail,company:_config.lang.fComponentCompany,department:_config.lang.fComponentDepartment,position:_config.lang.fComponentPosition,mobile:_config.lang.fComponentMobile,website:_config.lang.fComponentWebsite,title:_config.lang.fComponentTitle,gender:_config.lang.fComponentGender,birthDate:_config.lang.fComponentBirthDate,location:_config.lang.fComponentLocation,address:_config.lang.fComponentAddress,tel:_config.lang.fComponentTelephone,fax:_config.lang.fComponentFax,note:_config.lang.fComponentNote,IM:_config.lang.fComponentCategoryIMInfo,wechat:_config.lang.fComponentWechat,qq:_config.lang.fComponentQQ,skype:_config.lang.fComponentSkype,whatsApp:_config.lang.fComponentWhatsApp,messenger:_config.lang.fComponentMessenger,viber:_config.lang.fComponentViber,line:_config.lang.fComponentLine,telegram:_config.lang.fComponentTelegram,SNS:_config.lang.fComponentCategorySNS,weibo:_config.lang.fComponentWeibo,linkedIn:_config.lang.fComponentLinkedIn,twitter:_config.lang.fComponentTwitter,facebook:_config.lang.fComponentFacebook,instagram:_config.lang.fComponentInstagram,mkGooglePlus:_config.lang.fComponentGooglePlus},exports.CUSTOM_FIELDS_NAME_MAPPING={1:_config.lang.ctcfTypeArray[0],2:_config.lang.ctcfTypeArray[1],3:_config.lang.ctcfTypeArray[2],4:_config.lang.ctcfTypeArray[3],5:_config.lang.ctcfTypeArray[4],6:_config.lang.ctcfTypeArray[5],7:_config.lang.ctcfTypeArray[6],8:_config.lang.ctcfTypeArray[7],9:_config.lang.ctcfTypeArray[8],11:_config.lang.ctcfTypeArray[10],12:_config.lang.ctcfTypeArray[11]},exports.FORM_SETTINGS_BTN_ICON=[{id:1,icon:String.fromCharCode(59457)},{id:2,icon:String.fromCharCode(59458)},{id:3,icon:String.fromCharCode(59087)},{id:4,icon:String.fromCharCode(59174)},{id:15,icon:String.fromCharCode(58900)},{id:5,icon:String.fromCharCode(59459)},{id:6,icon:String.fromCharCode(59095)},{id:7,icon:String.fromCharCode(59460)},{id:8,icon:String.fromCharCode(59461)},{id:9,icon:String.fromCharCode(58986)},{id:10,icon:String.fromCharCode(59073)},{id:11,icon:String.fromCharCode(59462)},{id:12,icon:String.fromCharCode(59463)},{id:13,icon:String.fromCharCode(59464)},{id:14,icon:String.fromCharCode(59465)},{id:16,icon:String.fromCharCode(59466)}]},,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(14),_react2=_interopRequireDefault(_react),_ttTransitionGroup=__webpack_require__(70),_ttTransitionGroup2=_interopRequireDefault(_ttTransitionGroup),_MGUtil=__webpack_require__(27),_MGUtil2=_interopRequireDefault(_MGUtil),_reactAddonsPureRenderMixin=__webpack_require__(46),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin),AnimationGroup=_react2["default"].createClass({displayName:"AnimationGroup",mixins:[_reactAddonsPureRenderMixin2["default"]],getInitialState:function(){
var AnimationGroup=_ttTransitionGroup2["default"];return(_MGUtil2["default"].browserCheck.msie&&parseInt(_MGUtil2["default"].browserCheck.version)<=11||document.documentMode&&document.documentMode<9)&&(AnimationGroup=this.props.component?this.props.component:"div"),this.animationGroup=AnimationGroup,{}},render:function(){var AG=this.animationGroup,_props=this.props,children=_props.children,extProps=_objectWithoutProperties(_props,["children"]);return _react2["default"].createElement(AG,extProps,children)}});exports["default"]=AnimationGroup,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function addClass(element,className){return element.classList?element.classList.add(className):hasClass(element,className)||(element.className=element.className+" "+className),element}function removeClass(element,className){return hasClass(className)&&(element.classList?element.classList.remove(className):element.className=(" "+element.className+" ").replace(" "+className+" "," ").trim()),element}function hasClass(element,className){return element.classList?element.classList.contains(className):(" "+element.className+" ").indexOf(" "+className+" ")>-1}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(14),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(23),_reactDom2=_interopRequireDefault(_reactDom),_lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_MGUtil=__webpack_require__(26),_MGUtil2=_interopRequireDefault(_MGUtil),_reactAddonsTransitionGroup=__webpack_require__(71),_reactAddonsTransitionGroup2=_interopRequireDefault(_reactAddonsTransitionGroup),rAf=_MGUtil2["default"].rAF,cAf=_MGUtil2["default"].rAF_cancel,now=_MGUtil2["default"].getNow,ListTransitionGroupChild=_react2["default"].createClass({displayName:"ListTransitionGroupChild",propTypes:{name:_react2["default"].PropTypes.string.isRequired,appear:_react2["default"].PropTypes.bool,enter:_react2["default"].PropTypes.bool,leave:_react2["default"].PropTypes.bool,appearTimeout:_react2["default"].PropTypes.number,enterTimeout:_react2["default"].PropTypes.number,leaveTimeout:_react2["default"].PropTypes.number},_transition:function(type,finishCallback,userSpecifiedDelay){function _delay(){var _currentTime=now();return _currentTime>=_endTime?(endListener(),void cAf(timeout)):void(timeout=rAf(_delay))}var _node=_reactDom2["default"].findDOMNode(this),self=this;if(_node){var _className=this.props.name+"-"+type,_activeClassName=_className+"-active",timeout=null,endListener=function(e){if((!e||e.target===_node)&&(cAf(timeout),removeClass(_node,_className),removeClass(_node,_activeClassName),finishCallback&&self.isMounted()))try{finishCallback()}catch(e){}};addClass(_node,_className),this._queueClass(_node,_activeClassName);var _endTime=now()+(userSpecifiedDelay||0)+27;_delay(),this.transitionTimeouts.push(timeout)}else if(finishCallback&&self.isMounted())try{finishCallback()}catch(e){}},_queueClass:function(node,className){var _this=this;this.classNameQueue.push({className:className,node:node}),this.timeout||(this.timeout=rAf(function(){rAf(_this._flushClassNameQueue)}))},_flushClassNameQueue:function(){this.isMounted()&&_lodash2["default"].forEach(this.classNameQueue,function(obj){addClass(obj.node,obj.className)}),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[],this.transitionTimeouts=[]},componentWillAppear:function(done){this.props.appear&&this.props.appearTimeout>0?this._transition("appear",done,this.props.appearTimeout):done()},componentWillEnter:function(done){this.props.enter&&this.props.enterTimeout>0?this._transition("enter",done,this.props.enterTimeout):done()},componentWillLeave:function(done){this.props.leave&&this.props.leaveTimeout>0?this._transition("leave",done,this.props.leaveTimeout):done()},componentWillUnmount:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),_lodash2["default"].forEach(this.transitionTimeouts,function(t){cAf(t)}),this.classNameQueue.length=0},render:function(){return _react2["default"].Children.only(this.props.children)}}),ListTransitionGroup=_react2["default"].createClass({displayName:"MGCSSTransitionGroup",propTypes:{transitionName:_react2["default"].PropTypes.string.isRequired,transitionAppear:_react2["default"].PropTypes.bool,transitionEnter:_react2["default"].PropTypes.bool,transitionLeave:_react2["default"].PropTypes.bool,enterTimeout:_react2["default"].PropTypes.number.isRequired,leaveTimeout:_react2["default"].PropTypes.number.isRequired,transitionEnterEnd:_react2["default"].PropTypes.func,transitionLeaveEnd:_react2["default"].PropTypes.func},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(child){var props=this.props;return _react2["default"].createElement(ListTransitionGroupChild,{name:props.transitionName,appear:props.transitionAppear,enter:props.transitionEnter,leave:props.transitionLeave,appearTimeout:props.appearTimeout,enterTimeout:props.enterTimeout,leaveTimeout:props.leaveTimeout},child)},render:function(){var _props=_lodash2["default"].assign({},this.props,{childFactory:this._wrapChild});return _react2["default"].createElement(_reactAddonsTransitionGroup2["default"],_props)}});exports["default"]=ListTransitionGroup,module.exports=exports["default"]},function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(471)},,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(14),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(23),_reactDom2=_interopRequireDefault(_reactDom),_classnames=__webpack_require__(38),_classnames2=_interopRequireDefault(_classnames);exports["default"]=_react2["default"].createClass({displayName:"FCPopwin",componentDidMount:function(){this.popElem=document.getElementById("popwin")},doClose:function(){this.props.onClose&&this.props.onClose(),_reactDom2["default"].unmountComponentAtNode(this.popElem)},handleClose:function(){this.props.isCantClose||this.doClose()},handlePreventDefault:function(e){e.preventDefault(),e.stopPropagation()},render:function(){var _props=this.props,className=_props.className,title=_props.title,isCantClose=_props.isCantClose,boxStyle=_props.boxStyle,_header=null;title&&(_header=_react2["default"].createElement("div",{className:"pop_header"},_react2["default"].createElement("p",{className:"pop_title"},title)));var _close=null;return isCantClose||(_close=_react2["default"].createElement("a",{className:"iconfont pop_close",onClick:this.doClose},String.fromCharCode(58982))),_react2["default"].createElement("div",{className:(0,_classnames2["default"])("pop_wrapper",className),onScroll:this.handlePreventDefault,onWheel:this.handlePreventDefault},_react2["default"].createElement("div",{className:"pop_mask",onClick:this.handleClose}),_react2["default"].createElement("div",{className:"pop_box popInnerAnimation",style:boxStyle||null},_header,_react2["default"].createElement("div",{className:"pop_content"},this.props.children),_close))}}),module.exports=exports["default"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function getFingers(e){return e.touches?e.touches.length:1}function getPosOfEvent(ev){if(cantouch){for(var posi=[],src=null,t=0,len=ev.touches.length;t<len;t++)src=ev.touches[t],posi.push({x:src.pageX,y:src.pageY});return posi}return[{x:ev.pageX,y:ev.pageY}]}function getDistance(pos1,pos2){if(!pos1||!pos2)return null;var x=pos2.x-pos1.x,y=pos2.y-pos1.y;return Math.sqrt(x*x+y*y)}function getAngle(pos1,pos2){return pos1&&pos2?180*Math.atan2(pos2.y-pos1.y,pos2.x-pos1.x)/Math.PI:0}function getDirectionFromAngle(agl){var directions={up:agl<-45&&agl>-135,down:agl>=45&&agl<135,left:agl>=135||agl<=-135,right:agl>=-45&&agl<=45};for(var key in directions)if(directions[key])return key;return null}function calScale(pos1,pos2){if(pos1.length>=2&&pos2.length>=2){var disStart=getDistance(pos1[1],pos1[0]),disEnd=getDistance(pos2[1],pos2[0]);return disEnd/disStart}return 1}function touchEventBind(events){function reset(){__touchElement=null,__touchFingers=0,__startTouchTime=null,__touchMovePos=[],__touchStartPos=[],__tapTimer=null,__pinchState=null,__scale_last_rate=1,__longTapTimeout=null}if(!cantouch)return{};var callbackList={};_lodash2["default"].forEach(events,function(callback,type){callbackList[type]||(callbackList[type]=[]),callbackList[type].push(callback)});var __lastTouchTime=null,__startTouchTime=null,__touchElement=null,__touchFingers=0,__touchMovePos=[],__touchStartPos=[],__tapTimer=null,__pinchState=null,__scale_last_rate=1,__longTapTimeout=null;return{onTouchStart:function(e){__touchElement=e.target,__tapTimer&&(clearTimeout(__tapTimer),__tapTimer=null),__longTapTimeout&&(clearTimeout(__longTapTimeout),__longTapTimeout=null),__startTouchTime=getTime(),__touchMovePos=__touchStartPos=getPosOfEvent(e),callbackList.onTouchStart&&_lodash2["default"].forEach(callbackList.onTouchStart,function(func){func(e)}),getFingers(e)>1&&callbackList.pinchStart&&_lodash2["default"].forEach(callbackList.pinchStart,function(func){func(e)}),1===getFingers(e)&&callbackList.longTap&&(e.persist(),__longTapTimeout=setTimeout(function(){_lodash2["default"].forEach(callbackList.longTap,function(func){func(e)}),clearTimeout(__longTapTimeout),__longTapTimeout=null},config.minLongTapTime))},onTouchMove:function(e){e.stopPropagation(),e.persist(),__touchMovePos=getPosOfEvent(e),__touchFingers=getFingers(e),callbackList.onTouchMove&&callbackList.onTouchMove.forEach(function(func){func(e,{start:__touchStartPos,move:__touchMovePos})}),getFingers(e)>1&&callbackList.pinch&&!function(){var scale=calScale(__touchStartPos,__touchMovePos),scale_diff=1e-11,scaleType=null;scale>__scale_last_rate?(__scale_last_rate=scale-scale_diff,scaleType="pinchOut"):scale<__scale_last_rate&&(__scale_last_rate=scale+scale_diff,scaleType="pinchIn"),_lodash2["default"].forEach(callbackList.pinch,function(func){func(e,{scaleType:scaleType,scale:__scale_last_rate})})}();var moveDistance=getDistance(__touchMovePos[0],__touchStartPos[0]);(moveDistance>config.maxTapMove||__touchElement!==e.target||getFingers(e)>1)&&(clearTimeout(__longTapTimeout),__longTapTimeout=null)},onTouchEnd:function(e){e.stopPropagation(),e.persist(),__longTapTimeout&&(clearTimeout(__longTapTimeout),__longTapTimeout=null);var currentTime=getTime(),moveDistance=getDistance(__touchMovePos[0],__touchStartPos[0]);moveDistance<config.maxTapMove&&__touchElement===e.target?__lastTouchTime&&currentTime-__lastTouchTime<config.maxDoubleTapGap?(callbackList.doubleTap&&_lodash2["default"].forEach(callbackList.doubleTap,function(func){func(e)}),__lastTouchTime=null):(currentTime-__startTouchTime>config.minLongTapTime||callbackList.tap&&(__tapTimer=setTimeout(function(){_lodash2["default"].forEach(callbackList.tap,function(func){func(e)})},config.maxTapTime)),__lastTouchTime=currentTime):(1===__touchFingers?!function(){var distance=getDistance(__touchStartPos[0],__touchMovePos[0]),angle=getAngle(__touchStartPos[0],__touchMovePos[0]),direction=getDirectionFromAngle(angle);callbackList.swipe&&_lodash2["default"].forEach(callbackList.swipe,function(func){func(e,{direction:direction,distance:distance})})}():__touchFingers>1&&callbackList.pinchEnd&&_lodash2["default"].forEach(callbackList.pinchEnd,function(func){func(e)}),__lastTouchTime=currentTime),callbackList.onTouchEnd&&callbackList.onTouchEnd.forEach(function(func){func(e)}),reset()},onTouchCancel:function(){callbackList.onTouchCancel&&callbackList.onTouchCancel(e),reset()}}}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,getTime=Date.now||function(){return+new Date},config={maxTapTime:200,maxDoubleTapGap:160,maxTapMove:5,minLongTapTime:600};exports["default"]=touchEventBind,module.exports=exports["default"]},,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(14),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(38),_classnames2=_interopRequireDefault(_classnames),_reactDom=__webpack_require__(23),_reactDom2=_interopRequireDefault(_reactDom),_config=__webpack_require__(9),_tools=__webpack_require__(33),_tools2=_interopRequireDefault(_tools),_MGDebugger=__webpack_require__(32),_MGDebugger2=_interopRequireDefault(_MGDebugger),_config2=__webpack_require__(6),_config3=_interopRequireDefault(_config2),_PopBuyProduct=__webpack_require__(131),_PopBuyProduct2=_interopRequireDefault(_PopBuyProduct),_reactAddonsPureRenderMixin=__webpack_require__(46),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin),_CDN_PATH="";"cn"===window._SLD&&(_CDN_PATH=location.protocol+_config3["default"].CDN_PATH_WITHOUT_PROTOCOL);var isWx=/micromessenger/i.test(window.navigator.userAgent);exports["default"]=_react2["default"].createClass({displayName:"hugeErrorHandler",mixins:[_reactAddonsPureRenderMixin2["default"]],getInitialState:function(){return{}},handleRefresh:function(){return isWx?void(window.location.href=_tools2["default"].updateUrl(window.location.href)):void location.reload()},preRenderUnOpenComponent:function(){return{image:_CDN_PATH+"images/form/err_encryption.png",title:_config.lang.rErrEncryption,subTitle:_config.lang.rErrEncryptionDescribe}},preRenderUnExitComponent:function(){return{image:_CDN_PATH+"images/form/err_unExisted.png",title:_config.lang.tUneExitForm,subTitle:_config.lang.tUneExitFormDescribe}},preRenderBannedComponent:function(){return{image:_CDN_PATH+"images/form/err_banned.png",title:_config.lang.tBannedForm,subTitle:_config.lang.tBannedFormDescribe}},preRenderFrozenComponent:function(){return{image:_CDN_PATH+"images/form/err_banned.png",title:_config.lang.tFrozenForm,subTitle:_config.lang.tFrozenFormDescribe}},preRenderUnPublishComponent:function(){return{image:_CDN_PATH+"images/form/err_banned.png",title:_config.lang.tUnPublishForm,subTitle:_config.lang.tUnPublishFormDescribe}},preRenderWrongSLDComponent:function(){var frLink=_react2["default"].createElement("div",{className:"fb_ssItem link"},_react2["default"].createElement("a",{className:"fbc_link",href:"http://"+(window._CL_SLD||"www")+".mikecrm.com/"+utils.token()},"http://"+(window._CL_SLD||"www")+".mikecrm.com/"+utils.token()));return{image:_CDN_PATH+"images/form/err_wrongSLD.png",title:_config.lang.tWrongSLDTitle,subTitle:_config.lang.tWrongSLDDescribe,content:[frLink]}},preRenderUpdatingComponent:function(){return{image:_CDN_PATH+"images/form/err_sysUpdating.png",title:_config.lang.tUpdatingTitle,subTitle:_config.lang.tUpdatingDescribe}},handleOpenOneDayCDN:function(){this.setState({isSubmitterBuy:!0})},handleBuyOneDayCDN:function(){_reactDom2["default"].render(_react2["default"].createElement(_PopBuyProduct2["default"],{prGrId:48,onFinished:this.handleFinished}),document.getElementById("popwin"))},preRenderLimitedComponent:function(){var isSubmitterBuy=this.state.isSubmitterBuy,text=_react2["default"].createElement("div",{className:"err_item text limited",key:"tips"},_react2["default"].createElement("p",{className:"err_title"},_config.lang.tLimitedTitle),_react2["default"].createElement("p",{className:"err_blueTitle"},_config.lang.tLimitedSubTitle),_react2["default"].createElement("p",{className:"err_subTitle hasMargin"},_config.lang.tLimitedDescribe,_react2["default"].createElement("a",{href:"http://wiki.mikecrm.com/cdn"},_config.lang.tTitleViewMore)),_react2["default"].createElement("p",{className:"err_subTitle"},_react2["default"].createElement("span",null,_config.lang.tLimitedGuide),_react2["default"].createElement("span",{className:"err_stSupply"},_config.lang.tLimitedGuideBuy({buyLink:{className:"buyLink",onClick:this.handleOpenOneDayCDN}}))),isSubmitterBuy?_react2["default"].createElement("div",{className:"fb_submitterBuy"},_react2["default"].createElement("p",{className:"fb_sbTitle"},_config.lang.tCDNTitle),_react2["default"].createElement("div",{className:"fb_sbContent"},_react2["default"].createElement("a",{className:"fb_sbBtn",onClick:this.handleBuyOneDayCDN},_config.lang.tCDNOneDayBtn),_react2["default"].createElement("p",{className:"fb_sbPrice"},_config.lang.tCDNOneDayPrice),_react2["default"].createElement("p",{className:"fb_sbDes"},_config.lang.tCDNOneDayDes[0]),_react2["default"].createElement("p",{className:"fb_sbDes"},_config.lang.tCDNOneDayDes[1]))):_react2["default"].createElement("p",{className:"err_subTitle"},_config.lang.tLimitedGuideUser)),button=null;return isSubmitterBuy||(button=_react2["default"].createElement("div",{className:"fb_ssItem button"},_react2["default"].createElement("a",{className:"fbc_button orange fbc_open",href:"mailBuyCDN.php"},_config.lang.tLimitedOpen),_react2["default"].createElement("a",{className:"fbc_button fbc_refresh",onClick:this.handleRefresh},_config.lang.tFormRefresh))),{image:_CDN_PATH+"images/form/err_limited.png",content:[text,button]}},preRenderProtectComponent:function(){return{image:"images/form/err_protect.png",title:_config.lang.tFormProtect,subTitle:_config.lang.tFormProtectDescribe,content:[_react2["default"].createElement("p",{className:"err_subTitle"},_config.lang.tFormProtectGuide({authCode:{className:"toWiki",onClick:function(){window.open("http://wiki.mikecrm.com/captcha")}}}))]}},preRenderCloseCheckInComponent:function(){return{image:"images/form/err_wrongSLD.png",title:_config.lang.ckiClosedTitle,subTitle:_config.lang.ckiClosedSubTitle}},render:function(){var props=this.props,content=null;switch(+props.errorCode){case-51:content=this.preRenderUnOpenComponent();break;case-52:content=this.preRenderUnExitComponent();break;case-801:content=this.preRenderBannedComponent();break;case-802:content=this.preRenderFrozenComponent();break;case-805:content=this.preRenderUnPublishComponent();break;case-812:content=this.preRenderWrongSLDComponent();break;case-888:content=this.preRenderUpdatingComponent();break;case-840:content=this.preRenderLimitedComponent();break;case-841:content=this.preRenderProtectComponent();break;case-80013:content=this.preRenderCloseCheckInComponent()}return content?_react2["default"].createElement("div",{className:(0,_classnames2["default"])("error_wrapper",{isMobile:props.isMobile})},_react2["default"].createElement("div",{className:"err_item image"},_react2["default"].createElement("img",{className:"err_img",src:content.image})),content.title||content.subTitle?_react2["default"].createElement("div",{className:"err_item text",key:"tips"},_react2["default"].createElement("p",{className:"err_title"},content.title),_react2["default"].createElement("p",{className:"err_subTitle"},content.subTitle)):null,content.content,_react2["default"].createElement("div",{className:"copyright"},_react2["default"].createElement("a",{className:"poweredBy_logo",target:"_blank",href:"http://www.mikecrm.com"}))):(_MGDebugger2["default"].error("no fit error type",props),null)}}),module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_react=__webpack_require__(14),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(38),_classnames2=_interopRequireDefault(_classnames),_config=__webpack_require__(9),_utils=__webpack_require__(30),_utils2=_interopRequireDefault(_utils),_tools=__webpack_require__(33),_tools2=_interopRequireDefault(_tools),_MGIntl=__webpack_require__(12),_MGIntl2=_interopRequireDefault(_MGIntl),_formStore=__webpack_require__(42),_formStore2=_interopRequireDefault(_formStore),_FCPopwin=__webpack_require__(74),_FCPopwin2=_interopRequireDefault(_FCPopwin),_PopPayOnline=__webpack_require__(132),_PopPayOnline2=_interopRequireDefault(_PopPayOnline),_PopPaySucceed=__webpack_require__(133),_PopPaySucceed2=_interopRequireDefault(_PopPaySucceed),_reactAddonsPureRenderMixin=__webpack_require__(46),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin),SUPPORT_PAYMENT_METHOD=[{id:1,bgPosition:"0 -65px",name:_config.lang.tSupportPayMode[0]},{id:2,bgPosition:"0 -105px",name:_config.lang.tSupportPayMode[1]}],isWx=/micromessenger/i.test(window.navigator.userAgent);exports["default"]=_react2["default"].createClass({displayName:"PopBuy",mixins:[_reactAddonsPureRenderMixin2["default"]],getInitialState:function(){return{paymentMethod:_tools2["default"].inIframe()||isWx?2:1}},componentDidMount:function(){_formStore2["default"].beforePay(this.props.prGrId,this.handleBeforePaySucceed)},handleBeforePaySucceed:function(info){info.r&&0!==info.r?this.setState({errCode:info.r}):this.setState(_lodash2["default"].assign({},info,{selectedPrId:info.prList[0].prId}))},handleChoosePaymentMethod:function(pmId){this.setState({paymentMethod:pmId})},handleConfirmBuy:function(){var _state2=this.state,prList=_state2.prList,selectedPrId=_state2.selectedPrId,paymentMethod=_state2.paymentMethod,selectedPrInfo=_lodash2["default"].find(prList,{prId:selectedPrId})||{};_formStore2["default"].confirmBuy({p:selectedPrId,c:1,a:(selectedPrInfo.prPrice||{})[1],m:paymentMethod,d:_tools2["default"].fuzzyDeviceCheck?2:1,ext:{frToken:_utils2["default"].token()}},this.handleConfirmBuySucceed)},handleConfirmBuySucceed:function(data){var _cashierInfo=(data.r,_objectWithoutProperties(data,["r"]));isWx&&(_cashierInfo.inWechat=!0),_cashierInfo.t=_utils2["default"].token(),_cashierInfo.prd=1,_cashierInfo.type=this.state.paymentMethod,_formStore2["default"].dispatch({type:"prdCashierInfo",data:_cashierInfo}),this.setState({payState:1})},handlePayStateChange:function(_state){this.setState({payState:_state})},handleClose:function(needShowSuccess){needShowSuccess&&location.reload(),this.refs.popwin.doClose()},renderProduct:function(){var _this=this,_state3=this.state,prGrName=_state3.prGrName,prList=_state3.prList,selectedPrId=_state3.selectedPrId,paymentMethod=_state3.paymentMethod,selectedPrInfo=_lodash2["default"].find(prList,{prId:selectedPrId})||{};return _react2["default"].createElement("div",{className:"fb_sbPop"},_react2["default"].createElement("p",{className:"fb_sbpName",key:"name"},prGrName||""),_react2["default"].createElement("p",{className:"fb_sbpNo",key:"no"},selectedPrInfo.prNo||""),_lodash2["default"].map(prList,function(prInfo){return _react2["default"].createElement("div",{className:"fb_sbpItem active",key:"pr"+prInfo.prId},_react2["default"].createElement("p",{className:"fb_sbpiPrice"},"￥ "+_MGIntl2["default"].localeNumberFormatter((prInfo.prPrice||{})[1],2,2)),_react2["default"].createElement("p",{className:"fb_sbpiName"},prInfo.prName))}),_react2["default"].createElement("ul",{className:"fb_paymentMethod"},_lodash2["default"].map(SUPPORT_PAYMENT_METHOD,function(info){if((_tools2["default"].inIframe()||isWx)&&1===+info.id)return null;var _active=paymentMethod===+info.id;return _react2["default"].createElement("li",{className:(0,_classnames2["default"])("fb_pmItem","fb_pmItemNum2",{active:_active}),onClick:_this.handleChoosePaymentMethod.bind(_this,+info.id),key:"pay"+info.id},_react2["default"].createElement("div",{className:"fb_pmImg",style:{backgroundPosition:info.bgPosition}}),_react2["default"].createElement("p",{className:"fb_pmTitle"},info.name),_active?_react2["default"].createElement("div",{className:"fb_pmChosenImg"}):null)})),_react2["default"].createElement("div",{className:"fb_sbpOperate"},_react2["default"].createElement("a",{className:"btn_normal orange",onClick:this.handleConfirmBuy},_config.lang.tGoToPay)))},render:function(){var _state4=this.state,errCode=_state4.errCode,payState=_state4.payState,_content=this.renderProduct();if(errCode){var _eTips="";switch(errCode){case-804:_eTips=_config.lang.tStoppedForm}_content=_react2["default"].createElement("div",{className:"pay_error"},_react2["default"].createElement("p",{className:"pay_errTips"},_eTips),_react2["default"].createElement("div",{className:"pay_operate"},_react2["default"].createElement("a",{className:"btn_normal btn_close",onClick:this.handleClose},_config.lang.cPayKnowIt)))}else 1===payState?_content=_react2["default"].createElement(_PopPayOnline2["default"],{isMobile:_tools2["default"].fuzzyDeviceCheck,isPrd:!0,onClose:this.handleClose,payType:this.handlePayStateChange}):2===payState&&(_content=_react2["default"].createElement(_PopPaySucceed2["default"],{onClose:this.handleClose,isPrd:!0}));return _react2["default"].createElement(_FCPopwin2["default"],{className:"pop_pay",ref:"popwin",title:_config.lang.tCDNOneDayBtn},_content)}}),module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(8),_lodash2=_interopRequireDefault(_lodash),_react=__webpack_require__(14),_react2=_interopRequireDefault(_react),_config=__webpack_require__(9),_utils=__webpack_require__(30),_utils2=_interopRequireDefault(_utils),_formStore=__webpack_require__(42),_formStore2=_interopRequireDefault(_formStore),_MGIntl=__webpack_require__(12),_MGIntl2=_interopRequireDefault(_MGIntl),_reactAddonsPureRenderMixin=__webpack_require__(46),_reactAddonsPureRenderMixin2=_interopRequireDefault(_reactAddonsPureRenderMixin);exports["default"]=_react2["default"].createClass({displayName:"PopPayOnline",mixins:[_reactAddonsPureRenderMixin2["default"]],getInitialState:function(){var _storeState=_formStore2["default"].getState();return{info:_storeState.payment,data:_storeState.data}},componentDidMount:function(){this.unsubscribe=_formStore2["default"].addChangeListener(this.handleStateChange),this.handleDmwProgress()},componentDidUpdate:function(){this.handleDmwProgress()},componentWillUnmount:function(){this.unsubscribe(),clearInterval(this.getDmwProgress)},handleDmwProgress:function(){var _this=this;clearInterval(this.getDmwProgress);var info=this.state.info;info._DMWT&&info._NODE&&!info.inWechat&&(this.getDmwProgress=window.setInterval(function(){info.isFin?(clearInterval(_this.getDmwProgress),_this.props.payType(2)):_formStore2["default"].checkDMW(info._DMWT,info._NODE)},2e3))},handleStateChange:function(){var _storeState=_formStore2["default"].getState();this.setState({info:_storeState.payment,data:_storeState.data})},handleClose:function(){this.props.onClose&&this.props.onClose()},renderWxPay:function(){var info=this.state.info;return info.rWx_jump?_react2["default"].createElement("div",{className:"pay_method wxPay"},_react2["default"].createElement("a",{className:"fbc_button orange btn_goToPay",target:"_blank",href:info.rWx_jump},_config.lang.cPayGoToPay)):_react2["default"].createElement("div",{className:"pay_method wxPay"},_react2["default"].createElement("div",{className:"pay_wxQRCode"},_react2["default"].createElement("p",{className:"pay_mTitle"},_config.lang.cPayWxPayQrCode),_react2["default"].createElement("img",{className:"pay_mQRCode",src:info.rWx_qrPath})),_react2["default"].createElement("div",{className:"clearB"}))},renderAliPay:function(){var info=this.state.info;if(this.props.isMobile){var _url=info.rData_host+info.rData_jump;if(info.inWechat){var _sendData=_lodash2["default"].omit(info,["rData_qr","inWechat","type"]);_url="pg_wc/alipayInWc.php?d="+encodeURIComponent(JSON.stringify(_sendData))}return _react2["default"].createElement("div",{className:"pay_method aliPay"},_react2["default"].createElement("a",{className:"fbc_button orange btn_goToPay",target:"_blank",href:_url},_config.lang.cPayGoToPay))}return _react2["default"].createElement("div",{className:"pay_method aliPay"},_react2["default"].createElement("div",{className:"pay_aliWeb"},_react2["default"].createElement("p",{className:"pay_mTitle"},_config.lang.cPayWebPay),_react2["default"].createElement("div",{className:"pay_mImg"}),_react2["default"].createElement("a",{className:"btn_normal orange btn_goToPay",target:"_blank",href:info.rData_host+info.rData_jump},_config.lang.cPayGoToPay)),_react2["default"].createElement("div",{className:"pay_aliQRCode"},_react2["default"].createElement("p",{className:"pay_mTitle"},_config.lang.cPayAliPayQrCode),_react2["default"].createElement("iframe",{className:"pay_mQRCode",scrolling:"no",frameBorder:"0",src:info.rData_host+info.rData_qr})),_react2["default"].createElement("div",{className:"clearB"}))},render:function(){var info=this.state.info,data=this.state.data,settings=_utils2["default"].getSettings(),payPrd=info&&info.prd,symbol="￥";"0"==settings.cartSymbol?symbol=settings.cartSymbolDefined||"":settings.cartSymbol&&(symbol=_config.lang.cCurrencySymbolArray[settings.cartSymbol-1]);var totalPrice=0,_cartInfo=_utils2["default"].processCart(data,function(data){return{price:data.price,num:data.num}});_cartInfo.length>0&&(totalPrice=Math.round(_lodash2["default"].reduce(_cartInfo,function(pre,item){return pre+item.price*item.num},0))/100);var content=null;return 1===info.type?content=this.renderAliPay():2===info.type&&(content=this.renderWxPay()),_react2["default"].createElement("div",{className:"pay_onLine"},payPrd?null:_react2["default"].createElement("p",{className:"pay_guide"},_react2["default"].createElement("i",{className:"iconfont pay_gIcon"},String.fromCharCode(58988)),_react2["default"].createElement("span",null,_config.lang.cPayOnlineGuide)),_react2["default"].createElement("div",{className:"pay_orderInfo"},_react2["default"].createElement("p",{className:"pay_oNo"},_react2["default"].createElement("span",null,_config.lang.cPayOrderNo),_react2["default"].createElement("span",{className:"orderNo"},payPrd?info._DNT:info.ordiNo)),_react2["default"].createElement("p",{className:"pay_oPrice"},_react2["default"].createElement("span",null,_config.lang.cPayNeedPay),_react2["default"].createElement("span",{className:"price"},symbol+" "+_MGIntl2["default"].localeNumberFormatter(payPrd?8:totalPrice,2,2)))),content,_react2["default"].createElement("p",{className:"pay_operate"},_react2["default"].createElement("a",{className:"pay_oOtherMode",onClick:this.handleClose},_config.lang.cPayChooseOtherMethod),_react2["default"].createElement("a",{className:"pay_oAlterOrder",onClick:this.handleClose},_config.lang.cPayAlterOrder)))}}),module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(8),_classnames=(_interopRequireDefault(_lodash),__webpack_require__(38)),_classnames2=_interopRequireDefault(_classnames),_react=__webpack_require__(14),_react2=_interopRequireDefault(_react),_config=__webpack_require__(9),_formStore=__webpack_require__(42),_formStore2=_interopRequireDefault(_formStore);exports["default"]=_react2["default"].createClass({displayName:"PopPaySucceed",handleClose:function(){this.props.onClose&&this.props.onClose(!0)},render:function(){var isPrd=this.props.isPrd,_storeState=_formStore2["default"].getState();return _react2["default"].createElement("div",{className:(0,_classnames2["default"])("pay_succeed",{"is-prd":isPrd})},_react2["default"].createElement("i",{
className:"pay_sImg"}),_react2["default"].createElement("p",{className:"pay_sTips"},_config.lang.cPaySucceedTips),_react2["default"].createElement("div",{className:"pay_tradeInfo"},_react2["default"].createElement("p",{className:"pay_orderNo"},_react2["default"].createElement("span",null,_config.lang.cPayOrderNo),_react2["default"].createElement("span",{className:"orderNo"},isPrd?_storeState.payment._DNT:_storeState.payment.ordiNo))),_react2["default"].createElement("div",{className:"pay_operate"},_react2["default"].createElement("a",{className:"btn_normal btn_finish",onClick:this.handleClose},_config.lang.cPayFinish)))}}),module.exports=exports["default"]}]);